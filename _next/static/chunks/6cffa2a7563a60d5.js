(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,62438,(e,t,i)=>{"use strict";var n=e.r(91074);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e.r(64800)),r=e.r(44855);i.default=(0,a.default)((0,r.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People")},19391,(e,t,i)=>{"use strict";var n=e.r(91074);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e.r(64800)),r=e.r(44855);i.default=(0,a.default)((0,r.jsx)("path",{d:"M20 9V7c0-1.1-.9-2-2-2h-3c0-1.66-1.34-3-3-3S9 3.34 9 5H6c-1.1 0-2 .9-2 2v2c-1.66 0-3 1.34-3 3s1.34 3 3 3v4c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-4c1.66 0 3-1.34 3-3s-1.34-3-3-3M7.5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S9.83 13 9 13s-1.5-.67-1.5-1.5M16 17H8v-2h8zm-1-4c-.83 0-1.5-.67-1.5-1.5S14.17 10 15 10s1.5.67 1.5 1.5S15.83 13 15 13"}),"SmartToy")},12214,(e,t,i)=>{"use strict";var n=e.r(91074);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e.r(64800)),r=e.r(44855);i.default=(0,a.default)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},26712,(e,t,i)=>{"use strict";var n=e.r(91074);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e.r(64800)),r=e.r(44855);i.default=(0,a.default)((0,r.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert")},73208,(e,t,i)=>{"use strict";var n=e.r(91074);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e.r(64800)),r=e.r(44855);i.default=(0,a.default)([(0,r.jsx)("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"},"0"),(0,r.jsx)("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24"},"1")],"MenuBookOutlined")},62696,(e,t,i)=>{"use strict";var n=e.r(91074);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e.r(64800)),r=e.r(44855);i.default=(0,a.default)((0,r.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H8V4h12zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm12 6V9c0-.55-.45-1-1-1h-2v5h2c.55 0 1-.45 1-1m-2-3h1v3h-1zm4 2h1v-1h-1V9h1V8h-2v5h1zm-8 0h1c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1H9v5h1zm0-2h1v1h-1z"}),"PictureAsPdfOutlined")},59904,(e,t,i)=>{"use strict";var n=e.r(91074);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e.r(64800)),r=e.r(44855);i.default=(0,a.default)((0,r.jsx)("path",{d:"m10 16.5 6-4.5-6-4.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"PlayCircleOutline")},92080,(e,t,i)=>{"use strict";var n=e.r(91074);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e.r(64800)),r=e.r(44855);i.default=(0,a.default)((0,r.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf")},22617,(e,t,i)=>{"use strict";var n=e.r(91074);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e.r(64800)),r=e.r(44855);i.default=(0,a.default)((0,r.jsx)("path",{d:"M12 3 1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9zm6.82 6L12 12.72 5.18 9 12 5.28zM17 15.99l-5 2.73-5-2.73v-3.72L12 15l5-2.73z"}),"SchoolOutlined")},13109,(e,t,i)=>{"use strict";var n=e.r(91074);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e.r(64800)),r=e.r(44855);i.default=(0,a.default)((0,r.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList")},67453,(e,t,i)=>{"use strict";var n=e.r(91074);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e.r(64800)),r=e.r(44855);i.default=(0,a.default)((0,r.jsx)("path",{d:"m22 10-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99zm-7-4.5 5.5 5.5H15z"}),"Note")},25449,(e,t,i)=>{"use strict";var n=e.r(91074);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e.r(64800)),r=e.r(44855);i.default=(0,a.default)([(0,r.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,r.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"Schedule")},31862,(e,t,i)=>{"use strict";var n=e.r(91074);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e.r(64800)),r=e.r(44855);i.default=(0,a.default)((0,r.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment")},28097,(e,t,i)=>{"use strict";var n=e.r(91074);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e.r(64800)),r=e.r(44855);i.default=(0,a.default)((0,r.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd")},11500,e=>{"use strict";var t,i=e.i(44855),n=e.i(20887),a=e.i(58891),r=e.i(74614),l=e.i(32327),s=e.i(54385),o=e.i(65790),c=e.i(15915),d=e.i(72204),h=e.i(83378),u=e.i(70095),x=e.i(18394),p=e.i(62438),m=e.i(48177),y=e.i(69326),j=e.i(26849),g=e.i(19391),v=e.i(35134),f=e.i(33948),b=e.i(18295),C=e.i(92279),S=e.i(47379),T=e.i(75557),w=e.i(92378),k=e.i(15708),B=e.i(83161),P=e.i(47617),I=e.i(39972),A=e.i(20161),W=e.i(9109),E=e.i(83344),M=e.i(13654);function F({open:e,onClose:t}){let n=(0,E.useRouter)(),[r,l]=(0,a.useState)({name:"",email:"",company:"",phone:"",tier:"",notes:""}),[s,o]=(0,a.useState)(null),[d,h]=(0,a.useState)(!1),u=e=>t=>{l(i=>({...i,[e]:t.target.value})),o(null)},x=async()=>{if(!r.name||!r.email||!r.company)return void o("Please fill in all required fields (Name, Email, Company)");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email))return void o("Please enter a valid email address");h(!0),o(null);try{let e=(0,M.getBackendUrl)(),i=await fetch(`${e}/api/creative/clients`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:r.name,email:r.email,company:r.company,phone:r.phone||void 0,tier:r.tier||void 0,notes:r.notes||void 0,status:"pending"})});if(!i.ok){let e=await i.json().catch(()=>({error:"Failed to create client"}));throw Error(e.error||"Failed to create client")}if(t(),r.tier){let e=new URLSearchParams({name:r.name,email:r.email,company:r.company,tier:r.tier});n.push(`/demo?${e.toString()}`)}else window.location.reload();l({name:"",email:"",company:"",phone:"",tier:"",notes:""})}catch(e){o(e.message||"Failed to add client. Please try again.")}finally{h(!1)}},p=()=>{l({name:"",email:"",company:"",phone:"",tier:"",notes:""}),o(null),t()};return(0,i.jsxs)(f.Dialog,{open:e,onClose:p,maxWidth:"sm",fullWidth:!0,children:[(0,i.jsxs)(b.DialogTitle,{children:[(0,i.jsx)(c.Typography,{variant:"h6",fontWeight:700,children:"Add New Client"}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:"Add a client lead and send them to the sign-up page"})]}),(0,i.jsx)(C.DialogContent,{children:(0,i.jsxs)(k.Stack,{spacing:3,sx:{mt:1},children:[s&&(0,i.jsx)(W.Alert,{severity:"error",onClose:()=>o(null),children:s}),(0,i.jsx)(w.TextField,{fullWidth:!0,label:"Client Name",required:!0,value:r.name,onChange:u("name"),placeholder:"John Doe"}),(0,i.jsx)(w.TextField,{fullWidth:!0,label:"Email Address",type:"email",required:!0,value:r.email,onChange:u("email"),placeholder:"john@company.com"}),(0,i.jsx)(w.TextField,{fullWidth:!0,label:"Company Name",required:!0,value:r.company,onChange:u("company"),placeholder:"Company Inc."}),(0,i.jsx)(w.TextField,{fullWidth:!0,label:"Phone Number",type:"tel",value:r.phone,onChange:u("phone"),placeholder:"+1 (555) 123-4567"}),(0,i.jsxs)(B.FormControl,{fullWidth:!0,children:[(0,i.jsx)(P.InputLabel,{children:"Recommended Tier"}),(0,i.jsxs)(I.Select,{value:r.tier,label:"Recommended Tier",onChange:e=>{l(t=>({...t,tier:e.target.value}))},children:[(0,i.jsx)(A.MenuItem,{value:"",children:"None"}),(0,i.jsx)(A.MenuItem,{value:"starter",children:"Starter"}),(0,i.jsx)(A.MenuItem,{value:"professional",children:"Professional"}),(0,i.jsx)(A.MenuItem,{value:"enterprise",children:"Enterprise"})]})]}),(0,i.jsx)(w.TextField,{fullWidth:!0,label:"Notes (Optional)",multiline:!0,rows:3,value:r.notes,onChange:u("notes"),placeholder:"Any additional information about this client..."})]})}),(0,i.jsxs)(S.DialogActions,{sx:{p:2},children:[(0,i.jsx)(T.Button,{onClick:p,children:"Cancel"}),(0,i.jsx)(T.Button,{variant:"contained",onClick:x,disabled:d,children:d?"Sending...":"Send to Sign-Up"})]})]})}var z=e.i(37025),D=e.i(54704),N=e.i(45680),O=e.i(24918);function R(){let[e,t]=(0,a.useState)("all"),[n,l]=(0,a.useState)([]),[s,d]=(0,a.useState)(!1),[h,u]=(0,a.useState)(!0),[x,p]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{let e=(0,M.getBackendUrl)(),t=await fetch(`${e}/api/creative/clients`,{credentials:"include"});if(t.ok){let e=await t.json();l(e.clients||[])}}catch(e){console.error("Error fetching clients:",e)}finally{u(!1)}})()},[]);let y=async()=>{d(!0);try{await new Promise(e=>setTimeout(e,2e3)),p(new Date)}catch(e){console.error("Failed to sync analytics:",e)}finally{d(!1)}};return(0,i.jsxs)(r.Box,{children:[(0,i.jsxs)(k.Stack,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:3},children:[(0,i.jsxs)(r.Box,{children:[(0,i.jsx)(c.Typography,{variant:"h5",fontWeight:700,gutterBottom:!0,children:"Analytics & Activity"}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:"Track client usage, activity, and system analytics with Google Analytics integration"})]}),(0,i.jsxs)(k.Stack,{direction:"row",spacing:2,children:[(0,i.jsx)(T.Button,{variant:"outlined",startIcon:(0,i.jsx)(O.default,{}),onClick:y,disabled:s,children:s?(0,i.jsx)(z.CircularProgress,{size:20}):"Sync Analytics"}),(0,i.jsx)(T.Button,{variant:"contained",startIcon:(0,i.jsx)(N.default,{}),onClick:()=>{console.log("Exporting analytics report...")},children:"Export Report"})]})]}),x&&(0,i.jsxs)(W.Alert,{severity:"success",sx:{mb:3},children:["Last synced: ",x.toLocaleString()]}),(0,i.jsxs)(W.Alert,{severity:"info",sx:{mb:3},children:[(0,i.jsx)(c.Typography,{variant:"body2",fontWeight:600,gutterBottom:!0,children:"Google Analytics Integration"}),(0,i.jsx)(c.Typography,{variant:"body2",children:"Connect your Google Analytics account to import project data for clients. Analytics data will be automatically synced and displayed here."}),(0,i.jsx)(T.Button,{size:"small",variant:"outlined",sx:{mt:1},onClick:()=>{console.log("Connect Google Analytics")},children:"Connect Google Analytics"})]}),(0,i.jsx)(o.Paper,{sx:{p:2,mb:3},children:(0,i.jsxs)(B.FormControl,{fullWidth:!0,children:[(0,i.jsx)(P.InputLabel,{children:"Select Client"}),(0,i.jsxs)(I.Select,{value:e,label:"Select Client",onChange:e=>t(e.target.value),disabled:h,children:[(0,i.jsx)(A.MenuItem,{value:"all",children:"All Clients"}),n.map(e=>(0,i.jsx)(A.MenuItem,{value:e.id,children:e.company||e.name},e.id))]})]})}),(0,i.jsxs)(D.Grid,{container:!0,spacing:3,children:[(0,i.jsx)(D.Grid,{item:!0,xs:12,md:4,children:(0,i.jsxs)(o.Paper,{sx:{p:3,textAlign:"center"},children:[(0,i.jsx)(m.default,{sx:{fontSize:40,color:"primary.main",mb:1}}),(0,i.jsx)(c.Typography,{variant:"h4",fontWeight:700,children:"--"}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:"Total Sessions"})]})}),(0,i.jsx)(D.Grid,{item:!0,xs:12,md:4,children:(0,i.jsxs)(o.Paper,{sx:{p:3,textAlign:"center"},children:[(0,i.jsx)(m.default,{sx:{fontSize:40,color:"success.main",mb:1}}),(0,i.jsx)(c.Typography,{variant:"h4",fontWeight:700,children:"--"}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:"Active Users"})]})}),(0,i.jsx)(D.Grid,{item:!0,xs:12,md:4,children:(0,i.jsxs)(o.Paper,{sx:{p:3,textAlign:"center"},children:[(0,i.jsx)(m.default,{sx:{fontSize:40,color:"warning.main",mb:1}}),(0,i.jsx)(c.Typography,{variant:"h4",fontWeight:700,children:"--"}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:"Page Views"})]})})]}),(0,i.jsxs)(o.Paper,{sx:{p:3,mt:3},children:[(0,i.jsx)(c.Typography,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Recent Activity"}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:"Activity logs will appear here once Google Analytics is connected and synced."})]})]})}var $=e.i(1051),U=e.i(94367),L=e.i(87225),_=e.i(33932),q=e.i(63104),H=e.i(7656),V=e.i(50723),G=e.i(86012),J=e.i(63640),K=e.i(34699),Y=e.i(12214),Q=e.i(95532),X=e.i(26712),Z=e.i(92297);function ee(){let[e,t]=(0,a.useState)([]),[n,l]=(0,a.useState)([]),[s,d]=(0,a.useState)(!0),[h,u]=(0,a.useState)(null),[x,p]=(0,a.useState)(null),[m,y]=(0,a.useState)(!1),[j,g]=(0,a.useState)(null),[v,E]=(0,a.useState)(null),[F,z]=(0,a.useState)(null),[D,N]=(0,a.useState)(null),[O,R]=(0,a.useState)(null),[ee,et]=(0,a.useState)({client:"",subject:"",description:"",priority:"medium"}),[ei,en]=(0,a.useState)({subject:"",description:"",priority:"medium",status:"open"});(0,a.useEffect)(()=>{er(),ea()},[]);let ea=async()=>{try{let e=(0,M.getBackendUrl)(),t=await fetch(`${e}/api/creative/clients`,{credentials:"include"});if(t.ok){let e=await t.json();l(e.clients||[])}}catch(e){console.error("Error fetching clients:",e)}},er=async()=>{d(!0),u(null);try{let e=(0,M.getBackendUrl)(),i=await fetch(`${e}/api/creative/support-requests`,{credentials:"include"});if(!i.ok)throw Error("Failed to fetch support requests");let n=await i.json();t(n.requests||[])}catch(e){console.error("Error fetching support requests:",e),u(e.message||"Failed to load support requests"),t([])}finally{d(!1)}},el=async()=>{if(!v||!ei.subject||!ei.description)return void u("Subject and description are required");d(!0),u(null);try{let i=(0,M.getBackendUrl)(),n=await fetch(`${i}/api/creative/support-requests/${v.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({subject:ei.subject,description:ei.description,priority:ei.priority,status:ei.status})});if(!n.ok)throw Error("Failed to update support request");let a=await n.json();t(e.map(e=>e.id===v.id?a:e)),E(null),en({subject:"",description:"",priority:"medium",status:"open"}),y(!1)}catch(e){console.error("Error updating support request:",e),u(e.message||"Failed to update support request")}finally{d(!1)}},es=async()=>{if(!ee.subject||!ee.description)return void u("Subject and description are required");d(!0),u(null);try{let i=(0,M.getBackendUrl)(),n=await fetch(`${i}/api/creative/support-requests`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({client:F?F.company||F.name:ee.client,client_id:F?.id,subject:ee.subject,description:ee.description,priority:ee.priority})});if(!n.ok){let e=await n.json().catch(()=>({error:"Failed to create support request"}));throw Error(e.error||e.details||"Failed to create support request")}let a=await n.json();t([a,...e]),p("Support request created successfully"),et({client:"",subject:"",description:"",priority:"medium"}),z(null),y(!1),setTimeout(()=>p(null),3e3)}catch(e){console.error("Error creating support request:",e),u(e.message||"Failed to create support request")}finally{d(!1)}},eo=e=>{switch(e){case"resolved":return"success";case"in-progress":return"warning";default:return"default"}},ec=e=>{switch(e){case"high":return"error";case"medium":return"warning";default:return"default"}};return(0,i.jsxs)(r.Box,{children:[x&&(0,i.jsx)(W.Alert,{severity:"success",onClose:()=>p(null),sx:{mb:2},children:x}),h&&(0,i.jsx)(W.Alert,{severity:"error",onClose:()=>u(null),sx:{mb:2},children:h}),(0,i.jsxs)(k.Stack,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:3},children:[(0,i.jsxs)(r.Box,{children:[(0,i.jsx)(c.Typography,{variant:"h5",fontWeight:700,gutterBottom:!0,children:"iShareHow Support Requests"}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:"Manage and track support requests from clients"})]}),(0,i.jsx)(T.Button,{variant:"contained",startIcon:(0,i.jsx)(K.default,{}),onClick:()=>{g(null),y(!0)},children:"New Request"})]}),(0,i.jsx)(q.TableContainer,{component:o.Paper,children:(0,i.jsxs)(U.Table,{children:[(0,i.jsx)(H.TableHead,{children:(0,i.jsxs)(V.TableRow,{children:[(0,i.jsx)(_.TableCell,{sx:{fontWeight:700},children:"Client"}),(0,i.jsx)(_.TableCell,{sx:{fontWeight:700},children:"Subject"}),(0,i.jsx)(_.TableCell,{sx:{fontWeight:700},children:"Status"}),(0,i.jsx)(_.TableCell,{sx:{fontWeight:700},children:"Priority"}),(0,i.jsx)(_.TableCell,{sx:{fontWeight:700},children:"Created"}),(0,i.jsx)(_.TableCell,{sx:{fontWeight:700},align:"right",children:"Actions"})]})}),(0,i.jsx)(L.TableBody,{children:0===e.length?(0,i.jsx)(V.TableRow,{children:(0,i.jsx)(_.TableCell,{colSpan:6,align:"center",sx:{py:4},children:(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:"No support requests yet."})})}):e.map(e=>(0,i.jsxs)(V.TableRow,{hover:!0,children:[(0,i.jsx)(_.TableCell,{children:e.client}),(0,i.jsx)(_.TableCell,{children:e.subject}),(0,i.jsx)(_.TableCell,{children:(0,i.jsx)($.Chip,{label:e.status,size:"small",color:eo(e.status)})}),(0,i.jsx)(_.TableCell,{children:(0,i.jsx)($.Chip,{label:e.priority,size:"small",color:ec(e.priority)})}),(0,i.jsx)(_.TableCell,{children:new Date(e.createdAt).toLocaleDateString()}),(0,i.jsx)(_.TableCell,{align:"right",children:(0,i.jsx)(G.IconButton,{size:"small",onClick:t=>{var i;return i=e.id,void(t.stopPropagation(),N(t.currentTarget),R(i))},children:(0,i.jsx)(X.default,{})})})]},e.id))})]})}),(0,i.jsxs)(Z.Menu,{anchorEl:D,open:!!D,onClose:()=>{N(null),R(null)},children:[(0,i.jsxs)(A.MenuItem,{onClick:()=>{let t=e.find(e=>e.id===O);t&&(g(t),E(null),y(!0))},children:[(0,i.jsx)(Y.default,{sx:{mr:1,fontSize:20}}),"View Details"]}),(0,i.jsxs)(A.MenuItem,{onClick:()=>{let t=e.find(e=>e.id===O);t&&(E(t),g(null),en({subject:t.subject,description:t.description,priority:t.priority,status:t.status}),y(!0),N(null),R(null))},children:[(0,i.jsx)(Q.default,{sx:{mr:1,fontSize:20}}),"Edit"]})]}),(0,i.jsxs)(f.Dialog,{open:m,onClose:()=>{y(!1),g(null),E(null),z(null),et({client:"",subject:"",description:"",priority:"medium"}),en({subject:"",description:"",priority:"medium",status:"open"})},maxWidth:"md",fullWidth:!0,children:[(0,i.jsx)(b.DialogTitle,{children:j?"Support Request Details":v?"Edit Support Request":"Create Support Request"}),(0,i.jsx)(C.DialogContent,{children:v?(0,i.jsxs)(k.Stack,{spacing:3,sx:{mt:1},children:[(0,i.jsx)(w.TextField,{fullWidth:!0,label:"Subject",value:ei.subject,onChange:e=>en({...ei,subject:e.target.value})}),(0,i.jsx)(w.TextField,{fullWidth:!0,label:"Description",multiline:!0,rows:4,value:ei.description,onChange:e=>en({...ei,description:e.target.value})}),(0,i.jsxs)(B.FormControl,{fullWidth:!0,children:[(0,i.jsx)(P.InputLabel,{children:"Priority"}),(0,i.jsxs)(I.Select,{value:ei.priority,label:"Priority",onChange:e=>en({...ei,priority:e.target.value}),children:[(0,i.jsx)(A.MenuItem,{value:"low",children:"Low"}),(0,i.jsx)(A.MenuItem,{value:"medium",children:"Medium"}),(0,i.jsx)(A.MenuItem,{value:"high",children:"High"})]})]}),(0,i.jsxs)(B.FormControl,{fullWidth:!0,children:[(0,i.jsx)(P.InputLabel,{children:"Status"}),(0,i.jsxs)(I.Select,{value:ei.status,label:"Status",onChange:e=>en({...ei,status:e.target.value}),children:[(0,i.jsx)(A.MenuItem,{value:"open",children:"Open"}),(0,i.jsx)(A.MenuItem,{value:"in-progress",children:"In Progress"}),(0,i.jsx)(A.MenuItem,{value:"resolved",children:"Resolved"})]})]})]}):j?(0,i.jsx)(r.Box,{children:(0,i.jsxs)(k.Stack,{spacing:2,sx:{mt:1},children:[(0,i.jsxs)(r.Box,{children:[(0,i.jsx)(c.Typography,{variant:"subtitle2",color:"text.secondary",children:"Client"}),(0,i.jsx)(c.Typography,{variant:"body1",children:j.client})]}),(0,i.jsxs)(r.Box,{children:[(0,i.jsx)(c.Typography,{variant:"subtitle2",color:"text.secondary",children:"Subject"}),(0,i.jsx)(c.Typography,{variant:"body1",children:j.subject})]}),(0,i.jsxs)(r.Box,{children:[(0,i.jsx)(c.Typography,{variant:"subtitle2",color:"text.secondary",children:"Description"}),(0,i.jsx)(c.Typography,{variant:"body1",children:j.description})]}),(0,i.jsxs)(k.Stack,{direction:"row",spacing:2,children:[(0,i.jsxs)(r.Box,{children:[(0,i.jsx)(c.Typography,{variant:"subtitle2",color:"text.secondary",children:"Status"}),(0,i.jsx)($.Chip,{label:j.status,color:eo(j.status)})]}),(0,i.jsxs)(r.Box,{children:[(0,i.jsx)(c.Typography,{variant:"subtitle2",color:"text.secondary",children:"Priority"}),(0,i.jsx)($.Chip,{label:j.priority,color:ec(j.priority)})]})]})]})}):(0,i.jsxs)(k.Stack,{spacing:3,sx:{mt:1},children:[(0,i.jsx)(J.Autocomplete,{fullWidth:!0,options:n,getOptionLabel:e=>e.company||e.name||"",value:F,onChange:(e,t)=>{z(t),et({...ee,client:t?t.company||t.name:""})},renderInput:e=>(0,i.jsx)(w.TextField,{...e,label:"Client",placeholder:"Select a client..."}),renderOption:(e,t)=>(0,i.jsx)(r.Box,{component:"li",...e,children:(0,i.jsxs)(k.Stack,{children:[(0,i.jsx)(c.Typography,{variant:"body1",children:t.company||t.name}),(0,i.jsx)(c.Typography,{variant:"caption",color:"text.secondary",children:t.email})]})})}),(0,i.jsx)(w.TextField,{fullWidth:!0,label:"Subject",value:ee.subject,onChange:e=>et({...ee,subject:e.target.value})}),(0,i.jsx)(w.TextField,{fullWidth:!0,label:"Description",multiline:!0,rows:4,value:ee.description,onChange:e=>et({...ee,description:e.target.value})}),(0,i.jsxs)(B.FormControl,{fullWidth:!0,children:[(0,i.jsx)(P.InputLabel,{children:"Priority"}),(0,i.jsxs)(I.Select,{value:ee.priority,label:"Priority",onChange:e=>et({...ee,priority:e.target.value}),children:[(0,i.jsx)(A.MenuItem,{value:"low",children:"Low"}),(0,i.jsx)(A.MenuItem,{value:"medium",children:"Medium"}),(0,i.jsx)(A.MenuItem,{value:"high",children:"High"})]})]})]})}),(0,i.jsxs)(S.DialogActions,{children:[(0,i.jsx)(T.Button,{onClick:()=>{y(!1),g(null),E(null),z(null),et({client:"",subject:"",description:"",priority:"medium"}),en({subject:"",description:"",priority:"medium",status:"open"})},children:j?"Close":"Cancel"}),v?(0,i.jsx)(T.Button,{variant:"contained",onClick:el,children:"Update Request"}):!j&&(0,i.jsx)(T.Button,{variant:"contained",onClick:es,children:"Create Request"})]})]})]})}var et=e.i(45162),ei=e.i(3430),en=e.i(62555),ea=e.i(98721),er=e.i(72695),el=e.i(7065);function es({title:e,value:t,subtitle:n,progress:a,icon:l,color:s="primary"}){return(0,h.useTheme)(),(0,i.jsx)(et.Card,{className:"dashboard-card metric-card",sx:{height:"100%"},children:(0,i.jsxs)(ei.CardContent,{sx:{p:3},children:[(0,i.jsxs)(r.Box,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",mb:2},children:[(0,i.jsxs)(r.Box,{sx:{flex:1},children:[(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:e}),(0,i.jsx)(c.Typography,{variant:"h4",fontWeight:700,sx:{mb:1},children:t}),n&&(0,i.jsx)(c.Typography,{variant:"caption",color:"text.secondary",children:n})]}),(0,i.jsx)(r.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:56,height:56,borderRadius:"50%",bgcolor:`${s}.main`,color:"white"},children:l})]}),void 0!==a&&(0,i.jsxs)(r.Box,{sx:{mt:2},children:[(0,i.jsx)(en.LinearProgress,{variant:"determinate",value:a,sx:{height:8,borderRadius:4,bgcolor:"action.disabledBackground","& .MuiLinearProgress-bar":{borderRadius:4}}}),(0,i.jsxs)(c.Typography,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:[a,"% complete"]})]})]})})}function eo({metrics:e}){let t={clients:0,projects:0,tasks:0,completion:0,...e};return(0,i.jsxs)(r.Box,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)"},gap:2,mb:3},children:[(0,i.jsx)(es,{title:"Active Clients",value:t.clients||0,subtitle:"This month",icon:(0,i.jsx)(p.default,{}),color:"primary"}),(0,i.jsx)(es,{title:"Projects",value:t.projects||0,subtitle:"In progress",icon:(0,i.jsx)(ea.default,{}),color:"info"}),(0,i.jsx)(es,{title:"Tasks",value:t.tasks||0,subtitle:"Completed today",icon:(0,i.jsx)(er.default,{}),color:"success"}),(0,i.jsx)(es,{title:"Progress",value:`${t.completion||0}%`,subtitle:"Overall completion",progress:t.completion||0,icon:(0,i.jsx)(el.default,{}),color:"warning"})]})}var ec=e.i(62992),ed=e.i(10251),eh=e.i(73208),eu=e.i(62696),ex=e.i(59904),ep=e.i(92080),em=e.i(22617),ey=e.i(53251),ej=e.i(13109),eg=e.i(10600),ev=e.i(67453);let ef=[{id:"video-1",title:"Learning Hub Video Classes",description:"A comprehensive collection of video classes covering various topics and learning paths.",instructor:"iShareHow",duration:"Playlist",level:"Beginner",category:"General",videoUrl:"https://www.youtube.com/embed/videoseries?list=PLwyVPJ9qE2K-g5CQgIYtOfnrfl7ebWRkp",uploadDate:new Date().toISOString().split("T")[0]},{id:"course-1",title:"Introduction to Ai Development",description:"Learn the fundamentals of AI development including machine learning, neural networks, and data processing basics.",instructor:"iShareHow",duration:"Self Paced",level:"Beginner",category:"AI Development",videoUrl:"https://www.youtube.com/playlist?list=PLwyVPJ9qE2K8vj0Wfb4rxAmZntkysHPlE",uploadDate:new Date().toISOString().split("T")[0]}],eb=[{id:"pdf-1",title:"Complete JavaScript Guide",description:"Comprehensive guide covering JavaScript fundamentals, ES6+, and modern best practices.",category:"Programming",url:"/resources/javascript-guide.pdf",fileSize:"2.4 MB",pages:145,uploadDate:"2024-01-15"}],eC=({content:e,onClick:t})=>(0,i.jsxs)(et.Card,{variant:"outlined",onClick:t,sx:{borderRadius:3,height:"100%",p:3,borderColor:"divider",display:"flex",flexDirection:"column",gap:2,transition:"transform 0.2s, box-shadow 0.2s",cursor:"pointer","&:hover":{transform:"translateY(-4px)",boxShadow:4}},children:[e.videoUrl?(0,i.jsx)(r.Box,{sx:{position:"relative",width:"100%",paddingTop:"56.25%",borderRadius:2,overflow:"hidden",bgcolor:"grey.200"},children:(0,i.jsx)("iframe",{src:e.videoUrl,title:e.title,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:0},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):e.thumbnail?(0,i.jsx)(r.Box,{component:"img",src:e.thumbnail,alt:e.title,sx:{width:"100%",height:160,objectFit:"cover",borderRadius:2}}):(0,i.jsx)(r.Box,{sx:{width:"100%",height:160,borderRadius:2,bgcolor:"primary.light",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(ex.default,{sx:{fontSize:64,color:"primary.main"}})}),(0,i.jsxs)(k.Stack,{direction:"row",spacing:1,alignItems:"center",children:[(0,i.jsx)($.Chip,{label:e.level,size:"small",color:"Advanced"===e.level?"secondary":"Intermediate"===e.level?"default":"primary",sx:{fontWeight:600}}),e.lessons&&(0,i.jsxs)(c.Typography,{variant:"body2",color:"text.secondary",children:[e.lessons," lessons"]})]}),(0,i.jsxs)(r.Box,{children:[(0,i.jsx)(c.Typography,{variant:"h6",sx:{fontWeight:700,mb:1},children:e.title}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",sx:{mb:1},children:e.description}),(0,i.jsxs)(c.Typography,{variant:"caption",color:"text.secondary",children:["By ",e.instructor," · ",e.duration]})]}),(0,i.jsx)(ed.Divider,{}),(0,i.jsx)(T.Button,{variant:"contained",color:"primary",startIcon:(0,i.jsx)(ex.default,{}),sx:{textTransform:"none",fontWeight:700,mt:"auto"},onClick:e=>{e.stopPropagation(),t()},children:e.videoUrl?"Watch Class":"Start Course"})]}),eS=({pdf:e})=>(0,i.jsxs)(et.Card,{variant:"outlined",sx:{borderRadius:3,p:3,borderColor:"divider",display:"flex",gap:2,flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-2px)",boxShadow:2}},children:[(0,i.jsxs)(k.Stack,{direction:"row",spacing:2,sx:{flexGrow:1},children:[(0,i.jsx)(ec.Avatar,{variant:"rounded",sx:{bgcolor:"error.light",color:"error.main",width:56,height:56},children:(0,i.jsx)(ep.default,{fontSize:"large"})}),(0,i.jsxs)(k.Stack,{spacing:1,sx:{flexGrow:1},children:[(0,i.jsxs)(k.Stack,{direction:"row",spacing:1,alignItems:"center",children:[(0,i.jsx)($.Chip,{label:e.category,size:"small",color:"primary",sx:{fontWeight:600}}),(0,i.jsx)(c.Typography,{variant:"caption",color:"text.secondary",children:e.fileSize}),e.pages&&(0,i.jsxs)(c.Typography,{variant:"caption",color:"text.secondary",children:["· ",e.pages," pages"]})]}),(0,i.jsx)(c.Typography,{variant:"h6",sx:{fontWeight:700},children:e.title}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:e.description}),(0,i.jsxs)(c.Typography,{variant:"caption",color:"text.secondary",children:["Uploaded ",new Date(e.uploadDate).toLocaleDateString()]})]})]}),(0,i.jsxs)(k.Stack,{direction:"row",spacing:1,children:[(0,i.jsx)(T.Button,{href:e.url,target:"_blank",rel:"noopener noreferrer",variant:"outlined",color:"primary",startIcon:(0,i.jsx)(ey.default,{}),sx:{textTransform:"none",fontWeight:700},children:"View"}),(0,i.jsx)(T.Button,{href:e.url,download:!0,variant:"outlined",color:"primary",startIcon:(0,i.jsx)(N.default,{}),sx:{textTransform:"none",fontWeight:700},children:"Download"})]})]});function eT(e){let{children:t,value:n,index:a,...l}=e;return(0,i.jsx)("div",{role:"tabpanel",hidden:n!==a,id:`learning-tabpanel-${a}`,"aria-labelledby":`learning-tab-${a}`,...l,children:n===a&&(0,i.jsx)(r.Box,{sx:{pt:3},children:t})})}function ew(){let[e,t]=(0,a.useState)(0),[n,d]=(0,a.useState)(null),[h,u]=(0,a.useState)({});(0,a.useEffect)(()=>{let e=localStorage.getItem("learningHubNotes");if(e)try{u(JSON.parse(e))}catch(e){console.error("Failed to load notes:",e)}},[]),(0,a.useEffect)(()=>{(Object.keys(h).length>0||localStorage.getItem("learningHubNotes"))&&localStorage.setItem("learningHubNotes",JSON.stringify(h))},[h]);let x=()=>{d(null)};return(0,i.jsxs)(r.Box,{sx:{height:"100%",overflow:"auto",p:{xs:2,sm:3}},children:[(0,i.jsxs)(k.Stack,{spacing:4,children:[(0,i.jsxs)(r.Box,{children:[(0,i.jsx)($.Chip,{label:"Learning Hub",color:"primary",icon:(0,i.jsx)(em.default,{fontSize:"small"}),sx:{fontWeight:700,mb:2,alignSelf:"flex-start"}}),(0,i.jsx)(c.Typography,{variant:"h4",sx:{fontWeight:900,mb:2,background:"linear-gradient(90deg, #22D3EE, #6366F1)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Your Learning Hub"}),(0,i.jsx)(c.Typography,{variant:"body1",color:"text.secondary",sx:{maxWidth:720},children:"Access your courses and video classes all in one place. Click any class to watch in a larger view and take notes."})]}),(0,i.jsx)(r.Box,{sx:{borderBottom:1,borderColor:"divider"},children:(0,i.jsxs)(l.Tabs,{value:e,onChange:(e,i)=>{t(i)},"aria-label":"learning content tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,i.jsx)(s.Tab,{icon:(0,i.jsx)(eh.default,{}),iconPosition:"start",label:"Courses & Classes",sx:{textTransform:"none",fontWeight:600}}),(0,i.jsx)(s.Tab,{icon:(0,i.jsx)(eu.default,{}),iconPosition:"start",label:"PDFs",sx:{textTransform:"none",fontWeight:600}})]})}),(0,i.jsx)(eT,{value:e,index:0,children:(0,i.jsxs)(k.Stack,{spacing:3,children:[(0,i.jsxs)(k.Stack,{direction:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",md:"center"},children:[(0,i.jsxs)(r.Box,{children:[(0,i.jsx)(c.Typography,{variant:"h5",sx:{fontWeight:800,mb:1},children:"My Courses & Classes"}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:"Click any course or class to watch videos in a larger view and take notes."})]}),(0,i.jsx)(T.Button,{variant:"outlined",color:"primary",startIcon:(0,i.jsx)(ej.default,{}),sx:{textTransform:"none",fontWeight:600},children:"Filter"})]}),(0,i.jsx)(D.Grid,{container:!0,spacing:3,children:ef.map(e=>(0,i.jsx)(D.Grid,{item:!0,xs:12,md:4,children:(0,i.jsx)(eC,{content:e,onClick:()=>{d(e),h[e.id]||u(t=>({...t,[e.id]:""}))}})},e.id))})]})}),(0,i.jsx)(eT,{value:e,index:1,children:(0,i.jsxs)(k.Stack,{spacing:3,children:[(0,i.jsxs)(k.Stack,{direction:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",md:"center"},children:[(0,i.jsxs)(r.Box,{children:[(0,i.jsx)(c.Typography,{variant:"h5",sx:{fontWeight:800,mb:1},children:"PDF Resources"}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:"Downloadable guides, references, and study materials to supplement your learning."})]}),(0,i.jsx)(T.Button,{variant:"outlined",color:"primary",startIcon:(0,i.jsx)(ej.default,{}),sx:{textTransform:"none",fontWeight:600},children:"Filter"})]}),(0,i.jsx)(k.Stack,{spacing:2,children:eb.map(e=>(0,i.jsx)(eS,{pdf:e},e.id))})]})})]}),(0,i.jsx)(f.Dialog,{open:!!n,onClose:x,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{height:"90vh",maxHeight:"90vh"}},children:n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b.DialogTitle,{children:(0,i.jsxs)(k.Stack,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,i.jsxs)(r.Box,{children:[(0,i.jsx)(c.Typography,{variant:"h5",sx:{fontWeight:700},children:n.title}),(0,i.jsxs)(c.Typography,{variant:"body2",color:"text.secondary",children:["By ",n.instructor," · ",n.duration]})]}),(0,i.jsx)(G.IconButton,{onClick:x,children:(0,i.jsx)(eg.default,{})})]})}),(0,i.jsx)(C.DialogContent,{dividers:!0,children:(0,i.jsxs)(D.Grid,{container:!0,spacing:3,sx:{height:"calc(90vh - 120px)"},children:[(0,i.jsxs)(D.Grid,{item:!0,xs:12,md:8,children:[(0,i.jsx)(r.Box,{sx:{position:"relative",width:"100%",paddingTop:"56.25%",borderRadius:2,overflow:"hidden",bgcolor:"grey.200",mb:2},children:n.videoUrl?(0,i.jsx)("iframe",{src:n.videoUrl,title:n.title,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:0},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):(0,i.jsx)(r.Box,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.light"},children:(0,i.jsx)(ex.default,{sx:{fontSize:80,color:"primary.main"}})})}),(0,i.jsxs)(r.Box,{children:[(0,i.jsxs)(c.Typography,{variant:"h6",sx:{fontWeight:700,mb:1},children:["About This ",n.videoUrl?"Class":"Course"]}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:n.description}),(0,i.jsxs)(k.Stack,{direction:"row",spacing:1,sx:{mt:2},children:[(0,i.jsx)($.Chip,{label:n.level,size:"small",color:"Advanced"===n.level?"secondary":"Intermediate"===n.level?"default":"primary"}),(0,i.jsx)($.Chip,{label:n.category,size:"small",variant:"outlined"})]})]})]}),(0,i.jsx)(D.Grid,{item:!0,xs:12,md:4,children:(0,i.jsxs)(o.Paper,{elevation:2,sx:{height:"100%",display:"flex",flexDirection:"column",p:2},children:[(0,i.jsxs)(k.Stack,{direction:"row",spacing:1,alignItems:"center",sx:{mb:2},children:[(0,i.jsx)(ev.default,{color:"primary"}),(0,i.jsx)(c.Typography,{variant:"h6",sx:{fontWeight:700},children:"My Notes"})]}),(0,i.jsx)(w.TextField,{multiline:!0,fullWidth:!0,rows:20,placeholder:"Take notes while watching...",value:h[n.id]||"",onChange:e=>{var t,i;return t=n.id,i=e.target.value,void u(e=>({...e,[t]:i}))},variant:"outlined",sx:{flexGrow:1,"& .MuiInputBase-root":{height:"100%",alignItems:"flex-start"},"& textarea":{height:"100% !important",overflow:"auto !important"}}})]})})]})})]})})]})}var ek=e.i(94544),eB=e.i(1911),eP=e.i(25449),eI=e.i(5385);function eA(){let{settings:e}=(0,eI.useSettings)(),[t,n]=(0,a.useState)([]),[l,s]=(0,a.useState)(null),[d,h]=(0,a.useState)(!1),[u,x]=(0,a.useState)(""),[p,m]=(0,a.useState)(""),[y,j]=(0,a.useState)(null),[v,f]=(0,a.useState)(null),[b,C]=(0,a.useState)("");(0,a.useEffect)(()=>{C(e.apiKeys?.revidApiKey||"")},[e.apiKeys]),(0,a.useEffect)(()=>{let e=localStorage.getItem("ai_agent_content");if(e)try{n(JSON.parse(e))}catch(e){console.error("Error loading content items:",e)}},[]);let S=e=>{localStorage.setItem("ai_agent_content",JSON.stringify(e)),n(e)},B=()=>{s(null),x(""),m(""),h(!0),j(null)},P=async e=>{if(!b)return void j("Revid.ai API key is required. Please add it in Settings.");j(null),f("Generating video... This may take a few minutes.");try{let i=await fetch("https://api.revid.ai/v1/generate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({script:e.content,title:e.title})});if(!i.ok)throw Error("Failed to generate video");await i.json();let n=t.map(t=>t.id===e.id?{...t,lastUsed:new Date().toISOString()}:t);S(n),f("Video generated successfully! Check your Revid.ai dashboard."),setTimeout(()=>f(null),5e3)}catch(e){j(e.message||"Failed to generate video. Please check your API key and try again."),f(null)}};return(0,i.jsxs)(r.Box,{sx:{p:3,height:"100%",overflow:"auto"},children:[(0,i.jsxs)(k.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,i.jsx)(g.default,{sx:{fontSize:32,color:"primary.main"}}),(0,i.jsx)(c.Typography,{variant:"h5",sx:{fontWeight:700},children:"AI Agent Content Manager"})]}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Create and manage content for your AI agent to automatically generate and post videos daily. Add your Revid.ai API key in Settings to enable video generation."}),!b&&(0,i.jsx)(W.Alert,{severity:"warning",sx:{mb:3},children:"Revid.ai API key not configured. Please add it in Settings to enable video generation."}),v&&(0,i.jsx)(W.Alert,{severity:"success",sx:{mb:2},onClose:()=>f(null),children:v}),y&&(0,i.jsx)(W.Alert,{severity:"error",sx:{mb:2},onClose:()=>j(null),children:y}),d?(0,i.jsxs)(o.Paper,{sx:{p:3},children:[(0,i.jsx)(c.Typography,{variant:"h6",sx:{mb:2},children:l?"Edit Content":"Add New Content"}),(0,i.jsxs)(k.Stack,{spacing:2,children:[(0,i.jsx)(w.TextField,{fullWidth:!0,label:"Title",value:u,onChange:e=>x(e.target.value),placeholder:"Enter content title",required:!0}),(0,i.jsx)(w.TextField,{fullWidth:!0,label:"Content",value:p,onChange:e=>m(e.target.value),placeholder:"Enter the content/script for your AI agent to use",multiline:!0,rows:8,required:!0}),(0,i.jsxs)(k.Stack,{direction:"row",spacing:2,children:[(0,i.jsx)(T.Button,{variant:"contained",onClick:()=>{if(!u.trim()||!p.trim())return void j("Title and content are required");if(!b)return void j("Revid.ai API key is required. Please add it in Settings.");let e=l?{...l,title:u,content:p}:{id:Date.now().toString(),title:u,content:p,createdAt:new Date().toISOString(),status:"active"};S(l?t.map(t=>t.id===l.id?e:t):[...t,e]),h(!1),x(""),m(""),s(null),f(l?"Content updated successfully":"Content added successfully"),setTimeout(()=>f(null),3e3)},children:l?"Update":"Save"}),(0,i.jsx)(T.Button,{variant:"outlined",onClick:()=>{h(!1),x(""),m(""),s(null),j(null)},children:"Cancel"})]})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.Box,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsx)(c.Typography,{variant:"h6",children:"Content Library"}),(0,i.jsx)(T.Button,{variant:"contained",startIcon:(0,i.jsx)(K.default,{}),onClick:B,disabled:!b,children:"Add Content"})]}),0===t.length?(0,i.jsxs)(o.Paper,{sx:{p:4,textAlign:"center"},children:[(0,i.jsx)(c.Typography,{variant:"body1",color:"text.secondary",sx:{mb:2},children:"No content items yet. Create your first content item to get started."}),(0,i.jsx)(T.Button,{variant:"outlined",startIcon:(0,i.jsx)(K.default,{}),onClick:B,disabled:!b,children:"Add Your First Content"})]}):(0,i.jsx)(k.Stack,{spacing:2,children:t.filter(e=>"active"===e.status).map(e=>(0,i.jsx)(et.Card,{elevation:2,children:(0,i.jsx)(ei.CardContent,{children:(0,i.jsxs)(k.Stack,{direction:"row",justifyContent:"space-between",alignItems:"start",sx:{mb:2},children:[(0,i.jsxs)(r.Box,{sx:{flexGrow:1},children:[(0,i.jsx)(c.Typography,{variant:"h6",sx:{mb:1},children:e.title}),(0,i.jsxs)(c.Typography,{variant:"body2",color:"text.secondary",sx:{mb:1},children:[e.content.substring(0,200),e.content.length>200?"...":""]}),(0,i.jsxs)(k.Stack,{direction:"row",spacing:1,sx:{mt:1},children:[(0,i.jsx)($.Chip,{label:`Created: ${new Date(e.createdAt).toLocaleDateString()}`,size:"small",variant:"outlined"}),e.lastUsed&&(0,i.jsx)($.Chip,{label:`Last used: ${new Date(e.lastUsed).toLocaleDateString()}`,size:"small",variant:"outlined"})]})]}),(0,i.jsxs)(k.Stack,{direction:"row",spacing:1,children:[(0,i.jsx)(G.IconButton,{size:"small",onClick:()=>P(e),title:"Generate Video",disabled:!b,children:(0,i.jsx)(eB.default,{})}),(0,i.jsx)(G.IconButton,{size:"small",onClick:()=>{f("Scheduling feature coming soon!"),setTimeout(()=>f(null),3e3)},title:"Schedule",disabled:!b,children:(0,i.jsx)(eP.default,{})}),(0,i.jsx)(G.IconButton,{size:"small",onClick:()=>{s(e),x(e.title),m(e.content),h(!0),j(null)},title:"Edit",children:(0,i.jsx)(Q.default,{})}),(0,i.jsx)(G.IconButton,{size:"small",onClick:()=>{var i;return i=e.id,void(confirm("Are you sure you want to delete this content?")&&(S(t.filter(e=>e.id!==i)),f("Content deleted successfully"),setTimeout(()=>f(null),3e3)))},title:"Delete",color:"error",children:(0,i.jsx)(ek.default,{})})]})]})})},e.id))})]})]})}e.i(96335);var eW=e.i(80622),eE=e.i(84933),eM=e.i(81706),eF=e.i(15127),ez=e.i(18420),eD=e.i(88795),eN=e.i(68418),eO=e.i(85760),eR=e.i(95262),e$=e.i(51480),eU=e.i(13740);function eL(e){return(0,eU.default)("MuiInputAdornment",e)}let e_=(0,e$.default)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var eq=e.i(96861);let eH=["children","className","component","disablePointerEvents","disableTypography","position","variant"],eV=(0,eR.default)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,t[`position${(0,ez.default)(i.position)}`],!0===i.disablePointerEvents&&t.disablePointerEvents,t[i.variant]]}})(({theme:e,ownerState:t})=>(0,eE.default)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${e_.positionStart}&:not(.${e_.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})),eG=a.forwardRef(function(e,n){let r=(0,eq.useDefaultProps)({props:e,name:"MuiInputAdornment"}),{children:l,className:s,component:o="div",disablePointerEvents:c=!1,disableTypography:d=!1,position:h,variant:u}=r,x=(0,eW.default)(r,eH),p=(0,eO.default)()||{},m=u;u&&p.variant,p&&!m&&(m=p.variant);let y=(0,eE.default)({},r,{hiddenLabel:p.hiddenLabel,size:p.size,disablePointerEvents:c,position:h,variant:m}),j=(e=>{let{classes:t,disablePointerEvents:i,hiddenLabel:n,position:a,size:r,variant:l}=e,s={root:["root",i&&"disablePointerEvents",a&&`position${(0,ez.default)(a)}`,l,n&&"hiddenLabel",r&&`size${(0,ez.default)(r)}`]};return(0,eF.default)(s,eL,t)})(y);return(0,i.jsx)(eN.default.Provider,{value:null,children:(0,i.jsx)(eV,(0,eE.default)({as:o,ownerState:y,className:(0,eM.default)(j.root,s),ref:n},x,{children:"string"!=typeof l||d?(0,i.jsxs)(a.Fragment,{children:["start"===h?t||(t=(0,i.jsx)("span",{className:"notranslate",children:"​"})):null,l]}):(0,i.jsx)(eD.default,{color:"text.secondary",children:l})}))})});var eJ=e.i(31862),eK=e.i(85106),eY=e.i(29360),eQ=e.i(28097),eX=e.i(12895),eZ=e.i(88522);function e0({open:e,onClose:t,client:n,onSave:l,readOnly:s=!1}){let[o,c]=(0,a.useState)({name:"",email:"",company:"",phone:"",status:"pending",tier:"starter",notes:""}),[d,h]=(0,a.useState)(""),[u,x]=(0,a.useState)(!1);(0,a.useEffect)(()=>{n&&c({name:n.name||"",email:n.email||"",company:n.company||"",phone:n.phone||"",status:n.status||"pending",tier:n.tier||"starter",notes:n.notes||""})},[n]);let p=async()=>{if(s)return void t();h(""),x(!0);try{let e=await fetch(`${(0,M.getBackendUrl)()}/api/creative/clients/${n.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!e.ok){let t=await e.json().catch(()=>({error:"Failed to update client"}));throw Error(t.error||"Failed to update client")}l(),t()}catch(e){h(e.message||"Failed to update client")}finally{x(!1)}};return(0,i.jsxs)(f.Dialog,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,children:[(0,i.jsx)(b.DialogTitle,{children:s?"View Client":"Edit Client"}),(0,i.jsx)(C.DialogContent,{children:(0,i.jsxs)(r.Box,{sx:{display:"flex",flexDirection:"column",gap:2,mt:1},children:[d&&(0,i.jsx)(W.Alert,{severity:"error",children:d}),(0,i.jsx)(w.TextField,{label:"Name",value:o.name,onChange:e=>c({...o,name:e.target.value}),fullWidth:!0,required:!0,disabled:s}),(0,i.jsx)(w.TextField,{label:"Email",type:"email",value:o.email,onChange:e=>c({...o,email:e.target.value}),fullWidth:!0,required:!0,disabled:s}),(0,i.jsx)(w.TextField,{label:"Company",value:o.company,onChange:e=>c({...o,company:e.target.value}),fullWidth:!0,required:!0,disabled:s}),(0,i.jsx)(w.TextField,{label:"Phone",value:o.phone,onChange:e=>c({...o,phone:e.target.value}),fullWidth:!0,disabled:s}),(0,i.jsxs)(B.FormControl,{fullWidth:!0,disabled:s,children:[(0,i.jsx)(P.InputLabel,{children:"Status"}),(0,i.jsxs)(I.Select,{value:o.status,onChange:e=>c({...o,status:e.target.value}),label:"Status",children:[(0,i.jsx)(A.MenuItem,{value:"pending",children:"Pending"}),(0,i.jsx)(A.MenuItem,{value:"active",children:"Active"}),(0,i.jsx)(A.MenuItem,{value:"inactive",children:"Inactive"}),(0,i.jsx)(A.MenuItem,{value:"prospect",children:"Prospect"})]})]}),(0,i.jsxs)(B.FormControl,{fullWidth:!0,disabled:s,children:[(0,i.jsx)(P.InputLabel,{children:"Tier"}),(0,i.jsxs)(I.Select,{value:o.tier,onChange:e=>c({...o,tier:e.target.value}),label:"Tier",children:[(0,i.jsx)(A.MenuItem,{value:"starter",children:"Starter"}),(0,i.jsx)(A.MenuItem,{value:"professional",children:"Professional"}),(0,i.jsx)(A.MenuItem,{value:"enterprise",children:"Enterprise"})]})]}),(0,i.jsx)(w.TextField,{label:"Notes",value:o.notes,onChange:e=>c({...o,notes:e.target.value}),fullWidth:!0,multiline:!0,rows:3,disabled:s})]})}),(0,i.jsxs)(S.DialogActions,{children:[(0,i.jsx)(T.Button,{onClick:t,children:s?"Close":"Cancel"}),!s&&(0,i.jsx)(T.Button,{onClick:p,variant:"contained",disabled:u,children:u?"Saving...":"Save Changes"})]})]})}function e1({open:e,onClose:t,clientId:n,clientName:l,currentEmployee:s,onAssign:o}){let[d,h]=(0,a.useState)([]),[u,x]=(0,a.useState)(null),[p,m]=(0,a.useState)(""),[y,j]=(0,a.useState)(!1),[g,v]=(0,a.useState)(!1),[E,F]=(0,a.useState)(!1),[D,N]=(0,a.useState)(null);(0,a.useEffect)(()=>{e?(O(),s&&(m(s),j(!0))):(x(null),m(""),j(!1),N(null))},[e,s]);let O=async()=>{F(!0),N(null);try{let e=(0,M.getBackendUrl)(),t=await fetch(`${e}/api/creative/employees`,{credentials:"include"});if(!t.ok)throw Error("Failed to fetch employees");let i=await t.json();if(h(i.employees||[]),s&&i.employees){let e=i.employees.find(e=>e.name===s||e.email===s);e&&(x(e),j(!1))}}catch(e){console.error("Error fetching employees:",e),N(e.message||"Failed to load employees")}finally{F(!1)}},R=async()=>{v(!0),N(null);try{let e=y?null:u?.id||null,i=y?p.trim():u?.name||null;if(!i&&!e){N("Please select an employee or enter a custom name"),v(!1);return}await o(e,i),t()}catch(e){N(e.message||"Failed to assign employee")}finally{v(!1)}},$=async()=>{v(!0),N(null);try{await o(null,null),t()}catch(e){N(e.message||"Failed to remove employee assignment")}finally{v(!1)}};return(0,i.jsxs)(f.Dialog,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,children:[(0,i.jsxs)(b.DialogTitle,{children:["Assign Employee to ",l]}),(0,i.jsx)(C.DialogContent,{children:(0,i.jsxs)(k.Stack,{spacing:3,sx:{mt:1},children:[D&&(0,i.jsx)(W.Alert,{severity:"error",onClose:()=>N(null),children:D}),E?(0,i.jsx)(r.Box,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,i.jsx)(z.CircularProgress,{})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(B.FormControl,{fullWidth:!0,children:[(0,i.jsx)(P.InputLabel,{children:"Assignment Type"}),(0,i.jsxs)(I.Select,{value:y?"custom":"employee",onChange:e=>j("custom"===e.target.value),label:"Assignment Type",children:[(0,i.jsx)(A.MenuItem,{value:"employee",children:"Select from Employees"}),(0,i.jsx)(A.MenuItem,{value:"custom",children:"Enter Custom Name"})]})]}),y?(0,i.jsx)(w.TextField,{fullWidth:!0,label:"Employee Name",value:p,onChange:e=>m(e.target.value),placeholder:"Enter employee name",helperText:"Use this for external employees or contractors"}):(0,i.jsx)(J.Autocomplete,{options:d,getOptionLabel:e=>`${e.name} (${e.email})`,value:u,onChange:(e,t)=>x(t),loading:E,renderInput:e=>(0,i.jsx)(w.TextField,{...e,label:"Select Employee",placeholder:"Search employees..."}),renderOption:(e,t)=>(0,i.jsx)(r.Box,{component:"li",...e,children:(0,i.jsxs)(k.Stack,{children:[(0,i.jsx)(c.Typography,{variant:"body1",children:t.name}),(0,i.jsx)(c.Typography,{variant:"caption",color:"text.secondary",children:t.email})]})})})]})]})}),(0,i.jsxs)(S.DialogActions,{children:[(0,i.jsx)(T.Button,{onClick:t,disabled:g,children:"Cancel"}),s&&(0,i.jsx)(T.Button,{onClick:$,color:"error",disabled:g,children:"Remove Assignment"}),(0,i.jsx)(T.Button,{onClick:R,variant:"contained",disabled:g||(y?!p.trim():!u),children:g?(0,i.jsx)(z.CircularProgress,{size:20}):"Assign"})]})]})}function e2({onAssignmentChange:e,onAddClient:t}){let[n,l]=(0,a.useState)([]),[s,d]=(0,a.useState)([]),[h,u]=(0,a.useState)([]),[x,m]=(0,a.useState)(!0),[y,j]=(0,a.useState)(null),[g,v]=(0,a.useState)(null),[E,N]=(0,a.useState)(""),[O,R]=(0,a.useState)(null),[J,ee]=(0,a.useState)(!1),[en,el]=(0,a.useState)(""),[es,eo]=(0,a.useState)("all"),[ec,eh]=(0,a.useState)("all"),[eu,ex]=(0,a.useState)(null),[ep,em]=(0,a.useState)(null),[ey,ej]=(0,a.useState)(!1),[eg,ev]=(0,a.useState)(!1),[ef,eb]=(0,a.useState)(!1),[eC,eS]=(0,a.useState)(!1),[eT,ew]=(0,a.useState)(!1),[eB,eP]=(0,a.useState)(null),[eI,eA]=(0,a.useState)({name:"",email:"",company:"",phone:"",notes:""});(0,a.useEffect)(()=>{eW()},[es,ec,en]);let eW=async()=>{m(!0),j(null);try{let e=(0,M.getBackendUrl)(),t=await fetch(`${e}/api/creative/employees`,{credentials:"include"});if(!t.ok)throw Error("Failed to fetch employees");let i=await t.json();l(i.employees||[]);let n=new URLSearchParams;"all"!==es&&n.append("status",es),"all"!==ec&&"unassigned"!==ec&&n.append("employee_id",ec),en&&n.append("search",en);let a=await fetch(`${e}/api/creative/clients?${n.toString()}`,{credentials:"include"});if(!a.ok)throw Error("Failed to fetch clients");let r=(await a.json()).clients||[],s=r;"unassigned"===ec&&(s=s.filter(e=>!e.assignedEmployee)),d(s);let o=r.filter(e=>"prospect"===e.status);u(o)}catch(e){console.error("Error fetching data:",e),j(e.message||"Failed to load data")}finally{m(!1)}},eE=async()=>{if(!E||!O)return void j("Please select both a client and an employee");ee(!0),j(null),v(null);try{let t=(0,M.getBackendUrl)(),i=n.find(e=>e.id===O),a=await fetch(`${t}/api/creative/clients/${E}/assign-employee`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({employee_id:O,employee_name:i?.name||null})});if(!a.ok){let e=await a.json().catch(()=>({error:"Failed to assign employee"}));throw Error(e.error||"Failed to assign employee")}v(`Successfully assigned ${i?.name} to ${s.find(e=>e.id===E)?.name}`),await eW(),N(""),R(null),e&&e()}catch(e){console.error("Error assigning employee:",e),j(e.message||"Failed to assign employee")}finally{ee(!1)}},eM=()=>{ex(null),em(null)},eF=async()=>{if(!ep)return void eM();try{let e=(0,M.getBackendUrl)();if(!(await fetch(`${e}/api/creative/clients/${ep.id}`,{method:"DELETE",credentials:"include"})).ok)throw Error("Failed to delete client");await eW()}catch(e){console.error("Error deleting client:",e),alert(e.message||"Failed to delete client")}eM()},ez=async()=>{eM(),ev(!0)},eD=async(e,t)=>{if(ep)try{let i=(0,M.getBackendUrl)();if(!(await fetch(`${i}/api/creative/clients/${ep.id}/assign-employee`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({employee_id:e,employee_name:t})})).ok)throw Error("Failed to assign employee");await eW()}catch(e){throw console.error("Error assigning employee:",e),e}},eN=async()=>{if(!eI.name||!eI.email||!eI.company)return void j("Name, email, and company are required");try{let e=(0,M.getBackendUrl)();if(!(await fetch(`${e}/api/creative/clients`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:eI.name,email:eI.email,company:eI.company,phone:eI.phone,notes:eI.notes,status:"prospect"})})).ok)throw Error("Failed to create prospect");ew(!1),eA({name:"",email:"",company:"",phone:"",notes:""}),await eW(),v("Prospect created successfully")}catch(e){console.error("Error creating prospect:",e),j(e.message||"Failed to create prospect")}},eO=async()=>{if(!eB||!eI.name||!eI.email||!eI.company)return void j("Name, email, and company are required");try{let e=(0,M.getBackendUrl)();if(!(await fetch(`${e}/api/creative/clients/${eB.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:eI.name,email:eI.email,company:eI.company,phone:eI.phone,notes:eI.notes,status:"prospect"})})).ok)throw Error("Failed to update prospect");ew(!1),eP(null),eA({name:"",email:"",company:"",phone:"",notes:""}),await eW(),v("Prospect updated successfully")}catch(e){console.error("Error updating prospect:",e),j(e.message||"Failed to update prospect")}},eR=async e=>{alert(`Send email to ${e.email} - Feature coming soon`)},e$=async e=>{alert(`Send notification to ${e.name} - Feature coming soon`)},eU=Array.from(new Set(s.filter(e=>e.assignedEmployee).map(e=>e.assignedEmployee)));return x?(0,i.jsx)(r.Box,{sx:{display:"flex",justifyContent:"center",p:4},children:(0,i.jsx)(z.CircularProgress,{})}):(0,i.jsxs)(r.Box,{children:[y&&(0,i.jsx)(W.Alert,{severity:"error",onClose:()=>j(null),sx:{mb:2},children:y}),g&&(0,i.jsx)(W.Alert,{severity:"success",onClose:()=>v(null),sx:{mb:2},children:g}),(0,i.jsxs)(D.Grid,{container:!0,spacing:3,children:[(0,i.jsx)(D.Grid,{item:!0,xs:12,children:(0,i.jsx)(et.Card,{elevation:2,children:(0,i.jsxs)(ei.CardContent,{children:[(0,i.jsxs)(k.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{mb:3},children:[(0,i.jsxs)(k.Stack,{direction:"row",spacing:2,alignItems:"center",children:[(0,i.jsx)(ea.default,{color:"primary",sx:{fontSize:32}}),(0,i.jsxs)(r.Box,{children:[(0,i.jsx)(c.Typography,{variant:"h5",fontWeight:700,children:"Prospects"}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:"People we need to keep prospecting with email and notifications to finish checkout"})]})]}),(0,i.jsx)(T.Button,{variant:"contained",startIcon:(0,i.jsx)(K.default,{}),onClick:()=>{eP(null),eA({name:"",email:"",company:"",phone:"",notes:""}),ew(!0)},children:"Add Prospect"})]}),0===h.length?(0,i.jsxs)(o.Paper,{sx:{p:4,textAlign:"center"},children:[(0,i.jsx)(ea.default,{sx:{fontSize:64,color:"text.secondary",mb:2}}),(0,i.jsx)(c.Typography,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No prospects yet"}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Add prospects to track and nurture potential clients"})]}):(0,i.jsx)(D.Grid,{container:!0,spacing:2,children:h.map(e=>(0,i.jsx)(D.Grid,{item:!0,xs:12,sm:6,md:4,children:(0,i.jsx)(et.Card,{variant:"outlined",children:(0,i.jsxs)(ei.CardContent,{children:[(0,i.jsxs)(k.Stack,{direction:"row",justifyContent:"space-between",alignItems:"start",sx:{mb:1},children:[(0,i.jsxs)(r.Box,{children:[(0,i.jsx)(c.Typography,{variant:"h6",children:e.name}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:e.company}),(0,i.jsx)(c.Typography,{variant:"caption",color:"text.secondary",children:e.email})]}),(0,i.jsx)($.Chip,{label:"Prospect",size:"small",color:"warning"})]}),(0,i.jsxs)(k.Stack,{direction:"row",spacing:1,sx:{mt:2},children:[(0,i.jsx)(G.IconButton,{size:"small",onClick:()=>{eP(e),eA({name:e.name,email:e.email,company:e.company,phone:e.phone||"",notes:e.notes||""}),ew(!0)},color:"primary",children:(0,i.jsx)(Q.default,{})}),(0,i.jsx)(G.IconButton,{size:"small",onClick:()=>eR(e),color:"info",children:(0,i.jsx)(eX.default,{})}),(0,i.jsx)(G.IconButton,{size:"small",onClick:()=>e$(e),color:"secondary",children:(0,i.jsx)(eZ.default,{})})]})]})})},e.id))})]})})}),(0,i.jsx)(D.Grid,{item:!0,xs:12,children:(0,i.jsx)(et.Card,{elevation:2,children:(0,i.jsxs)(ei.CardContent,{children:[(0,i.jsxs)(k.Stack,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:3},children:[(0,i.jsxs)(k.Stack,{direction:"row",spacing:2,alignItems:"center",children:[(0,i.jsx)(eK.default,{color:"primary",sx:{fontSize:32}}),(0,i.jsx)(c.Typography,{variant:"h5",fontWeight:700,children:"Client List"})]}),(0,i.jsx)(T.Button,{variant:"contained",startIcon:(0,i.jsx)(eQ.default,{}),onClick:()=>{t?t():eS(!0)},children:"Add Client"})]}),(0,i.jsx)(o.Paper,{sx:{p:2,mb:3},children:(0,i.jsxs)(k.Stack,{direction:{xs:"column",md:"row"},spacing:2,children:[(0,i.jsx)(w.TextField,{fullWidth:!0,size:"small",placeholder:"Search clients...",value:en,onChange:e=>el(e.target.value),InputProps:{startAdornment:(0,i.jsx)(eG,{position:"start",children:(0,i.jsx)(eY.default,{})})}}),(0,i.jsxs)(B.FormControl,{size:"small",sx:{minWidth:150},children:[(0,i.jsx)(P.InputLabel,{children:"Status"}),(0,i.jsxs)(I.Select,{value:es,label:"Status",onChange:e=>eo(e.target.value),children:[(0,i.jsx)(A.MenuItem,{value:"all",children:"All Status"}),(0,i.jsx)(A.MenuItem,{value:"active",children:"Active"}),(0,i.jsx)(A.MenuItem,{value:"inactive",children:"Inactive"}),(0,i.jsx)(A.MenuItem,{value:"pending",children:"Pending"}),(0,i.jsx)(A.MenuItem,{value:"prospect",children:"Prospect"})]})]}),(0,i.jsxs)(B.FormControl,{size:"small",sx:{minWidth:150},children:[(0,i.jsx)(P.InputLabel,{children:"Employee"}),(0,i.jsxs)(I.Select,{value:ec,label:"Employee",onChange:e=>eh(e.target.value),children:[(0,i.jsx)(A.MenuItem,{value:"all",children:"All Employees"}),(0,i.jsx)(A.MenuItem,{value:"unassigned",children:"Unassigned"}),eU.map(e=>(0,i.jsx)(A.MenuItem,{value:e,children:e},e))]})]})]})}),(0,i.jsx)(q.TableContainer,{children:(0,i.jsxs)(U.Table,{children:[(0,i.jsx)(H.TableHead,{children:(0,i.jsxs)(V.TableRow,{children:[(0,i.jsx)(_.TableCell,{sx:{fontWeight:700},children:"Client Name"}),(0,i.jsx)(_.TableCell,{sx:{fontWeight:700},children:"Email"}),(0,i.jsx)(_.TableCell,{sx:{fontWeight:700},children:"Status"}),(0,i.jsx)(_.TableCell,{sx:{fontWeight:700},children:"Assigned To"}),(0,i.jsx)(_.TableCell,{sx:{fontWeight:700},children:"Systems Connected"}),(0,i.jsx)(_.TableCell,{sx:{fontWeight:700},align:"right",children:"Actions"})]})}),(0,i.jsx)(L.TableBody,{children:0===s.length?(0,i.jsx)(V.TableRow,{children:(0,i.jsx)(_.TableCell,{colSpan:6,align:"center",sx:{py:4},children:(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:'No clients found. Click "Add Client" to get started.'})})}):s.map(e=>(0,i.jsxs)(V.TableRow,{hover:!0,children:[(0,i.jsxs)(_.TableCell,{children:[(0,i.jsx)(c.Typography,{variant:"body2",fontWeight:600,children:e.name}),(0,i.jsx)(c.Typography,{variant:"caption",color:"text.secondary",children:e.company})]}),(0,i.jsx)(_.TableCell,{children:e.email}),(0,i.jsx)(_.TableCell,{children:(0,i.jsx)($.Chip,{label:e.status,size:"small",color:"active"===e.status?"success":"pending"===e.status||"prospect"===e.status?"warning":"default"})}),(0,i.jsx)(_.TableCell,{children:e.assignedEmployee||(0,i.jsx)($.Chip,{label:"Unassigned",size:"small",variant:"outlined"})}),(0,i.jsx)(_.TableCell,{children:(0,i.jsx)(k.Stack,{direction:"row",spacing:.5,flexWrap:"wrap",children:e.systemsConnected.map(e=>(0,i.jsx)($.Chip,{label:e,size:"small",variant:"outlined"},e))})}),(0,i.jsx)(_.TableCell,{align:"right",children:(0,i.jsx)(G.IconButton,{size:"small",onClick:t=>{ex(t.currentTarget),em(e)},children:(0,i.jsx)(X.default,{})})})]},e.id))})]})})]})})}),(0,i.jsx)(D.Grid,{item:!0,xs:12,children:(0,i.jsx)(et.Card,{elevation:2,children:(0,i.jsxs)(ei.CardContent,{children:[(0,i.jsxs)(k.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,i.jsx)(eJ.default,{color:"primary",sx:{fontSize:32}}),(0,i.jsx)(c.Typography,{variant:"h5",fontWeight:700,children:"Match Clients & Employees"})]}),(0,i.jsxs)(D.Grid,{container:!0,spacing:3,children:[(0,i.jsx)(D.Grid,{item:!0,xs:12,md:6,children:(0,i.jsx)(et.Card,{variant:"outlined",children:(0,i.jsxs)(ei.CardContent,{children:[(0,i.jsxs)(k.Stack,{direction:"row",spacing:1,alignItems:"center",sx:{mb:2},children:[(0,i.jsx)(eK.default,{color:"primary"}),(0,i.jsx)(c.Typography,{variant:"h6",children:"Select Client"})]}),(0,i.jsxs)(B.FormControl,{fullWidth:!0,children:[(0,i.jsx)(P.InputLabel,{children:"Client"}),(0,i.jsxs)(I.Select,{value:E,onChange:e=>N(e.target.value),label:"Client",children:[(0,i.jsx)(A.MenuItem,{value:"",children:(0,i.jsx)("em",{children:"Select a client..."})}),s.map(e=>(0,i.jsx)(A.MenuItem,{value:e.id,children:(0,i.jsxs)(r.Box,{children:[(0,i.jsx)(c.Typography,{variant:"body1",children:e.name}),(0,i.jsxs)(c.Typography,{variant:"caption",color:"text.secondary",children:[e.company," • ",e.email]}),e.assignedEmployee&&(0,i.jsx)($.Chip,{label:`Assigned to: ${e.assignedEmployee}`,size:"small",color:"info",sx:{mt:.5}})]})},e.id))]})]}),s.find(e=>e.id===E)&&(0,i.jsxs)(r.Box,{sx:{mt:2,p:2,bgcolor:"action.hover",borderRadius:1},children:[(0,i.jsx)(c.Typography,{variant:"subtitle2",gutterBottom:!0,children:"Selected Client:"}),(0,i.jsx)(c.Typography,{variant:"body1",fontWeight:600,children:s.find(e=>e.id===E)?.name}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:s.find(e=>e.id===E)?.company})]})]})})}),(0,i.jsx)(D.Grid,{item:!0,xs:12,md:6,children:(0,i.jsx)(et.Card,{variant:"outlined",children:(0,i.jsxs)(ei.CardContent,{children:[(0,i.jsxs)(k.Stack,{direction:"row",spacing:1,alignItems:"center",sx:{mb:2},children:[(0,i.jsx)(p.default,{color:"secondary"}),(0,i.jsx)(c.Typography,{variant:"h6",children:"Select Employee"})]}),(0,i.jsxs)(B.FormControl,{fullWidth:!0,children:[(0,i.jsx)(P.InputLabel,{children:"Employee"}),(0,i.jsxs)(I.Select,{value:O||"",onChange:e=>R(e.target.value?Number(e.target.value):null),label:"Employee",children:[(0,i.jsx)(A.MenuItem,{value:"",children:(0,i.jsx)("em",{children:"Select an employee..."})}),n.map(e=>(0,i.jsx)(A.MenuItem,{value:e.id,children:(0,i.jsxs)(r.Box,{children:[(0,i.jsxs)(k.Stack,{direction:"row",spacing:1,alignItems:"center",children:[(0,i.jsx)(c.Typography,{variant:"body1",children:e.name}),e.is_admin&&(0,i.jsx)($.Chip,{label:"Admin",size:"small",color:"error"})]}),(0,i.jsx)(c.Typography,{variant:"caption",color:"text.secondary",children:e.email})]})},e.id))]})]}),n.find(e=>e.id===O)&&(0,i.jsxs)(r.Box,{sx:{mt:2,p:2,bgcolor:"action.hover",borderRadius:1},children:[(0,i.jsx)(c.Typography,{variant:"subtitle2",gutterBottom:!0,children:"Selected Employee:"}),(0,i.jsxs)(k.Stack,{direction:"row",spacing:1,alignItems:"center",children:[(0,i.jsx)(c.Typography,{variant:"body1",fontWeight:600,children:n.find(e=>e.id===O)?.name}),n.find(e=>e.id===O)?.is_admin&&(0,i.jsx)($.Chip,{label:"Admin",size:"small",color:"error"})]})]})]})})})]}),(0,i.jsx)(ed.Divider,{sx:{my:3}}),(0,i.jsxs)(r.Box,{sx:{display:"flex",justifyContent:"center",gap:2},children:[(0,i.jsx)(T.Button,{variant:"outlined",onClick:eW,disabled:J,children:"Refresh Lists"}),(0,i.jsx)(T.Button,{variant:"contained",startIcon:J?(0,i.jsx)(z.CircularProgress,{size:20}):(0,i.jsx)(er.default,{}),onClick:eE,disabled:!E||!O||J,size:"large",children:J?"Assigning...":"Assign Employee to Client"})]}),(0,i.jsxs)(r.Box,{sx:{mt:4},children:[(0,i.jsx)(c.Typography,{variant:"h6",gutterBottom:!0,children:"Current Assignments"}),(0,i.jsxs)(D.Grid,{container:!0,spacing:2,children:[s.filter(e=>e.assignedEmployee).map(e=>(0,i.jsx)(D.Grid,{item:!0,xs:12,sm:6,md:4,children:(0,i.jsx)(et.Card,{variant:"outlined",children:(0,i.jsxs)(ei.CardContent,{children:[(0,i.jsx)(c.Typography,{variant:"body1",fontWeight:600,children:e.name}),(0,i.jsx)(c.Typography,{variant:"caption",color:"text.secondary",children:e.company}),(0,i.jsx)($.Chip,{label:`→ ${e.assignedEmployee}`,size:"small",color:"primary",sx:{mt:1}})]})})},e.id)),0===s.filter(e=>e.assignedEmployee).length&&(0,i.jsx)(D.Grid,{item:!0,xs:12,children:(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",py:2},children:"No assignments yet. Use the form above to assign employees to clients."})})]})]})]})})})]}),(0,i.jsxs)(Z.Menu,{anchorEl:eu,open:!!eu,onClose:eM,children:[(0,i.jsxs)(A.MenuItem,{onClick:()=>{eb(!0),ej(!0),eM()},children:[(0,i.jsx)(Y.default,{sx:{mr:1,fontSize:20}}),"View Details"]}),(0,i.jsxs)(A.MenuItem,{onClick:()=>{eb(!1),ej(!0),eM()},children:[(0,i.jsx)(Q.default,{sx:{mr:1,fontSize:20}}),"Edit"]}),(0,i.jsxs)(A.MenuItem,{onClick:ez,children:[(0,i.jsx)(eQ.default,{sx:{mr:1,fontSize:20}}),"Assign Employee"]}),(0,i.jsxs)(A.MenuItem,{onClick:eF,sx:{color:"error.main"},children:[(0,i.jsx)(ek.default,{sx:{mr:1,fontSize:20}}),"Delete"]})]}),(0,i.jsx)(F,{open:eC,onClose:()=>{eS(!1),eW()}}),(0,i.jsx)(e0,{open:ey,onClose:()=>{ej(!1),em(null),eb(!1),eW()},client:ep,onSave:()=>eW(),readOnly:ef}),(0,i.jsx)(e1,{open:eg,onClose:()=>{ev(!1),em(null)},clientId:ep?.id||"",clientName:ep?.name||"",currentEmployee:ep?.assignedEmployee,onAssign:eD}),(0,i.jsxs)(f.Dialog,{open:eT,onClose:()=>ew(!1),maxWidth:"sm",fullWidth:!0,children:[(0,i.jsx)(b.DialogTitle,{children:eB?"Edit Prospect":"Add New Prospect"}),(0,i.jsx)(C.DialogContent,{children:(0,i.jsxs)(k.Stack,{spacing:2,sx:{mt:1},children:[(0,i.jsx)(w.TextField,{label:"Name",value:eI.name,onChange:e=>eA({...eI,name:e.target.value}),fullWidth:!0,required:!0}),(0,i.jsx)(w.TextField,{label:"Email",type:"email",value:eI.email,onChange:e=>eA({...eI,email:e.target.value}),fullWidth:!0,required:!0}),(0,i.jsx)(w.TextField,{label:"Company",value:eI.company,onChange:e=>eA({...eI,company:e.target.value}),fullWidth:!0,required:!0}),(0,i.jsx)(w.TextField,{label:"Phone",value:eI.phone,onChange:e=>eA({...eI,phone:e.target.value}),fullWidth:!0}),(0,i.jsx)(w.TextField,{label:"Notes",value:eI.notes,onChange:e=>eA({...eI,notes:e.target.value}),fullWidth:!0,multiline:!0,rows:3})]})}),(0,i.jsxs)(S.DialogActions,{children:[(0,i.jsx)(T.Button,{onClick:()=>{ew(!1),eP(null),eA({name:"",email:"",company:"",phone:"",notes:""})},children:"Cancel"}),(0,i.jsx)(T.Button,{variant:"contained",onClick:eB?eO:eN,children:eB?"Update":"Create"})]})]})]})}var e5=e.i(4591),e4=e.i(84579),e3=e.i(60472),e6=e.i(68914),e9=e.i(15254);function e7(){let{user:e}=(0,e9.useAuth)(),[t,n]=(0,a.useState)([]),[l,s]=(0,a.useState)(!1),[d,h]=(0,a.useState)(null),[u,x]=(0,a.useState)(!1),[p,m]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),[g,B]=(0,a.useState)(""),[P,I]=(0,a.useState)(""),[A,E]=(0,a.useState)(!1),[F,D]=(0,a.useState)(null);(0,a.useEffect)(()=>{N()},[]);let N=async()=>{s(!0),h(null);try{let e=(0,M.getBackendUrl)(),t=await fetch(`${e}/api/admin/users`,{credentials:"include"});if(t.ok){let e=await t.json();n(e.users||[])}else{let e=await t.json().catch(()=>({error:`HTTP ${t.status}`}));h(e.error||`Failed to load users (${t.status})`)}}catch(e){console.error("Error fetching employees:",e),h(e.message||"Failed to load users")}finally{s(!1)}},R=async(e,t)=>{try{let i=(0,M.getBackendUrl)(),n=await fetch(`${i}/api/admin/users/${e}/employee`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({isEmployee:!t})});if(n.ok)N();else{let e=await n.json();h(e.error||"Failed to update employee status")}}catch(e){h(e.message||"Failed to update employee status")}},U=async(e,t)=>{try{let i=(0,M.getBackendUrl)(),n=await fetch(`${i}/api/admin/users/${e}/admin`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({isAdmin:!t})});if(n.ok)N();else{let e=await n.json();h(e.error||"Failed to update admin status")}}catch(e){h(e.message||"Failed to update admin status")}},L=()=>{m(!1),j(null),B(""),I(""),D(null)},_=async()=>{if(y){if(!g||g.length<6)return void D("Password must be at least 6 characters");if(g!==P)return void D("Passwords do not match");E(!0),D(null);try{let e=(0,M.getBackendUrl)(),t=y.id||y.username||y.user_id,i=encodeURIComponent(t),n=await fetch(`${e}/api/admin/users/${i}/password`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:g})});if(n.ok)L();else{let e=await n.json();D(e.error||"Failed to change password")}}catch(e){D(e.message||"Failed to change password")}finally{E(!1)}}},q=e?.isAdmin||!1;return q?(0,i.jsxs)(r.Box,{children:[(0,i.jsxs)(o.Paper,{elevation:3,sx:{p:4,mb:3},children:[(0,i.jsxs)(k.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,i.jsx)(v.default,{sx:{color:"primary.main",fontSize:32}}),(0,i.jsx)(c.Typography,{variant:"h6",sx:{fontWeight:700},children:"Employee Management"})]}),(0,i.jsx)(ed.Divider,{sx:{mb:3}}),d&&(0,i.jsx)(W.Alert,{severity:"error",sx:{mb:3},onClose:()=>h(null),children:d}),(0,i.jsx)(c.Typography,{variant:"body1",sx:{mb:3},children:"Manage employee status for users. Employees have access to the Creative Dashboard and can be assigned to clients."}),l?(0,i.jsx)(r.Box,{sx:{display:"flex",justifyContent:"center",p:4},children:(0,i.jsx)(z.CircularProgress,{})}):0===t.length?(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:"No users found."}):(0,i.jsx)(k.Stack,{spacing:2,children:t.map(t=>(0,i.jsx)(o.Paper,{variant:"outlined",sx:{p:2},children:(0,i.jsxs)(k.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",children:[(0,i.jsxs)(r.Box,{sx:{flex:1},children:[(0,i.jsx)(c.Typography,{variant:"body1",sx:{fontWeight:600},children:t.name||t.username||t.email||"Unknown User"}),(0,i.jsxs)(c.Typography,{variant:"body2",color:"text.secondary",children:[t.ensName||t.id," ",t.email&&`• ${t.email}`]}),(0,i.jsxs)(k.Stack,{direction:"row",spacing:1,sx:{mt:1},children:[t.isAdmin&&(0,i.jsx)($.Chip,{label:"Admin",color:"error",size:"small"}),t.isEmployee&&(0,i.jsx)($.Chip,{label:"Employee",color:"secondary",size:"small"}),t.isPaidMember&&(0,i.jsx)($.Chip,{label:"Paid Member",color:"success",size:"small",variant:"outlined"})]})]}),(0,i.jsxs)(k.Stack,{direction:"row",spacing:2,alignItems:"center",children:[(0,i.jsx)(e4.FormControlLabel,{control:(0,i.jsx)(e5.Switch,{checked:t.isAdmin||!1,onChange:()=>U(t.id||t.user_id,t.isAdmin||!1),disabled:t.id===e?.id||t.username===e?.username}),label:"Admin"}),(0,i.jsx)(e4.FormControlLabel,{control:(0,i.jsx)(e5.Switch,{checked:t.isEmployee||!1,onChange:()=>R(t.id||t.user_id,t.isEmployee||!1),disabled:t.isAdmin}),label:t.isEmployee?"Employee":"Not Employee"}),(0,i.jsx)(T.Button,{variant:"outlined",size:"small",onClick:()=>{j(t),B(""),I(""),D(null),m(!0)},sx:{ml:2},children:"Change Password"})]})]})},t.id))}),(0,i.jsxs)(k.Stack,{direction:"row",spacing:2,sx:{mt:3},children:[(0,i.jsx)(T.Button,{variant:"outlined",startIcon:(0,i.jsx)(O.default,{}),onClick:N,disabled:l,children:l?"Loading...":"Refresh List"}),(0,i.jsx)(T.Button,{variant:"contained",startIcon:(0,i.jsx)(eJ.default,{}),onClick:()=>x(!0),disabled:l,children:"Manage Client Assignments"})]})]}),(0,i.jsxs)(o.Paper,{elevation:3,sx:{p:4},children:[(0,i.jsxs)(k.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,i.jsx)(eJ.default,{sx:{color:"primary.main",fontSize:32}}),(0,i.jsx)(c.Typography,{variant:"h6",sx:{fontWeight:700},children:"Client Assignment Management"})]}),(0,i.jsx)(ed.Divider,{sx:{mb:3}}),(0,i.jsx)(c.Typography,{variant:"body1",sx:{mb:3},children:"Assign clients to employees. Admins can reassign any client to any employee. Employees can view their assigned clients."}),(0,i.jsx)(k.Stack,{direction:"row",spacing:2,children:(0,i.jsx)(T.Button,{variant:"contained",startIcon:(0,i.jsx)(eJ.default,{}),onClick:()=>x(!0),children:"Open Assignment Dialog"})})]}),(0,i.jsx)(e6.default,{open:u,onClose:()=>x(!1),currentUser:e,isAdminView:q}),(0,i.jsxs)(f.Dialog,{open:p,onClose:L,maxWidth:"sm",fullWidth:!0,children:[(0,i.jsx)(b.DialogTitle,{children:(0,i.jsxs)(k.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",children:[(0,i.jsxs)(k.Stack,{direction:"row",spacing:1,alignItems:"center",children:[(0,i.jsx)(e3.default,{}),(0,i.jsx)(c.Typography,{variant:"h6",children:"Change Password"})]}),(0,i.jsx)(T.Button,{onClick:L,size:"small",sx:{minWidth:"auto"},children:(0,i.jsx)(eg.default,{})})]})}),(0,i.jsxs)(C.DialogContent,{children:[y&&(0,i.jsxs)(r.Box,{sx:{mb:3},children:[(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Changing password for:"}),(0,i.jsx)(c.Typography,{variant:"body1",fontWeight:600,children:y.name||y.username||y.email}),y.email&&(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:y.email})]}),F&&(0,i.jsx)(W.Alert,{severity:"error",sx:{mb:2},onClose:()=>D(null),children:F}),(0,i.jsxs)(k.Stack,{spacing:2,sx:{mt:1},children:[(0,i.jsx)(w.TextField,{fullWidth:!0,type:"password",label:"New Password",value:g,onChange:e=>B(e.target.value),placeholder:"Enter new password (min 6 characters)",disabled:A,helperText:"Password must be at least 6 characters long"}),(0,i.jsx)(w.TextField,{fullWidth:!0,type:"password",label:"Confirm Password",value:P,onChange:e=>I(e.target.value),placeholder:"Confirm new password",disabled:A,error:""!==P&&g!==P,helperText:""!==P&&g!==P?"Passwords do not match":""})]})]}),(0,i.jsxs)(S.DialogActions,{children:[(0,i.jsx)(T.Button,{onClick:L,disabled:A,children:"Cancel"}),(0,i.jsx)(T.Button,{onClick:_,variant:"contained",disabled:A||!g||!P||g!==P||g.length<6,startIcon:A?(0,i.jsx)(z.CircularProgress,{size:20}):(0,i.jsx)(e3.default,{}),children:A?"Changing...":"Change Password"})]})]})]}):(0,i.jsxs)(r.Box,{children:[(0,i.jsx)(W.Alert,{severity:"error",sx:{mb:3},children:"Authentication required. Admin access only."}),(0,i.jsxs)(o.Paper,{elevation:3,sx:{p:4},children:[(0,i.jsx)(c.Typography,{variant:"h6",gutterBottom:!0,children:"Employee & Client Management"}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:"This section is only accessible to administrators."})]})]})}function e8(e){let{children:t,value:n,index:a,...l}=e;return(0,i.jsx)("div",{role:"tabpanel",hidden:n!==a,id:`creative-tabpanel-${a}`,"aria-labelledby":`creative-tab-${a}`,...l,children:n===a&&(0,i.jsx)(r.Box,{sx:{py:3},children:t})})}function te(){let e=(0,h.useTheme)(),t=(0,u.useMediaQuery)(e.breakpoints.down("md")),[n,f]=(0,a.useState)(0),[b,C]=(0,a.useState)(!1),{user:S}=(0,e9.useAuth)(),T=S?.isAdmin||!1;return(0,i.jsxs)(r.Box,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,i.jsx)(o.Paper,{elevation:0,sx:{p:3,background:"linear-gradient(135deg, #6366F1 0%, #8b5cf6 100%)",color:"white",borderRadius:0},children:(0,i.jsxs)(d.Container,{maxWidth:"xl",children:[(0,i.jsx)(c.Typography,{variant:"h4",fontWeight:800,gutterBottom:!0,children:"Creative Dashboard"}),(0,i.jsx)(c.Typography,{variant:"body1",sx:{opacity:.9},children:"Your central hub for managing clients across all dashboards and systems"})]})}),(0,i.jsx)(o.Paper,{elevation:1,sx:{borderRadius:0},children:(0,i.jsx)(d.Container,{maxWidth:"xl",children:(0,i.jsxs)(l.Tabs,{value:n,onChange:(e,t)=>{f(t)},variant:t?"scrollable":"standard",scrollButtons:"auto",sx:{borderBottom:1,borderColor:"divider"},children:[(0,i.jsx)(s.Tab,{icon:(0,i.jsx)(x.default,{}),iconPosition:"start",label:"Overview",id:"creative-tab-0","aria-controls":"creative-tabpanel-0"}),(0,i.jsx)(s.Tab,{icon:(0,i.jsx)(m.default,{}),iconPosition:"start",label:"Analytics & Activity",id:"creative-tab-1","aria-controls":"creative-tabpanel-1"}),(0,i.jsx)(s.Tab,{icon:(0,i.jsx)(y.default,{}),iconPosition:"start",label:"Support Requests",id:"creative-tab-2","aria-controls":"creative-tabpanel-2"}),(0,i.jsx)(s.Tab,{icon:(0,i.jsx)(p.default,{}),iconPosition:"start",label:"Match Clients & Employees",id:"creative-tab-3","aria-controls":"creative-tabpanel-3"}),T&&(0,i.jsx)(s.Tab,{icon:(0,i.jsx)(v.default,{}),iconPosition:"start",label:"Employee & Client Management",id:"creative-tab-4","aria-controls":"creative-tabpanel-4"}),(0,i.jsx)(s.Tab,{icon:(0,i.jsx)(j.default,{}),iconPosition:"start",label:"Learning Hub",id:T?"creative-tab-5":"creative-tab-4","aria-controls":T?"creative-tabpanel-5":"creative-tabpanel-4"}),(0,i.jsx)(s.Tab,{icon:(0,i.jsx)(g.default,{}),iconPosition:"start",label:"AI Agent",id:T?"creative-tab-6":"creative-tab-5","aria-controls":T?"creative-tabpanel-6":"creative-tabpanel-5"})]})})}),(0,i.jsx)(r.Box,{sx:{flexGrow:1,overflow:"auto",bgcolor:"background.default"},children:(0,i.jsxs)(d.Container,{maxWidth:"xl",sx:{py:3},children:[(0,i.jsx)(e8,{value:n,index:0,children:(0,i.jsx)(tt,{onAddClient:()=>C(!0)})}),(0,i.jsx)(e8,{value:n,index:1,children:(0,i.jsx)(R,{})}),(0,i.jsx)(e8,{value:n,index:2,children:(0,i.jsx)(ee,{})}),(0,i.jsx)(e8,{value:n,index:3,children:(0,i.jsx)(e2,{onAddClient:()=>C(!0)})}),T&&(0,i.jsx)(e8,{value:n,index:4,children:(0,i.jsx)(e7,{})}),(0,i.jsx)(e8,{value:n,index:T?5:4,children:(0,i.jsx)(ew,{})}),(0,i.jsx)(e8,{value:n,index:T?6:5,children:(0,i.jsx)(eA,{})})]})}),(0,i.jsx)(F,{open:b,onClose:()=>C(!1)})]})}function tt({onAddClient:e}){let[t,n]=(0,a.useState)({clients:0,projects:0,tasks:0,completion:0}),[l,s]=(0,a.useState)(!0),[d,h]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{s(!0);let e=(0,M.getBackendUrl)(),t=await fetch(`${e}/api/creative/metrics`,{credentials:"include"});if(t.ok){let e=await t.json();n({clients:e.clients||0,projects:e.projects||0,tasks:e.tasks||0,completion:e.completion||0}),h(null)}else{let e=await t.json().catch(()=>({error:"Failed to fetch metrics"}));h(e.error||"Failed to load metrics"),n({clients:0,projects:0,tasks:0,completion:0})}}catch(e){console.error("Error fetching metrics:",e),h(e.message||"Failed to load metrics"),n({clients:0,projects:0,tasks:0,completion:0})}finally{s(!1)}})()},[]),(0,i.jsxs)(r.Box,{children:[(0,i.jsx)(c.Typography,{variant:"h5",fontWeight:700,gutterBottom:!0,children:"Overview"}),(0,i.jsx)(c.Typography,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Welcome to your mission control for managing clients across all your dashboards and systems."}),(0,i.jsxs)(r.Box,{sx:{mb:4},children:[l?(0,i.jsx)(r.Box,{sx:{display:"flex",justifyContent:"center",p:4},children:(0,i.jsx)(c.Typography,{children:"Loading metrics..."})}):d?(0,i.jsx)(r.Box,{sx:{p:2,bgcolor:"error.light",borderRadius:1,mb:2},children:(0,i.jsx)(c.Typography,{variant:"body2",color:"error",children:d})}):null,(0,i.jsx)(eo,{metrics:t})]}),(0,i.jsxs)(r.Box,{sx:{mb:4},children:[(0,i.jsx)(c.Typography,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Key Features"}),(0,i.jsxs)(r.Box,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(2, 1fr)"},gap:2},children:[(0,i.jsxs)(o.Paper,{sx:{p:2},children:[(0,i.jsx)(c.Typography,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"Centralized Client Directory"}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:"View and manage all your client accounts in one place"})]}),(0,i.jsxs)(o.Paper,{sx:{p:2},children:[(0,i.jsx)(c.Typography,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"Integrations with Dashboards"}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:"Connect clients to Co-Work and Rise dashboards"})]}),(0,i.jsxs)(o.Paper,{sx:{p:2},children:[(0,i.jsx)(c.Typography,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"Quick Add/Edit/Remove Clients"}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:"Streamline onboarding and administration"})]}),(0,i.jsxs)(o.Paper,{sx:{p:2},children:[(0,i.jsx)(c.Typography,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"Analytics & Activity Tracking"}),(0,i.jsx)(c.Typography,{variant:"body2",color:"text.secondary",children:"Track client usage, activity, and generate reports"})]})]})]}),(0,i.jsxs)(r.Box,{children:[(0,i.jsx)(c.Typography,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Quick Actions"}),(0,i.jsxs)(o.Paper,{sx:{p:3,bgcolor:"primary.main",color:"white"},children:[(0,i.jsx)(c.Typography,{variant:"body1",gutterBottom:!0,children:"Ready to add a new client?"}),(0,i.jsx)(c.Typography,{variant:"body2",sx:{opacity:.9,mb:2},children:"Add client leads and send them to the sign-up page to get started."}),(0,i.jsx)(r.Box,{component:"button",onClick:e,sx:{bgcolor:"white",color:"primary.main",border:"none",px:3,py:1.5,borderRadius:1,fontWeight:600,cursor:"pointer","&:hover":{bgcolor:"rgba(255, 255, 255, 0.9)"}},children:"Add New Client"})]})]})]})}e.s(["default",0,function(){return(0,i.jsx)(n.default,{active:"creative",children:(0,i.jsx)(te,{})})}],11500)},24144,(e,t,i)=>{let n="/creative";(window.__NEXT_P=window.__NEXT_P||[]).push([n,()=>e.r(11500)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([n])})}]);