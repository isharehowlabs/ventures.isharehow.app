(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16203,(e,t,a)=>{"use strict";var i=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=i(e.r(64800)),n=e.r(44855);a.default=(0,s.default)((0,n.jsx)("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"}),"ViewModule")},35303,(e,t,a)=>{"use strict";var i=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=i(e.r(64800)),n=e.r(44855);a.default=(0,s.default)((0,n.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"}),"RestartAlt")},35134,(e,t,a)=>{"use strict";var i=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=i(e.r(64800)),n=e.r(44855);a.default=(0,s.default)([(0,n.jsx)("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),(0,n.jsx)("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings")},60472,(e,t,a)=>{"use strict";var i=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=i(e.r(64800)),n=e.r(44855);a.default=(0,s.default)((0,n.jsx)("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"VpnKey")},7693,e=>{"use strict";var t=e.i(44855),a=e.i(58891),i=e.i(74614),s=e.i(15915),n=e.i(65790),r=e.i(15708),l=e.i(4591),o=e.i(84579),d=e.i(10251),c=e.i(75557),h=e.i(39972),u=e.i(20161),x=e.i(83161),p=e.i(47617),m=e.i(9109),g=e.i(92487),j=e.i(94660),y=e.i(43884),f=e.i(86012),b=e.i(92378),v=e.i(32327),C=e.i(54385),w=e.i(1051),S=e.i(33948),T=e.i(18295),k=e.i(92279),P=e.i(47379),A=e.i(37025),I=e.i(5456),B=e.i(18394),F=e.i(16203),M=e.i(11425),E=e.i(24918),W=e.i(35303),D=e.i(35134),L=e.i(88522),N=e.i(55047),O=e.i(31862),z=e.i(60472),$=e.i(10600),_=e.i(20887),R=e.i(21504),U=e.i(5385),H=e.i(13654),V=e.i(94367),J=e.i(87225),q=e.i(33932),K=e.i(7656),G=e.i(50723);function Q({open:e,onClose:n,currentUser:r,isAdminView:l}){let[o,d]=(0,a.useState)([]),[p,g]=(0,a.useState)([]),[j,y]=(0,a.useState)({}),[f,b]=(0,a.useState)(!0),[v,C]=(0,a.useState)(null);(0,a.useEffect)(()=>{e&&w()},[e]);let w=async()=>{b(!0),C(null);try{let e=(0,H.getBackendUrl)(),t=await fetch(`${e}/api/creative/employees`,{credentials:"include"});if(!t.ok){let e=await t.json().catch(()=>({error:`HTTP ${t.status}`}));throw Error(e.error||`Failed to fetch employees (${t.status})`)}let a=await t.json();d(a.employees||[]);let i=await fetch(`${e}/api/creative/clients`,{credentials:"include"});if(!i.ok){let e=await i.json().catch(()=>({error:`HTTP ${i.status}`}));throw Error(e.error||`Failed to fetch clients (${i.status})`)}let s=await i.json();g(s.clients||[])}catch(e){console.error("Error fetching data:",e),C(e.message||"Failed to load data")}finally{b(!1)}},I=(0,a.useCallback)(e=>{if(!e)return"(unassigned)";let t=o.find(t=>t.id===Number(e));return t?t.name:"(unassigned)"},[o]),B=async(e,t)=>{y(t=>({...t,[e]:!0})),C(null);try{let a=(0,H.getBackendUrl)(),i=null;if(t){let e=o.find(e=>e.id===t);i=e?e.name:null}let s=await fetch(`${a}/api/creative/clients/${e}/assign-employee`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({employee_id:t,employee_name:i})});if(!s.ok){let e=await s.json().catch(()=>({error:"Failed to assign employee"}));throw Error(e.error||"Failed to assign employee")}g(a=>a.map(a=>a.id===e?{...a,assignedEmployee:i||void 0,assignedEmployeeId:t||void 0}:a))}catch(e){console.error("Error assigning employee:",e),C(e.message||"Failed to assign employee")}finally{y(t=>({...t,[e]:!1}))}},F=l?p:p.filter(e=>!!r?.id&&(e.assignedEmployeeId===r.id||e.assignedEmployee===r.name||e.assignedEmployee===r.username));return(0,t.jsxs)(S.Dialog,{open:e,onClose:n,maxWidth:"md",fullWidth:!0,children:[(0,t.jsx)(T.DialogTitle,{children:l?"Admin Client Assignment":"Your Clients"}),(0,t.jsxs)(k.DialogContent,{children:[v&&(0,t.jsx)(m.Alert,{severity:"error",onClose:()=>C(null),sx:{mb:2},children:v}),f?(0,t.jsx)(i.Box,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,t.jsx)(A.CircularProgress,{})}):(0,t.jsxs)(V.Table,{children:[(0,t.jsx)(K.TableHead,{children:(0,t.jsxs)(G.TableRow,{children:[(0,t.jsx)(q.TableCell,{children:"Client Name"}),(0,t.jsx)(q.TableCell,{children:"Company"}),(0,t.jsx)(q.TableCell,{children:"Email"}),(0,t.jsx)(q.TableCell,{children:"Assigned Employee"}),l&&(0,t.jsx)(q.TableCell,{children:"Change Assignment"})]})}),(0,t.jsxs)(J.TableBody,{children:[F.map(e=>(0,t.jsxs)(G.TableRow,{children:[(0,t.jsx)(q.TableCell,{children:e.name}),(0,t.jsx)(q.TableCell,{children:e.company}),(0,t.jsx)(q.TableCell,{children:e.email}),(0,t.jsx)(q.TableCell,{children:I(e.assignedEmployeeId)}),l&&(0,t.jsxs)(q.TableCell,{children:[(0,t.jsx)(x.FormControl,{variant:"standard",size:"small",fullWidth:!0,children:(0,t.jsxs)(h.Select,{value:e.assignedEmployeeId||"",onChange:t=>B(e.id,t.target.value?Number(t.target.value):null),disabled:!!j[e.id],children:[(0,t.jsx)(u.MenuItem,{value:"",children:(0,t.jsx)("em",{children:"Unassign"})}),o.map(e=>(0,t.jsxs)(u.MenuItem,{value:e.id,children:[e.name," ",e.is_admin?"(Admin)":""]},e.id))]})}),j[e.id]&&(0,t.jsx)(A.CircularProgress,{size:16,sx:{ml:1}})]})]},e.id)),0===F.length&&(0,t.jsx)(G.TableRow,{children:(0,t.jsx)(q.TableCell,{colSpan:l?5:4,align:"center",sx:{py:4},children:(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",children:"No client records found."})})})]})]})]}),(0,t.jsxs)(P.DialogActions,{children:[(0,t.jsx)(c.Button,{onClick:w,disabled:f,children:"Refresh"}),(0,t.jsx)(c.Button,{onClick:n,children:"Close"})]})]})}var X=e.i(83344);let Y={streaming:"Streaming Panel",figma:"Designs & Code Panel",docs:"Documents Panel",learning:"Learning Hub Panel",aiJournal:"AI Journal Panel",aiAgent:"AI Agent Panel"};function Z(){let e=(0,X.useRouter)(),{settings:R,updateDashboardSettings:V,updatePanelSettings:J,updateApiKeys:q,resetSettings:K}=(0,U.useSettings)(),[G,Z]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{let e=(0,H.getBackendUrl)();console.log("[Settings] Fetching profile from:",`${e}/api/profile`);let t=await fetch(`${e}/api/profile`,{credentials:"include"});if(console.log("[Settings] Profile response status:",t.status),t.ok){let e=await t.json();console.log("[Settings] Profile data received:",e),Z(e)}else{let e=`HTTP ${t.status}`;try{let a=await t.json();e=a.error||a.message||e}catch(a){let e=await t.text();console.error("[Settings] Failed to fetch profile (non-JSON):",t.status,e.substring(0,200))}console.error("[Settings] Failed to fetch user profile:",e)}}catch(e){console.error("[Settings] Error fetching user profile:",e)}})()},[]);let[et,ea]=(0,a.useState)(!1),[ei,es]=(0,a.useState)(()=>{let e={};return Object.entries(R.panels).forEach(([t,a])=>{e[t]=a.order}),e});(0,a.useEffect)(()=>{let e={};Object.entries(R.panels).forEach(([t,a])=>{e[t]=a.order}),es(e)},[R.panels]);let en=(e,t)=>{let a=ei[e],i=Object.entries(ei).find(([a,i])=>a!==e&&i===t)?.[0],s={...ei};s[e]=t,i&&(s[i]=a,J(i,{order:a})),es(s),J(e,{order:t})},er=async()=>{if(!eu.trim()||!ep.trim())return void ew("Title and message are required");ef(!0),ew(null),ev(null);try{let e=(0,H.getBackendUrl)();if("all"===eg){let t=await fetch(`${e}/api/notifications/broadcast`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:ec,title:eu,message:ep,metadata:{admin:!0,sentBy:G?.username||"admin"}})});if(!t.ok){let e=await t.json().catch(()=>({error:"Failed to send notification"}));throw Error(e.error||"Failed to send notification")}ev("Notification sent to all users successfully!")}else{let t=await fetch(`${e}/api/notifications`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:ec,title:eu,message:ep,metadata:{admin:!0,sentBy:G?.username||"admin"}})});if(!t.ok){let e=await t.json().catch(()=>({error:"Failed to send notification"}));throw Error(e.error||"Failed to send notification")}ev("Notification sent successfully!")}ex(""),em("")}catch(e){ew(e.message||"Failed to send notification")}finally{ef(!1)}},el=G?.isAdmin||G?.patreonId===0x36255b0||G?.username==="isharehow"||G?.id==="isharehow"||G?.id==="admin"||G?.username==="admin"||G?.email==="jeliyah@isharehowlabs.com"||G?.username&&"isharehow"===G.username.toLowerCase()||G?.id&&"isharehow"===String(G.id).toLowerCase()||G?.id&&"admin"===String(G.id).toLowerCase(),[eo,ed]=(0,a.useState)(0),[ec,eh]=(0,a.useState)("admin"),[eu,ex]=(0,a.useState)(""),[ep,em]=(0,a.useState)(""),[eg,ej]=(0,a.useState)("self"),[ey,ef]=(0,a.useState)(!1),[eb,ev]=(0,a.useState)(null),[eC,ew]=(0,a.useState)(null),[eS,eT]=(0,a.useState)([]),[ek,eP]=(0,a.useState)(!1),[eA,eI]=(0,a.useState)(null),[eB,eF]=(0,a.useState)(!1),[eM,eE]=(0,a.useState)(!1),[eW,eD]=(0,a.useState)(null),[eL,eN]=(0,a.useState)(""),[eO,ez]=(0,a.useState)(""),[e$,e_]=(0,a.useState)(!1),[eR,eU]=(0,a.useState)(null);(0,a.useEffect)(()=>{el&&2===eo&&eH()},[el,eo]);let eH=async()=>{eP(!0),eI(null);try{let e=(0,H.getBackendUrl)(),t=await fetch(`${e}/api/admin/users`,{credentials:"include"});if(t.ok){let e=await t.json();eT(e.users||[])}else{let e=await t.json().catch(()=>({error:`HTTP ${t.status}`}));eI(e.error||`Failed to load users (${t.status})`)}}catch(e){console.error("Error fetching employees:",e),eI(e.message||"Failed to load users")}finally{eP(!1)}},eV=async(e,t)=>{try{let a=(0,H.getBackendUrl)(),i=await fetch(`${a}/api/admin/users/${e}/employee`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({isEmployee:!t})});if(i.ok)eH();else{let e=await i.json();eI(e.error||"Failed to update employee status")}}catch(e){eI(e.message||"Failed to update employee status")}},eJ=async(e,t)=>{try{let a=(0,H.getBackendUrl)(),i=await fetch(`${a}/api/admin/users/${e}/admin`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({isAdmin:!t})});if(i.ok){eH();let e=await fetch(`${a}/api/profile`,{credentials:"include"});if(e.ok){let t=await e.json();Z(t)}}else{let e=await i.json();eI(e.error||"Failed to update admin status")}}catch(e){eI(e.message||"Failed to update admin status")}},eq=()=>{eE(!1),eD(null),eN(""),ez(""),eU(null)},eK=async()=>{if(eW){if(!eL||eL.length<6)return void eU("Password must be at least 6 characters");if(eL!==eO)return void eU("Passwords do not match");e_(!0),eU(null);try{let e=(0,H.getBackendUrl)(),t=eW.id||eW.username||eW.user_id,a=encodeURIComponent(t),i=await fetch(`${e}/api/admin/users/${a}/password`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:eL})});if(i.ok)alert(`Password changed successfully for ${eW.name||eW.username||eW.email}`),eq();else{let e=await i.json();eU(e.error||"Failed to change password")}}catch(e){eU(e.message||"Failed to change password")}finally{e_(!1)}}};return(0,t.jsxs)(_.default,{active:"settings",children:[(0,t.jsxs)(i.Box,{sx:{maxWidth:1e3,mx:"auto"},children:[(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:4},children:[(0,t.jsx)(I.default,{sx:{fontSize:40,color:"primary.main"}}),(0,t.jsx)(s.Typography,{variant:"h4",sx:{fontWeight:700,background:"linear-gradient(45deg, #9146FF, #ff6b6b, #4ecdc4)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Settings"})]}),et&&(0,t.jsx)(m.Alert,{severity:"success",sx:{mb:3},onClose:()=>ea(!1),children:"Settings have been reset to default values."}),(0,t.jsx)(n.Paper,{elevation:2,sx:{mb:3},children:(0,t.jsxs)(v.Tabs,{value:eo,onChange:(e,t)=>ed(t),children:[(0,t.jsx)(C.Tab,{label:"General",icon:(0,t.jsx)(I.default,{}),iconPosition:"start"}),(0,t.jsx)(C.Tab,{label:"Creative",icon:(0,t.jsx)(N.default,{}),iconPosition:"start"}),el&&(0,t.jsx)(C.Tab,{label:"Admin",icon:(0,t.jsx)(D.default,{}),iconPosition:"start"})]})}),0===eo&&(0,t.jsxs)(i.Box,{children:[(0,t.jsxs)(n.Paper,{elevation:2,sx:{p:4,mb:3},children:[(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,t.jsx)(B.default,{color:"primary"}),(0,t.jsx)(s.Typography,{variant:"h6",sx:{fontWeight:600},children:"Dashboard Settings"})]}),(0,t.jsx)(d.Divider,{sx:{mb:3}}),(0,t.jsxs)(r.Stack,{spacing:3,children:[(0,t.jsxs)(x.FormControl,{fullWidth:!0,children:[(0,t.jsx)(p.InputLabel,{children:"Default Tab"}),(0,t.jsxs)(h.Select,{value:R.dashboard.defaultTab,label:"Default Tab",onChange:e=>V({defaultTab:Number(e.target.value)}),children:[(0,t.jsx)(u.MenuItem,{value:0,children:"Streaming"}),(0,t.jsx)(u.MenuItem,{value:1,children:"Designs & Code"}),(0,t.jsx)(u.MenuItem,{value:2,children:"Documents"}),(0,t.jsx)(u.MenuItem,{value:3,children:"Learning Hub"})]})]}),(0,t.jsxs)(x.FormControl,{fullWidth:!0,children:[(0,t.jsx)(p.InputLabel,{children:"Layout Style"}),(0,t.jsxs)(h.Select,{value:R.dashboard.layout,label:"Layout Style",onChange:e=>V({layout:e.target.value}),children:[(0,t.jsx)(u.MenuItem,{value:"grid",children:"Grid"}),(0,t.jsx)(u.MenuItem,{value:"list",children:"List"})]})]})]})]}),(0,t.jsxs)(n.Paper,{elevation:2,sx:{p:4,mb:3},children:[(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,t.jsx)(I.default,{color:"primary"}),(0,t.jsx)(s.Typography,{variant:"h6",sx:{fontWeight:600},children:"API Keys"})]}),(0,t.jsx)(d.Divider,{sx:{mb:3}}),(0,t.jsx)(r.Stack,{spacing:3,children:(0,t.jsx)(b.TextField,{fullWidth:!0,label:"Revid.ai API Key",type:"password",value:R.apiKeys?.revidApiKey||"",onChange:e=>q({revidApiKey:e.target.value}),placeholder:"Enter your Revid.ai API key",helperText:"Required for AI Agent panel to generate and auto-post videos"})})]}),(0,t.jsxs)(n.Paper,{elevation:2,sx:{p:4,mb:3},children:[(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,t.jsx)(F.default,{color:"primary"}),(0,t.jsx)(s.Typography,{variant:"h6",sx:{fontWeight:600},children:"Component Panel Settings"})]}),(0,t.jsx)(d.Divider,{sx:{mb:3}}),(0,t.jsx)(r.Stack,{spacing:2,children:Object.entries(R.panels).map(([e,a])=>(0,t.jsxs)(g.Accordion,{defaultExpanded:"streaming"===e,children:[(0,t.jsx)(j.AccordionSummary,{expandIcon:(0,t.jsx)(M.default,{}),children:(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{width:"100%",pr:2},children:[(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{checked:a.visible,onChange:t=>{t.stopPropagation(),J(e,{visible:t.target.checked})},onClick:e=>e.stopPropagation()}),label:Y[e]||e,onClick:e=>e.stopPropagation()}),(0,t.jsx)(i.Box,{sx:{flexGrow:1}}),(0,t.jsxs)(s.Typography,{variant:"caption",color:"text.secondary",children:["Order: ",a.order+1]})]})}),(0,t.jsx)(y.AccordionDetails,{children:(0,t.jsx)(r.Stack,{spacing:2,children:(0,t.jsxs)(i.Box,{children:[(0,t.jsxs)(s.Typography,{variant:"body2",sx:{mb:1},children:["Panel Order (1-",Object.keys(R.panels).length,")"]}),(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",children:[(0,t.jsx)(c.Button,{size:"small",variant:"outlined",disabled:0===ei[e],onClick:()=>{let t=Math.max(0,ei[e]-1);en(e,t)},children:"↑ Move Up"}),(0,t.jsx)(b.TextField,{type:"number",size:"small",value:ei[e]+1,onChange:t=>{en(e,Math.max(0,Math.min(Object.keys(R.panels).length-1,Number(t.target.value)-1)))},inputProps:{min:1,max:Object.keys(R.panels).length},sx:{width:80}}),(0,t.jsx)(c.Button,{size:"small",variant:"outlined",disabled:ei[e]===Object.keys(R.panels).length-1,onClick:()=>{let t=Math.min(Object.keys(R.panels).length-1,ei[e]+1);en(e,t)},children:"↓ Move Down"})]})]})})})]},e))})]}),(0,t.jsx)(n.Paper,{elevation:2,sx:{p:3,mb:3},children:(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",children:[(0,t.jsxs)(i.Box,{children:[(0,t.jsx)(s.Typography,{variant:"h6",sx:{fontWeight:600,mb:1},children:"Reset Settings"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",children:"Restore all settings to their default values"})]}),(0,t.jsx)(c.Button,{variant:"outlined",color:"error",startIcon:(0,t.jsx)(W.default,{}),onClick:()=>{K(),ea(!0),setTimeout(()=>ea(!1),3e3);let e={};Object.entries(R.panels).forEach(([t,a])=>{e[t]=a.order}),es(e)},children:"Reset to Defaults"})]})})]}),1===eo&&(0,t.jsx)(ee,{}),2===eo&&el&&(0,t.jsxs)(i.Box,{children:[(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4,mb:3,border:"2px solid gold"},children:[(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,t.jsx)(L.default,{sx:{color:"gold",fontSize:32}}),(0,t.jsx)(s.Typography,{variant:"h6",sx:{fontWeight:700,color:"gold"},children:"Send Notification"})]}),(0,t.jsx)(d.Divider,{sx:{mb:3,borderColor:"gold"}}),eb&&(0,t.jsx)(m.Alert,{severity:"success",sx:{mb:3},onClose:()=>ev(null),children:eb}),eC&&(0,t.jsx)(m.Alert,{severity:"error",sx:{mb:3},onClose:()=>ew(null),children:eC}),(0,t.jsxs)(r.Stack,{spacing:3,children:[(0,t.jsxs)(x.FormControl,{fullWidth:!0,children:[(0,t.jsx)(p.InputLabel,{children:"Notification Type"}),(0,t.jsxs)(h.Select,{value:ec,label:"Notification Type",onChange:e=>eh(e.target.value),children:[(0,t.jsx)(u.MenuItem,{value:"admin",children:"Admin"}),(0,t.jsx)(u.MenuItem,{value:"system",children:"System"}),(0,t.jsx)(u.MenuItem,{value:"live-update",children:"Live Update"}),(0,t.jsx)(u.MenuItem,{value:"board",children:"Board"}),(0,t.jsx)(u.MenuItem,{value:"timer",children:"Timer"}),(0,t.jsx)(u.MenuItem,{value:"twitch",children:"Twitch"})]})]}),(0,t.jsxs)(x.FormControl,{fullWidth:!0,children:[(0,t.jsx)(p.InputLabel,{children:"Target"}),(0,t.jsxs)(h.Select,{value:eg,label:"Target",onChange:e=>ej(e.target.value),children:[(0,t.jsx)(u.MenuItem,{value:"self",children:"Send to Myself (Test)"}),(0,t.jsx)(u.MenuItem,{value:"all",children:"Send to All Users"})]})]}),(0,t.jsx)(b.TextField,{fullWidth:!0,label:"Title",value:eu,onChange:e=>ex(e.target.value),placeholder:"Enter notification title",required:!0}),(0,t.jsx)(b.TextField,{fullWidth:!0,label:"Message",value:ep,onChange:e=>em(e.target.value),placeholder:"Enter notification message",multiline:!0,rows:4,required:!0}),(0,t.jsx)(c.Button,{variant:"contained",color:"primary",size:"large",startIcon:(0,t.jsx)(L.default,{}),onClick:er,disabled:ey||!eu.trim()||!ep.trim(),sx:{alignSelf:"flex-start"},children:ey?"Sending...":"Send Notification"})]})]}),(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4,mb:3,border:"2px solid gold"},children:[(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,t.jsx)(I.default,{sx:{color:"gold",fontSize:32}}),(0,t.jsx)(s.Typography,{variant:"h6",sx:{fontWeight:700,color:"gold"},children:"Community Q&A Moderation"})]}),(0,t.jsx)(d.Divider,{sx:{mb:3,borderColor:"gold"}}),(0,t.jsx)(s.Typography,{variant:"body1",sx:{mb:2},children:"Review, approve, or remove questions and answers. Set question visibility duration. Manage categories and highlight featured questions. Bulk moderation and audit logging supported."}),(0,t.jsxs)(r.Stack,{spacing:2,children:[(0,t.jsx)(c.Button,{variant:"contained",color:"primary",children:"Review Pending Questions"}),(0,t.jsx)(c.Button,{variant:"contained",color:"secondary",children:"Manage Answers"}),(0,t.jsx)(c.Button,{variant:"contained",color:"info",children:"Bulk Moderation"}),(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",children:[(0,t.jsx)(s.Typography,{variant:"body2",sx:{color:"gold",minWidth:180},children:"Set Question Visibility (hours):"}),(0,t.jsx)(b.TextField,{type:"number",size:"small",defaultValue:48,inputProps:{min:1,max:168},sx:{width:100}}),(0,t.jsx)(c.Button,{variant:"outlined",color:"success",children:"Update"})]}),(0,t.jsx)(c.Button,{variant:"outlined",color:"warning",children:"Manage Categories"}),(0,t.jsx)(c.Button,{variant:"outlined",color:"secondary",children:"Bulk Category Management"})]}),(0,t.jsx)(d.Divider,{sx:{my:3,borderColor:"gold"}}),(0,t.jsx)(s.Typography,{variant:"h6",sx:{fontWeight:700,color:"gold",mb:2},children:"Audit Log (Render)"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"All admin actions are logged for review and compliance. Logs are available in the Render dashboard."}),(0,t.jsx)(n.Paper,{variant:"outlined",sx:{p:2,background:"rgba(255,255,224,0.15)",border:"1px solid gold"},children:(0,t.jsxs)(s.Typography,{variant:"body2",color:"gold",children:["[2025-11-22 10:15] Admin Jane approved question #123",(0,t.jsx)("br",{}),"[2025-11-22 10:16] Admin Jane removed answer #456",(0,t.jsx)("br",{}),'[2025-11-22 10:17] Admin Jane updated category "Streaming"',(0,t.jsx)("br",{}),"[2025-11-22 10:18] Admin Jane performed bulk moderation",(0,t.jsx)("br",{})]})})]}),(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4,mb:3,border:"2px solid gold"},children:[(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,t.jsx)(D.default,{sx:{color:"gold",fontSize:32}}),(0,t.jsx)(s.Typography,{variant:"h6",sx:{fontWeight:700,color:"gold"},children:"Employee Management"})]}),(0,t.jsx)(d.Divider,{sx:{mb:3,borderColor:"gold"}}),eA&&(0,t.jsx)(m.Alert,{severity:"error",sx:{mb:3},onClose:()=>eI(null),children:eA}),(0,t.jsx)(s.Typography,{variant:"body1",sx:{mb:3},children:"Manage employee status for users. Employees have access to the Creative Dashboard and can be assigned to clients."}),ek?(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",children:"Loading users..."}):0===eS.length?(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",children:"No users found."}):(0,t.jsx)(r.Stack,{spacing:2,children:eS.map(e=>(0,t.jsx)(n.Paper,{variant:"outlined",sx:{p:2},children:(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",children:[(0,t.jsxs)(i.Box,{sx:{flex:1},children:[(0,t.jsx)(s.Typography,{variant:"body1",sx:{fontWeight:600},children:e.name||e.username||e.email||"Unknown User"}),(0,t.jsxs)(s.Typography,{variant:"body2",color:"text.secondary",children:[e.ensName||e.id," ",e.email&&`• ${e.email}`]}),(0,t.jsxs)(r.Stack,{direction:"row",spacing:1,sx:{mt:1},children:[e.isAdmin&&(0,t.jsx)(w.Chip,{label:"Admin",color:"error",size:"small"}),e.isEmployee&&(0,t.jsx)(w.Chip,{label:"Employee",color:"secondary",size:"small"}),e.isPaidMember&&(0,t.jsx)(w.Chip,{label:"Paid Member",color:"success",size:"small",variant:"outlined"})]})]}),(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",children:[(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{checked:e.isAdmin||!1,onChange:()=>eJ(e.id||e.user_id,e.isAdmin||!1),disabled:e.id===G?.id||e.username===G?.username}),label:"Admin"}),(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{checked:e.isEmployee||!1,onChange:()=>eV(e.id||e.user_id,e.isEmployee||!1),disabled:e.isAdmin}),label:e.isEmployee?"Employee":"Not Employee"}),(0,t.jsx)(c.Button,{variant:"outlined",size:"small",onClick:()=>{eD(e),eN(""),ez(""),eU(null),eE(!0)},sx:{ml:2},children:"Change Password"})]})]})},e.id))}),(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,sx:{mt:3},children:[(0,t.jsx)(c.Button,{variant:"outlined",startIcon:(0,t.jsx)(E.default,{}),onClick:eH,disabled:ek,children:ek?"Loading...":"Refresh List"}),(0,t.jsx)(c.Button,{variant:"contained",startIcon:(0,t.jsx)(O.default,{}),onClick:()=>eF(!0),disabled:ek,children:"Manage Client Assignments"})]})]}),(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4,mb:3,border:"2px solid gold"},children:[(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,t.jsx)(O.default,{sx:{color:"gold",fontSize:32}}),(0,t.jsx)(s.Typography,{variant:"h6",sx:{fontWeight:700,color:"gold"},children:"Client Assignment Management"})]}),(0,t.jsx)(d.Divider,{sx:{mb:3,borderColor:"gold"}}),(0,t.jsx)(s.Typography,{variant:"body1",sx:{mb:3},children:"Assign clients to employees. Admins can reassign any client to any employee. Employees can view their assigned clients."}),(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,children:[(0,t.jsx)(c.Button,{variant:"contained",startIcon:(0,t.jsx)(O.default,{}),onClick:()=>eF(!0),children:"Open Assignment Dialog"}),(0,t.jsx)(c.Button,{variant:"outlined",onClick:()=>e.push("/creative"),children:"Go to Creative Dashboard"})]})]})]})]}),(0,t.jsx)(Q,{open:eB,onClose:()=>eF(!1),currentUser:G,isAdminView:el}),(0,t.jsxs)(S.Dialog,{open:eM,onClose:eq,maxWidth:"sm",fullWidth:!0,children:[(0,t.jsx)(T.DialogTitle,{children:(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",children:[(0,t.jsxs)(r.Stack,{direction:"row",spacing:1,alignItems:"center",children:[(0,t.jsx)(z.default,{}),(0,t.jsx)(s.Typography,{variant:"h6",children:"Change Password"})]}),(0,t.jsx)(f.IconButton,{onClick:eq,size:"small",children:(0,t.jsx)($.default,{})})]})}),(0,t.jsxs)(k.DialogContent,{children:[eW&&(0,t.jsxs)(i.Box,{sx:{mb:3},children:[(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Changing password for:"}),(0,t.jsx)(s.Typography,{variant:"body1",fontWeight:600,children:eW.name||eW.username||eW.email}),eW.email&&(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",children:eW.email})]}),eR&&(0,t.jsx)(m.Alert,{severity:"error",sx:{mb:2},onClose:()=>eU(null),children:eR}),(0,t.jsxs)(r.Stack,{spacing:2,sx:{mt:1},children:[(0,t.jsx)(b.TextField,{fullWidth:!0,type:"password",label:"New Password",value:eL,onChange:e=>eN(e.target.value),placeholder:"Enter new password (min 6 characters)",disabled:e$,helperText:"Password must be at least 6 characters long"}),(0,t.jsx)(b.TextField,{fullWidth:!0,type:"password",label:"Confirm Password",value:eO,onChange:e=>ez(e.target.value),placeholder:"Confirm new password",disabled:e$,error:""!==eO&&eL!==eO,helperText:""!==eO&&eL!==eO?"Passwords do not match":""})]})]}),(0,t.jsxs)(P.DialogActions,{children:[(0,t.jsx)(c.Button,{onClick:eq,disabled:e$,children:"Cancel"}),(0,t.jsx)(c.Button,{onClick:eK,variant:"contained",disabled:e$||!eL||!eO||eL!==eO||eL.length<6,startIcon:e$?(0,t.jsx)(A.CircularProgress,{size:20}):(0,t.jsx)(z.default,{}),children:e$?"Changing...":"Change Password"})]})]})]})}function ee(){return(0,t.jsxs)(i.Box,{children:[(0,t.jsx)(s.Typography,{variant:"h5",fontWeight:700,gutterBottom:!0,children:"Creative Settings"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",sx:{mb:4},children:"Configure default settings for the Creative Dashboard and client management"}),(0,t.jsxs)(r.Stack,{spacing:3,children:[(0,t.jsxs)(n.Paper,{sx:{p:3},children:[(0,t.jsx)(s.Typography,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Default Client Permissions"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Set default permissions for new clients when they are added to the system."}),(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{defaultChecked:!0}),label:"Auto-enable Co-Work Dashboard access"}),(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{defaultChecked:!0}),label:"Auto-enable RISE Dashboard access"}),(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{}),label:"Require email verification before activation"})]}),(0,t.jsxs)(n.Paper,{sx:{p:3},children:[(0,t.jsx)(s.Typography,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Notification Preferences"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose what notifications you want to receive for client activities."}),(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{defaultChecked:!0}),label:"Notify on new client sign-ups"}),(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{defaultChecked:!0}),label:"Notify on support requests"}),(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{}),label:"Notify on client dashboard activity"})]}),(0,t.jsxs)(n.Paper,{sx:{p:3},children:[(0,t.jsx)(s.Typography,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Analytics Integration"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Configure Google Analytics integration for client project tracking."}),(0,t.jsx)(c.Button,{variant:"outlined",sx:{mt:1},children:"Connect Google Analytics"})]}),(0,t.jsxs)(n.Paper,{sx:{p:3},children:[(0,t.jsx)(s.Typography,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Employee Assignment"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Manage default employee assignments and sorting preferences."}),(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{defaultChecked:!0}),label:"Auto-assign clients based on workload"}),(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{defaultChecked:!0}),label:"Allow employees to sort their own projects"})]})]})]})}e.s(["default",0,function(){return(0,t.jsx)(R.default,{children:(0,t.jsx)(Z,{})})}],7693)},89419,(e,t,a)=>{let i="/settings";(window.__NEXT_P=window.__NEXT_P||[]).push([i,()=>e.r(7693)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([i])})}]);