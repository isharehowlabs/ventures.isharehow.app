(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4591,e=>{"use strict";e.i(96335);var t=e.i(80622),a=e.i(84933),r=e.i(58891),l=e.i(81706),s=e.i(15127),i=e.i(96163),o=e.i(18420),n=e.i(27446),d=e.i(90324),c=e.i(96861),h=e.i(51480),u=e.i(13740);function p(e){return(0,u.default)("MuiSwitch",e)}let m=(0,h.default)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var g=e.i(44855);let f=["className","color","edge","size","sx"],b=(0,d.styled)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.edge&&t[`edge${(0,o.default)(a.edge)}`],t[`size${(0,o.default)(a.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${m.thumb}`]:{width:16,height:16},[`& .${m.switchBase}`]:{padding:4,[`&.${m.checked}`]:{transform:"translateX(16px)"}}}}]}),v=(0,d.styled)(n.default,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.switchBase,{[`& .${m.input}`]:t.input},"default"!==a.color&&t[`color${(0,o.default)(a.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${"light"===e.palette.mode?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${m.checked}`]:{transform:"translateX(20px)"},[`&.${m.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${m.checked} + .${m.track}`]:{opacity:.5},[`&.${m.disabled} + .${m.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${"light"===e.palette.mode?.12:.2}`},[`& .${m.input}`]:{left:"-100%",width:"300%"}}),({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,i.alpha)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,e])=>e.main&&e.light).map(([t])=>({props:{color:t},style:{[`&.${m.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,i.alpha)(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${m.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${"light"===e.palette.mode?(0,i.lighten)(e.palette[t].main,.62):(0,i.darken)(e.palette[t].main,.55)}`}},[`&.${m.checked} + .${m.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]})),y=(0,d.styled)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${"light"===e.palette.mode?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${"light"===e.palette.mode?.38:.3}`})),x=(0,d.styled)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),j=r.forwardRef(function(e,r){let i=(0,c.useDefaultProps)({props:e,name:"MuiSwitch"}),{className:n,color:d="primary",edge:h=!1,size:u="medium",sx:m}=i,j=(0,t.default)(i,f),w=(0,a.default)({},i,{color:d,edge:h,size:u}),C=(e=>{let{classes:t,edge:r,size:l,color:i,checked:n,disabled:d}=e,c={root:["root",r&&`edge${(0,o.default)(r)}`,`size${(0,o.default)(l)}`],switchBase:["switchBase",`color${(0,o.default)(i)}`,n&&"checked",d&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},h=(0,s.default)(c,p,t);return(0,a.default)({},t,h)})(w),k=(0,g.jsx)(x,{className:C.thumb,ownerState:w});return(0,g.jsxs)(b,{className:(0,l.default)(C.root,n),sx:m,ownerState:w,children:[(0,g.jsx)(v,(0,a.default)({type:"checkbox",icon:k,checkedIcon:k,ref:r,ownerState:w},j,{classes:(0,a.default)({},C,{root:C.switchBase})})),(0,g.jsx)(y,{className:C.track,ownerState:w})]})});e.s(["Switch",0,j],4591)},35134,(e,t,a)=>{"use strict";var r=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=r(e.r(64800)),s=e.r(44855);a.default=(0,l.default)([(0,s.jsx)("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),(0,s.jsx)("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings")},60472,(e,t,a)=>{"use strict";var r=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=r(e.r(64800)),s=e.r(44855);a.default=(0,l.default)((0,s.jsx)("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"VpnKey")},5385,68914,e=>{"use strict";var t=e.i(58891);let a={defaultTab:0,layout:"grid",showTaskList:!0,showLiveUpdates:!0,autoRefresh:!0,refreshInterval:300},r={workspace:{visible:!0,order:0},focus:{visible:!0,order:3}},l="user_dashboard_settings";function s(){let[e,s]=(0,t.useState)(()=>{try{let e=localStorage.getItem(l);if(e){let t=JSON.parse(e);return{dashboard:{...a,...t.dashboard},panels:{...r,...t.panels},apiKeys:t.apiKeys||{}}}}catch(e){console.error("Error loading settings:",e)}return{dashboard:a,panels:r,apiKeys:{}}}),i=(0,t.useCallback)(e=>{s(t=>{let a={...t,dashboard:{...t.dashboard,...e}};try{localStorage.setItem(l,JSON.stringify(a))}catch(e){console.error("Error saving settings:",e)}return a})},[]),o=(0,t.useCallback)((e,t)=>{s(a=>{let r={...a,panels:{...a.panels,[e]:{...a.panels[e],...t}}};try{localStorage.setItem(l,JSON.stringify(r))}catch(e){console.error("Error saving settings:",e)}return r})},[]),n=(0,t.useCallback)(e=>{s(t=>{let a={...t,apiKeys:{...t.apiKeys,...e}};try{localStorage.setItem(l,JSON.stringify(a))}catch(e){console.error("Error saving settings:",e)}return a})},[]),d=(0,t.useCallback)(()=>{let e={dashboard:a,panels:r,apiKeys:{}};s(e);try{localStorage.setItem(l,JSON.stringify(e))}catch(e){console.error("Error saving settings:",e)}},[]),c=(0,t.useCallback)(()=>Object.entries(e.panels).filter(([e,t])=>"web3"!==e&&"figma"!==e&&"docs"!==e&&"opportunities"!==e&&"streaming"!==e&&t.visible).sort(([e,t],[a,r])=>t.order-r.order).map(([e])=>e),[e.panels]);return{settings:e,updateDashboardSettings:i,updatePanelSettings:o,updateApiKeys:n,resetSettings:d,getVisiblePanels:c}}e.s(["useSettings",()=>s],5385);var i=e.i(44855),o=e.i(33948),n=e.i(18295),d=e.i(92279),c=e.i(47379),h=e.i(75557),u=e.i(94367),p=e.i(87225),m=e.i(33932),g=e.i(7656),f=e.i(50723),b=e.i(83161),v=e.i(39972),y=e.i(20161),x=e.i(37025),j=e.i(9109),w=e.i(74614),C=e.i(15915),k=e.i(13654);function S({open:e,onClose:a,currentUser:r,isAdminView:l}){let[s,S]=(0,t.useState)([]),[$,T]=(0,t.useState)([]),[E,O]=(0,t.useState)({}),[B,I]=(0,t.useState)(!0),[M,R]=(0,t.useState)(null);(0,t.useEffect)(()=>{e&&z()},[e]);let z=async()=>{I(!0),R(null);try{let e=(0,k.getBackendUrl)(),t=await fetch(`${e}/api/creative/employees`,{credentials:"include"});if(!t.ok){let e=await t.json().catch(()=>({error:`HTTP ${t.status}`}));throw Error(e.error||`Failed to fetch employees (${t.status})`)}let a=await t.json();S(a.employees||[]);let r=await fetch(`${e}/api/creative/clients`,{credentials:"include"});if(!r.ok){let e=await r.json().catch(()=>({error:`HTTP ${r.status}`}));throw Error(e.error||`Failed to fetch clients (${r.status})`)}let l=await r.json();T(l.clients||[])}catch(e){console.error("Error fetching data:",e),R(e.message||"Failed to load data")}finally{I(!1)}},N=(0,t.useCallback)(e=>{if(!e)return"(unassigned)";let t=s.find(t=>t.id===Number(e));return t?t.name:"(unassigned)"},[s]),P=async(e,t)=>{O(t=>({...t,[e]:!0})),R(null);try{let a=(0,k.getBackendUrl)(),r=null;if(t){let e=s.find(e=>e.id===t);r=e?e.name:null}let l=await fetch(`${a}/api/creative/clients/${e}/assign-employee`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({employee_id:t,employee_name:r})});if(!l.ok){let e=await l.json().catch(()=>({error:"Failed to assign employee"}));throw Error(e.error||"Failed to assign employee")}T(a=>a.map(a=>a.id===e?{...a,assignedEmployee:r||void 0,assignedEmployeeId:t||void 0}:a))}catch(e){console.error("Error assigning employee:",e),R(e.message||"Failed to assign employee")}finally{O(t=>({...t,[e]:!1}))}},A=l?$:$.filter(e=>!!r?.id&&(e.assignedEmployeeId===r.id||e.assignedEmployee===r.name||e.assignedEmployee===r.username));return(0,i.jsxs)(o.Dialog,{open:e,onClose:a,maxWidth:"md",fullWidth:!0,children:[(0,i.jsx)(n.DialogTitle,{children:l?"Admin Client Assignment":"Your Clients"}),(0,i.jsxs)(d.DialogContent,{children:[M&&(0,i.jsx)(j.Alert,{severity:"error",onClose:()=>R(null),sx:{mb:2},children:M}),B?(0,i.jsx)(w.Box,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,i.jsx)(x.CircularProgress,{})}):(0,i.jsxs)(u.Table,{children:[(0,i.jsx)(g.TableHead,{children:(0,i.jsxs)(f.TableRow,{children:[(0,i.jsx)(m.TableCell,{children:"Client Name"}),(0,i.jsx)(m.TableCell,{children:"Company"}),(0,i.jsx)(m.TableCell,{children:"Email"}),(0,i.jsx)(m.TableCell,{children:"Assigned Employee"}),l&&(0,i.jsx)(m.TableCell,{children:"Change Assignment"})]})}),(0,i.jsxs)(p.TableBody,{children:[A.map(e=>(0,i.jsxs)(f.TableRow,{children:[(0,i.jsx)(m.TableCell,{children:e.name}),(0,i.jsx)(m.TableCell,{children:e.company}),(0,i.jsx)(m.TableCell,{children:e.email}),(0,i.jsx)(m.TableCell,{children:N(e.assignedEmployeeId)}),l&&(0,i.jsxs)(m.TableCell,{children:[(0,i.jsx)(b.FormControl,{variant:"standard",size:"small",fullWidth:!0,children:(0,i.jsxs)(v.Select,{value:e.assignedEmployeeId||"",onChange:t=>P(e.id,t.target.value?Number(t.target.value):null),disabled:!!E[e.id],children:[(0,i.jsx)(y.MenuItem,{value:"",children:(0,i.jsx)("em",{children:"Unassign"})}),s.map(e=>(0,i.jsxs)(y.MenuItem,{value:e.id,children:[e.name," ",e.is_admin?"(Admin)":""]},e.id))]})}),E[e.id]&&(0,i.jsx)(x.CircularProgress,{size:16,sx:{ml:1}})]})]},e.id)),0===A.length&&(0,i.jsx)(f.TableRow,{children:(0,i.jsx)(m.TableCell,{colSpan:l?5:4,align:"center",sx:{py:4},children:(0,i.jsx)(C.Typography,{variant:"body2",color:"text.secondary",children:"No client records found."})})})]})]})]}),(0,i.jsxs)(c.DialogActions,{children:[(0,i.jsx)(h.Button,{onClick:z,disabled:B,children:"Refresh"}),(0,i.jsx)(h.Button,{onClick:a,children:"Close"})]})]})}e.s(["default",()=>S],68914)},9781,e=>{e.v(t=>Promise.all(["static/chunks/d62b89fe821ade37.js"].map(t=>e.l(t))).then(()=>t(94246)))},90413,e=>{e.v(t=>Promise.all(["static/chunks/1b9991f459e98f67.js"].map(t=>e.l(t))).then(()=>t(18636)))}]);