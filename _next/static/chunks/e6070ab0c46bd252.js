(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52163,e=>{"use strict";e.i(96335);var t=e.i(84933),r=e.i(80622),a=e.i(61678),o=e.i(90389),i=e.i(36831),n=e.i(92489);let s=["ownerState"],l=["variants"],c=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function d(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function p(e,t){return t&&e&&"object"==typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}let h=(0,i.default)();function x({defaultTheme:e,theme:t,themeId:r}){return 0===Object.keys(t).length?e:t[r]||t}function u(e,o,i){let{ownerState:n}=o,c=(0,r.default)(o,s),d="function"==typeof e?e((0,t.default)({ownerState:n},c)):e;if(Array.isArray(d))return d.flatMap(e=>u(e,(0,t.default)({ownerState:n},c),i));if(d&&"object"==typeof d&&Array.isArray(d.variants)){let{variants:e=[]}=d,o=(0,r.default)(d,l);return e.forEach(e=>{let r=!0;if("function"==typeof e.props?r=e.props((0,t.default)({ownerState:n},c,n)):Object.keys(e.props).forEach(t=>{(null==n?void 0:n[t])!==e.props[t]&&c[t]!==e.props[t]&&(r=!1)}),r){Array.isArray(o)||(o=[o]);let r="function"==typeof e.style?e.style((0,t.default)({ownerState:n},c,n)):e.style;o.push(i?p((0,a.internal_serializeStyles)(r),i):r)}}),o}return i?p((0,a.internal_serializeStyles)(d),i):d}let y=function(e={}){let{themeId:i,defaultTheme:s=h,rootShouldForwardProp:l=d,slotShouldForwardProp:p=d}=e,y=e=>(0,n.default)((0,t.default)({},e,{theme:x((0,t.default)({},e,{defaultTheme:s,themeId:i}))}));return y.__mui_systemSx=!0,(e,n={})=>{var h;let m;(0,a.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));let{name:f,slot:g,skipVariantsResolver:j,skipSx:b,overridesResolver:v=!(h=!g?g:g.charAt(0).toLowerCase()+g.slice(1))?null:(e,t)=>t[h]}=n,k=(0,r.default)(n,c),S=f&&f.startsWith("Mui")||g?"components":"custom",T=void 0!==j?j:g&&"Root"!==g&&"root"!==g||!1,w=b||!1,B=d;"Root"===g||"root"===g?B=l:g?B=p:"string"==typeof e&&e.charCodeAt(0)>96&&(B=void 0);let C=(0,a.default)(e,(0,t.default)({shouldForwardProp:B,label:m},k)),A=e=>"function"==typeof e&&e.__emotion_real!==e||(0,o.isPlainObject)(e)?r=>{let a=x({theme:r.theme,defaultTheme:s,themeId:i});return u(e,(0,t.default)({},r,{theme:a}),a.modularCssLayers?S:void 0)}:e,P=(r,...a)=>{let o=A(r),n=a?a.map(A):[];f&&v&&n.push(e=>{let r=x((0,t.default)({},e,{defaultTheme:s,themeId:i}));if(!r.components||!r.components[f]||!r.components[f].styleOverrides)return null;let a=r.components[f].styleOverrides,o={};return Object.entries(a).forEach(([a,i])=>{o[a]=u(i,(0,t.default)({},e,{theme:r}),r.modularCssLayers?"theme":void 0)}),v(e,o)}),f&&!T&&n.push(e=>{var r;let a=x((0,t.default)({},e,{defaultTheme:s,themeId:i}));return u({variants:null==a||null==(r=a.components)||null==(r=r[f])?void 0:r.variants},(0,t.default)({},e,{theme:a}),a.modularCssLayers?"theme":void 0)}),w||n.push(y);let l=n.length-a.length;if(Array.isArray(r)&&l>0){let e=Array(l).fill("");(o=[...r,...e]).raw=[...r.raw,...e]}let c=C(o,...n);return e.muiName&&(c.muiName=e.muiName),c};return C.withConfig&&(P.withConfig=C.withConfig),P}}();e.s(["default",0,y],52163)},87002,e=>{"use strict";var t=e.i(97960),r=e.i(83799);function a({props:e,name:a,defaultTheme:o,themeId:i}){let n=(0,r.default)(o);return i&&(n=n[i]||n),(0,t.default)({theme:n,name:a,props:e})}e.s(["default",()=>a])},15708,37114,e=>{"use strict";e.i(96335);var t=e.i(80622),r=e.i(84933),a=e.i(58891),o=e.i(81706),i=e.i(90389),n=e.i(13740),s=e.i(15127),l=e.i(52163),c=e.i(87002),d=e.i(66188),p=e.i(36831),h=e.i(69631),x=e.i(40999),u=e.i(44855);let y=["component","direction","spacing","divider","children","className","useFlexGap"],m=(0,p.default)(),f=(0,l.default)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function g(e){return(0,c.default)({props:e,name:"MuiStack",defaultTheme:m})}let j=({ownerState:e,theme:t})=>{let a=(0,r.default)({display:"flex",flexDirection:"column"},(0,h.handleBreakpoints)({theme:t},(0,h.resolveBreakpointValues)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let r=(0,x.createUnarySpacing)(t),o=Object.keys(t.breakpoints.values).reduce((t,r)=>(("object"==typeof e.spacing&&null!=e.spacing[r]||"object"==typeof e.direction&&null!=e.direction[r])&&(t[r]=!0),t),{}),n=(0,h.resolveBreakpointValues)({values:e.direction,base:o}),s=(0,h.resolveBreakpointValues)({values:e.spacing,base:o});"object"==typeof n&&Object.keys(n).forEach((e,t,r)=>{if(!n[e]){let a=t>0?n[r[t-1]]:"column";n[e]=a}}),a=(0,i.default)(a,(0,h.handleBreakpoints)({theme:t},s,(t,a)=>e.useFlexGap?{gap:(0,x.getValue)(r,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[a?n[a]:e.direction]}`]:(0,x.getValue)(r,t)}}))}return(0,h.mergeBreakpointsInOrder)(t.breakpoints,a)};var b=e.i(95262),v=e.i(96861);let k=function(e={}){let{createStyledComponent:i=f,useThemeProps:l=g,componentName:c="MuiStack"}=e,p=i(j);return a.forwardRef(function(e,i){let h,x=l(e),m=(0,d.extendSxProp)(x),{component:f="div",direction:g="column",spacing:j=0,divider:b,children:v,className:k,useFlexGap:S=!1}=m,T=(0,t.default)(m,y),w=(0,s.default)({root:["root"]},e=>(0,n.default)(c,e),{});return(0,u.jsx)(p,(0,r.default)({as:f,ownerState:{direction:g,spacing:j,useFlexGap:S},ref:i,className:(0,o.default)(w.root,k)},T,{children:b?(h=a.Children.toArray(v).filter(Boolean)).reduce((e,t,r)=>(e.push(t),r<h.length-1&&e.push(a.cloneElement(b,{key:`separator-${r}`})),e),[]):v}))})}({createStyledComponent:(0,b.default)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,v.useDefaultProps)({props:e,name:"MuiStack"})});e.s(["default",0,k],37114),e.s(["Stack",0,k],15708)},12895,(e,t,r)=>{"use strict";var a=e.r(91074);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e.r(64800)),i=e.r(44855);r.default=(0,o.default)((0,i.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email")},52377,(e,t,r)=>{"use strict";var a=e.r(91074);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e.r(64800)),i=e.r(44855);r.default=(0,o.default)((0,i.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")},47288,(e,t,r)=>{"use strict";var a=e.r(91074);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e.r(64800)),i=e.r(44855);r.default=(0,o.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle")},38222,(e,t,r)=>{"use strict";var a=e.r(91074);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e.r(64800)),i=e.r(44855);r.default=(0,o.default)((0,i.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew")},13075,e=>{"use strict";var t=e.i(44855),r=e.i(74614),a=e.i(15915),o=e.i(65790),i=e.i(62992),n=e.i(15708),s=e.i(10251),l=e.i(1051),c=e.i(75557),d=e.i(9109),p=e.i(92378),h=e.i(86012),x=e.i(90598),u=e.i(54704),y=e.i(28810),m=e.i(12895),f=e.i(47288),g=e.i(45063),j=e.i(5456),b=e.i(95532),v=e.i(47212),k=e.i(10600),S=e.i(24918),T=e.i(38222),w=e.i(52377),B=e.i(72695),C=e.i(20887),A=e.i(21504),P=e.i(15254),E=e.i(83344),I=e.i(58891),z=e.i(13654);function N(){let{user:e,logout:A}=(0,P.useAuth)(),N=(0,E.useRouter)(),[F,W]=(0,I.useState)(null),[_,M]=(0,I.useState)(!0),[$,R]=(0,I.useState)(null),[U,H]=(0,I.useState)(!1),[O,D]=(0,I.useState)(""),[L,V]=(0,I.useState)(!1),[G,Y]=(0,I.useState)(!1),[J,X]=(0,I.useState)(!1),[K,q]=(0,I.useState)(null),[Q,Z]=(0,I.useState)(null),[ee,et]=(0,I.useState)([]),[er,ea]=(0,I.useState)(null),[eo,ei]=(0,I.useState)(!0),[en,es]=(0,I.useState)(null);(0,I.useEffect)(()=>{let t=async()=>{try{let e=(0,z.getBackendUrl)();console.log("[Profile] Fetching profile from:",`${e}/api/profile`);let t=await fetch(`${e}/api/profile`,{credentials:"include"});if(console.log("[Profile] Response status:",t.status),t.ok){let e=await t.json();console.log("[Profile] Profile data received:",e),W(e),R(null),M(!1)}else{let e=`HTTP ${t.status}`;try{let r=await t.json();e=r.error||r.message||e,console.error("[Profile] Failed to fetch profile:",t.status,r),404===t.status?(console.log("[Profile] User not found in profile endpoint, using authUser data"),R(null),W(null)):R(e)}catch(r){let e=await t.text();console.error("[Profile] Failed to fetch profile (non-JSON response):",t.status,e.substring(0,200)),404===t.status?R(null):R(`Server error: ${t.status}`)}M(!1)}}catch(e){console.error("[Profile] Error fetching profile:",e),R(e.message||"Failed to load profile"),M(!1)}};e?t():M(!1)},[e]),(0,I.useEffect)(()=>{let t=async()=>{ei(!0),es(null);let e=(0,z.getBackendUrl)();try{try{let t=await fetch(`${e}/api/web3/balance`,{credentials:"include"});if(t.ok){let e=await t.json();Z(e.balance)}}catch(e){console.error("Failed to load balance:",e)}try{let t=await fetch(`${e}/api/web3/transactions`,{credentials:"include"});if(t.ok){let e=await t.json();et(e.transactions||[])}}catch(e){console.error("Failed to load transactions:",e)}try{let t=await fetch(`${e}/api/web3/price`,{credentials:"include"});if(t.ok){let e=await t.json();ea(e.price)}}catch(e){console.error("Failed to load price:",e)}}catch(e){es(e.message||"Failed to load Web3 data")}finally{ei(!1)}};e&&t()},[e]),(0,I.useEffect)(()=>{F?.email?D(F.email):e?.email&&D(e.email)},[F,e]);let el=async()=>{if(!O.trim()||!O.includes("@"))return void alert("Please enter a valid email address");if(!e)return void alert("You must be logged in to update your email");V(!0);try{let t=(0,z.getBackendUrl)();console.log("Updating email:",O.trim()),console.log("Backend URL:",t),console.log("User authenticated:",!!e);let r=await fetch(`${t}/api/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:O.trim()})});if(console.log("Response status:",r.status),console.log("Response headers:",Object.fromEntries(r.headers.entries())),r.ok){let e=await r.json();console.log("Updated profile:",e),W(e),H(!1),alert("Email updated successfully!")}else{let e="Unknown error";try{let t=await r.json();e=t.error||t.message||`HTTP ${r.status}`,console.error("Server error:",t)}catch(t){console.error("Failed to parse error response:",t),e=`HTTP ${r.status}: ${r.statusText}`}alert(`Failed to update email: ${e}`)}}catch(e){console.error("Network error updating email:",e),alert(`Network error: ${e.message||"Failed to connect to server. Please check your connection and try again."}`)}finally{V(!1)}},ec=async()=>{await A(),N.push("/")},ed=async(e,t)=>{try{await navigator.clipboard.writeText(e),q(t),setTimeout(()=>q(null),2e3)}catch(e){console.error("Failed to copy:",e)}},ep=async()=>{X(!0);try{let e=(0,z.getBackendUrl)(),t=await fetch(`${e}/api/profile/verify-ens`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(t.ok){await t.json();let r=await fetch(`${e}/api/profile`,{credentials:"include"});if(r.ok){let e=await r.json();W(e)}alert("ENS data refreshed successfully!")}else{let e=await t.json();alert(`Failed to verify ENS: ${e.error||e.message||"Unknown error"}`)}}catch(e){console.error("Error verifying ENS:",e),alert(`Error: ${e.message||"Failed to verify ENS data"}`)}finally{X(!1)}},eh=async()=>{Y(!0);try{let e=(0,z.getBackendUrl)(),t=await fetch(`${e}/api/auth/verify-patreon`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(t.ok){await t.json();let r=await fetch(`${e}/api/profile`,{credentials:"include"});if(r.ok){let e=await r.json();W(e)}alert("Membership status updated successfully!")}else{let e=await t.json();e.needsConnection?alert("Please connect your Patreon account first to verify membership status."):alert(`Failed to verify membership: ${e.error||e.message||"Unknown error"}`)}}catch(e){console.error("Error verifying membership:",e),alert(`Error: ${e.message||"Failed to verify membership status"}`)}finally{Y(!1)}};if(!e)return(0,t.jsx)(C.default,{active:"profile",children:(0,t.jsx)(r.Box,{sx:{p:4,textAlign:"center"},children:(0,t.jsx)(d.Alert,{severity:"info",children:"Please log in to view your profile."})})});if(_)return(0,t.jsx)(C.default,{active:"profile",children:(0,t.jsx)(r.Box,{sx:{p:4,textAlign:"center"},children:(0,t.jsx)(a.Typography,{children:"Loading profile..."})})});if($&&!e)return(0,t.jsx)(C.default,{active:"profile",children:(0,t.jsxs)(r.Box,{sx:{p:4,textAlign:"center"},children:[(0,t.jsx)(d.Alert,{severity:"error",sx:{mb:2},children:$}),(0,t.jsx)(c.Button,{variant:"contained",onClick:()=>N.push("/"),children:"Go Home"})]})});let ex={...e,...F||{},id:F?.id||e?.id,patreonId:F?.patreonId||e?.patreonId,createdAt:F?.createdAt||e?.createdAt,email:F?.email||e?.email,name:F?.name||e?.name,avatar:F?.avatar||F?.avatarUrl||e?.avatar,isPaidMember:F?.isPaidMember??e?.isPaidMember,patreonConnected:F?.patreonConnected??e?.patreonConnected,isEmployee:F?.isEmployee??e?.isEmployee??!1,isAdmin:F?.isAdmin??e?.isAdmin??!1,ensName:F?.ensName||e?.ensName,cryptoAddress:F?.cryptoAddress||e?.cryptoAddress,contentHash:F?.contentHash||e?.contentHash};return(0,t.jsx)(C.default,{active:"profile",children:(0,t.jsxs)(r.Box,{sx:{maxWidth:800,mx:"auto"},children:[$&&e&&(0,t.jsxs)(d.Alert,{severity:"warning",sx:{mb:3},children:[$," - Showing limited profile information from authentication data."]}),(0,t.jsx)(a.Typography,{variant:"h4",sx:{fontWeight:700,mb:4,background:"linear-gradient(45deg, #9146FF, #ff6b6b, #4ecdc4)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Profile"}),(0,t.jsxs)(o.Paper,{elevation:2,sx:{p:4,mb:3},children:[(0,t.jsxs)(n.Stack,{direction:"row",spacing:3,alignItems:"center",sx:{mb:4},children:[(0,t.jsx)(i.Avatar,{src:ex.avatar,sx:{width:100,height:100,bgcolor:"primary.main",fontSize:"2.5rem"},children:ex.name?.charAt(0).toUpperCase()||(0,t.jsx)(f.default,{})}),(0,t.jsxs)(r.Box,{sx:{flex:1},children:[(0,t.jsx)(a.Typography,{variant:"h5",sx:{fontWeight:600,mb:1},children:ex.name||"User"}),U?(0,t.jsxs)(r.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(p.TextField,{size:"small",type:"email",value:O,onChange:e=>D(e.target.value),placeholder:"Enter your email",disabled:L,sx:{minWidth:200}}),(0,t.jsx)(h.IconButton,{size:"small",onClick:el,disabled:L,color:"primary",children:(0,t.jsx)(v.default,{})}),(0,t.jsx)(h.IconButton,{size:"small",onClick:()=>{H(!1),F?.email?D(F.email):e?.email&&D(e.email)},disabled:L,color:"error",children:(0,t.jsx)(k.default,{})})]}):(0,t.jsxs)(r.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",children:ex.email||"Not provided"}),(0,t.jsx)(h.IconButton,{size:"small",onClick:()=>{H(!0)},children:(0,t.jsx)(b.default,{fontSize:"small"})})]})]}),(0,t.jsx)(c.Button,{variant:"outlined",startIcon:(0,t.jsx)(j.default,{}),onClick:()=>N.push("/settings"),children:"Settings"})]}),(0,t.jsx)(s.Divider,{sx:{my:3}}),(0,t.jsxs)(n.Stack,{spacing:3,children:[(0,t.jsxs)(r.Box,{children:[(0,t.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:1},children:[(0,t.jsx)(y.default,{color:"action"}),(0,t.jsx)(a.Typography,{variant:"subtitle2",color:"text.secondary",sx:{textTransform:"uppercase",letterSpacing:1},children:"Account Information"})]}),(0,t.jsx)(r.Box,{sx:{pl:5},children:(0,t.jsxs)(n.Stack,{spacing:2,children:[(0,t.jsxs)(r.Box,{sx:{p:2,borderRadius:2,bgcolor:"primary.light",background:"linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)",border:"1px solid",borderColor:"primary.main"},children:[(0,t.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{mb:2},children:[(0,t.jsx)(a.Typography,{variant:"h6",sx:{fontWeight:600,color:"primary.main"},children:"Web3 Identity"}),(0,t.jsx)(c.Button,{variant:"outlined",size:"small",startIcon:(0,t.jsx)(S.default,{}),onClick:ep,disabled:J,sx:{textTransform:"none"},children:J?"Verifying...":"Verify ENS"})]}),!(ex.ensName||ex.cryptoAddress||ex.contentHash)&&(0,t.jsx)(d.Alert,{severity:"info",sx:{mb:2},children:'Your Web3 identity will appear here after you verify your ENS domain. Click "Verify ENS" to resolve your domain.'}),ex.ensName&&(0,t.jsxs)(r.Box,{sx:{mb:2},children:[(0,t.jsxs)(n.Stack,{direction:"row",spacing:1,alignItems:"center",sx:{mb:.5},children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:"ENS Domain"}),(0,t.jsx)(h.IconButton,{size:"small",onClick:()=>ed(ex.ensName,"ens"),sx:{p:.5},children:"ens"===K?(0,t.jsx)(B.default,{fontSize:"small",color:"success"}):(0,t.jsx)(w.default,{fontSize:"small"})}),(0,t.jsx)(x.Link,{href:`https://app.ens.domains/name/${ex.ensName}`,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",textDecoration:"none"},children:(0,t.jsx)(T.default,{fontSize:"small",sx:{ml:.5,color:"primary.main"}})})]}),(0,t.jsx)(l.Chip,{label:ex.ensName,color:"primary",sx:{fontFamily:"monospace",fontWeight:600}}),(0,t.jsx)(a.Typography,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:"Your Web3 identity on the Ethereum blockchain"})]}),ex.cryptoAddress&&(0,t.jsxs)(r.Box,{sx:{mb:2},children:[(0,t.jsxs)(n.Stack,{direction:"row",spacing:1,alignItems:"center",sx:{mb:.5},children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:"Ethereum Address"}),(0,t.jsx)(h.IconButton,{size:"small",onClick:()=>ed(ex.cryptoAddress,"address"),sx:{p:.5},children:"address"===K?(0,t.jsx)(B.default,{fontSize:"small",color:"success"}):(0,t.jsx)(w.default,{fontSize:"small"})}),(0,t.jsx)(x.Link,{href:`https://etherscan.io/address/${ex.cryptoAddress}`,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",textDecoration:"none"},children:(0,t.jsx)(T.default,{fontSize:"small",sx:{ml:.5,color:"primary.main"}})})]}),(0,t.jsx)(a.Typography,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem",wordBreak:"break-all",bgcolor:"background.paper",p:1,borderRadius:1},children:ex.cryptoAddress}),(0,t.jsx)(a.Typography,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:"Resolved from your ENS domain"})]}),ex.contentHash&&(0,t.jsxs)(r.Box,{children:[(0,t.jsxs)(n.Stack,{direction:"row",spacing:1,alignItems:"center",sx:{mb:.5},children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:"IPFS Content Hash"}),(0,t.jsx)(h.IconButton,{size:"small",onClick:()=>ed(ex.contentHash,"hash"),sx:{p:.5},children:"hash"===K?(0,t.jsx)(B.default,{fontSize:"small",color:"success"}):(0,t.jsx)(w.default,{fontSize:"small"})}),ex.contentHash&&!ex.contentHash.startsWith("ipfs://")&&(0,t.jsx)(x.Link,{href:`https://ipfs.io/ipfs/${ex.contentHash.replace("0x","")}`,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",textDecoration:"none"},children:(0,t.jsx)(T.default,{fontSize:"small",sx:{ml:.5,color:"primary.main"}})})]}),(0,t.jsx)(a.Typography,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem",wordBreak:"break-all",bgcolor:"background.paper",p:1,borderRadius:1},children:ex.contentHash}),(0,t.jsx)(a.Typography,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:"Points to decentralized storage on IPFS"})]})]}),(0,t.jsxs)(r.Box,{sx:{mt:3},children:[(0,t.jsx)(a.Typography,{variant:"h6",sx:{fontWeight:700,mb:2,color:"primary.main"},children:"Web3 Token Trackers"}),(0,t.jsxs)(u.Grid,{container:!0,spacing:2,children:[(0,t.jsx)(u.Grid,{item:!0,xs:12,sm:4,children:(0,t.jsxs)(o.Paper,{elevation:2,sx:{p:2,textAlign:"center"},children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Current Price"}),null!==er?(0,t.jsxs)(a.Typography,{variant:"h5",color:"primary",sx:{fontWeight:700},children:["$",er.toFixed(2)]}):eo?(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",children:"Loading..."}):(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",children:"N/A"})]})}),(0,t.jsx)(u.Grid,{item:!0,xs:12,sm:4,children:(0,t.jsxs)(o.Paper,{elevation:2,sx:{p:2,textAlign:"center"},children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Crypto Balance"}),null!==Q?(0,t.jsxs)(a.Typography,{variant:"h5",color:"primary",sx:{fontWeight:700},children:[Q," ETH"]}):eo?(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",children:"Loading..."}):(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",children:"N/A"})]})}),(0,t.jsx)(u.Grid,{item:!0,xs:12,sm:4,children:(0,t.jsxs)(o.Paper,{elevation:2,sx:{p:2,textAlign:"center"},children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Recent Transactions"}),(0,t.jsx)(a.Typography,{variant:"h5",color:"primary",sx:{fontWeight:700},children:ee.length}),(0,t.jsx)(a.Typography,{variant:"caption",color:"text.secondary",children:"Total"})]})})]})]}),ee.length>0&&(0,t.jsxs)(r.Box,{sx:{mt:3},children:[(0,t.jsx)(a.Typography,{variant:"h6",sx:{fontWeight:700,mb:2,color:"primary.main"},children:"Recent Transactions"}),(0,t.jsx)(n.Stack,{spacing:2,children:ee.slice(0,5).map((e,i)=>(0,t.jsx)(o.Paper,{variant:"outlined",sx:{p:2},children:(0,t.jsxs)(n.Stack,{spacing:1,children:[e.hash&&(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(a.Typography,{variant:"caption",color:"text.secondary",children:"Hash:"}),(0,t.jsx)(a.Typography,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem",wordBreak:"break-all"},children:e.hash})]}),e.amount&&(0,t.jsxs)(a.Typography,{variant:"body2",children:[(0,t.jsx)("strong",{children:"Amount:"})," ",e.amount," ETH"]}),e.to&&(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(a.Typography,{variant:"caption",color:"text.secondary",children:"To:"}),(0,t.jsx)(a.Typography,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem",wordBreak:"break-all"},children:e.to})]}),e.date&&(0,t.jsxs)(a.Typography,{variant:"body2",color:"text.secondary",children:[(0,t.jsx)("strong",{children:"Date:"})," ",new Date(e.date).toLocaleString()]})]})},i))})]}),(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Patreon ID"}),(0,t.jsx)(a.Typography,{variant:"body1",children:ex.patreonId||"Not connected"})]}),(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Member Since"}),(0,t.jsx)(a.Typography,{variant:"body1",sx:{fontWeight:500},children:ex.createdAt?new Date(ex.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Not available"})]}),(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Role"}),(0,t.jsxs)(n.Stack,{direction:"row",spacing:1,alignItems:"center",flexWrap:"wrap",gap:1,children:[ex.isEmployee&&(0,t.jsx)(l.Chip,{label:"Employee",color:"secondary",variant:"filled",size:"small"}),ex.isAdmin&&(0,t.jsx)(l.Chip,{label:"Admin",color:"error",variant:"filled",size:"small"}),(0,t.jsx)(l.Chip,{label:"56776112"===ex.patreonId?"Super Admin":ex.isEmployee?"Staff":"Community Member",color:"56776112"===ex.patreonId?"error":ex.isEmployee?"warning":"primary",variant:"56776112"===ex.patreonId||ex.isEmployee?"filled":"outlined",size:"small"})]})]})]})})]}),(0,t.jsx)(s.Divider,{}),(0,t.jsxs)(r.Box,{children:[(0,t.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[(0,t.jsx)(m.default,{color:"action"}),(0,t.jsx)(a.Typography,{variant:"h6",sx:{fontWeight:600},children:"Membership Information"})]}),(0,t.jsx)(r.Box,{sx:{pl:5},children:(0,t.jsxs)(n.Stack,{spacing:2,children:[(0,t.jsxs)(r.Box,{children:[(0,t.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{mb:1},children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",children:"Membership Status"}),ex.patreonConnected&&(0,t.jsx)(c.Button,{variant:"outlined",size:"small",onClick:eh,disabled:G,sx:{textTransform:"none"},children:G?"Verifying...":"Refresh Status"})]}),(0,t.jsxs)(n.Stack,{direction:"row",spacing:1,alignItems:"center",children:[ex.isEmployee&&(0,t.jsx)(l.Chip,{label:"Employee Access",color:"warning",variant:"filled",size:"small"}),(0,t.jsx)(l.Chip,{label:ex.isPaidMember?"Active Paid Member":"Free Member",color:ex.isPaidMember?"success":"default",size:"small"})]}),ex.lastChecked&&(0,t.jsxs)(a.Typography,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:["Last checked: ",new Date(ex.lastChecked).toLocaleString()]}),!ex.patreonConnected&&(0,t.jsxs)(r.Box,{sx:{mt:2},children:[(0,t.jsx)(d.Alert,{severity:"info",sx:{mb:2},children:"Connect your Patreon account to verify membership status automatically."}),(0,t.jsx)(c.Button,{variant:"contained",onClick:()=>{let e=(0,z.getBackendUrl)();window.location.href=`${e}/api/auth/patreon`},sx:{bgcolor:"#FF424D","&:hover":{bgcolor:"#E63946"},textTransform:"none",fontWeight:600},children:"Connect Patreon Account"})]})]}),(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Membership Tier"}),(0,t.jsx)(a.Typography,{variant:"body1",sx:{fontWeight:ex.membershipTier?500:400},children:ex.membershipTier?ex.membershipTier.charAt(0).toUpperCase()+ex.membershipTier.slice(1):"Not set"})]}),ex.isPaidMember&&ex.membershipRenewalDate&&(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Next Renewal"}),(0,t.jsx)(a.Typography,{variant:"body1",sx:{fontWeight:500},children:new Date(ex.membershipRenewalDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),ex.lifetimeSupportAmount&&(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Lifetime Support"}),(0,t.jsxs)(a.Typography,{variant:"body1",sx:{fontWeight:500},children:["$",ex.lifetimeSupportAmount.toFixed(2)]}),(0,t.jsx)(a.Typography,{variant:"caption",color:"text.secondary",children:"Total amount supported over time"})]}),(0,t.jsxs)(r.Box,{sx:{mt:3,p:2,bgcolor:"primary.light",borderRadius:2},children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"primary.contrastText",sx:{mb:1,fontWeight:500},children:"Support Our Mission"}),(0,t.jsx)(c.Button,{variant:"contained",color:"secondary",href:"https://www.patreon.com/cw/JamelEliYah/membership",target:"_blank",rel:"noopener noreferrer",sx:{textTransform:"none",fontWeight:600,boxShadow:2,"&:hover":{boxShadow:4}},startIcon:(0,t.jsx)(j.default,{}),children:"Increase Monthly Support"})]})]})})]}),(0,t.jsx)(s.Divider,{}),(0,t.jsx)(r.Box,{children:(0,t.jsx)(c.Button,{variant:"outlined",color:"error",startIcon:(0,t.jsx)(g.default,{}),onClick:ec,sx:{mt:2},children:"Sign Out"})})]})]})]})})}e.s(["default",0,function(){return(0,t.jsx)(A.default,{children:(0,t.jsx)(N,{})})}])},82937,(e,t,r)=>{let a="/profile";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(13075)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})},9781,e=>{e.v(t=>Promise.all(["static/chunks/d62b89fe821ade37.js"].map(t=>e.l(t))).then(()=>t(94246)))},90413,e=>{e.v(t=>Promise.all(["static/chunks/1b9991f459e98f67.js"].map(t=>e.l(t))).then(()=>t(18636)))}]);