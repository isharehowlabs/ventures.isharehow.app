(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7950,(e,t,r)=>{"use strict";var o=e.r(91074);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=o(e.r(64800)),s=e.r(44855);r.default=(0,a.default)((0,s.jsx)("path",{d:"M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11"}),"Extension")},7795,(e,t,r)=>{"use strict";var o=e.r(91074);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=o(e.r(64800)),s=e.r(44855);r.default=(0,a.default)((0,s.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp")},95356,(e,t,r)=>{"use strict";var o=e.r(91074);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=o(e.r(64800)),s=e.r(44855);r.default=(0,a.default)((0,s.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp")},34203,(e,t,r)=>{"use strict";var o=e.r(91074);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=o(e.r(64800)),s=e.r(44855);r.default=(0,a.default)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear")},19250,e=>{"use strict";var t=e.i(44855),r=e.i(20887),o=e.i(58891),a=e.i(74614),s=e.i(72204),n=e.i(65790),i=e.i(15915),l=e.i(92378),d=e.i(75557),c=e.i(54704),u=e.i(9109),h=e.i(45162),x=e.i(3430),m=e.i(72992),p=e.i(10251),g=e.i(37025),y=e.i(46153),f=e.i(55047),j=e.i(7950),v=e.i(34699),b=e.i(91554),C=e.i(75016);let T=()=>{let[e,t]=(0,o.useState)(null),[r,a]=(0,o.useState)([]),[s,n]=(0,o.useState)(!1),[i,l]=(0,o.useState)(null),d=(0,o.useRef)(null);(0,o.useEffect)(()=>{let r=(0,C.getSocket)();d.current=r;let o=()=>{n(!0),l(null)},s=()=>{n(!1)},i=e=>{l("Connection failed. Please check your internet connection."),console.error("Socket connection error:",e)},c=e=>{t(e.room),a(e.room.players),l(null)},u=e=>{t(e.room),a(e.room.players),l(null)},h=e=>{a(e.room.players),t(e.room)},x=e=>{a(e.room.players),t(e.room)},m=e=>{t(e.room)},p=e=>{t(e.room)},g=e=>{t(e.room)},y=e=>{t(e.room)},f=e=>{t(e.room),e.result.scores&&a(t=>t.map(t=>{let r=e.result.scores.find(e=>e.playerId===t.id);return r?{...t,score:r.totalScore}:t}))},j=e=>{},v=e=>{t(e.room)},b=r=>{e&&t({...e,guesses:r})},T=r=>{e&&t({...e,roundPhase:r.roundPhase,guesses:r.guesses})},B=r=>{e&&t({...e,votes:r})},w=r=>{e&&(t({...e,roundPhase:"results",players:r.updatedPlayers}),a(r.updatedPlayers))},W=e=>{t(e.room)},S=e=>{l(e.message)};return r.on("connect",o),r.on("disconnect",s),r.on("connect_error",i),r.on("game:room-created",c),r.on("game:room-joined",u),r.on("game:player-joined",h),r.on("game:player-left",x),r.on("game:started",m),r.on("game:state-update",p),r.on("game:round-start",g),r.on("game:type-set",y),r.on("game:round-end",f),r.on("game:drawing-update",j),r.on("game:error",S),r.on("guessing:words-set",v),r.on("guessing:guess-submitted",b),r.on("guessing:phase-changed",T),r.on("guessing:vote-received",B),r.on("guessing:voting-complete",w),r.on("guessing:round-started",W),n(r.connected),()=>{r.off("connect",o),r.off("disconnect",s),r.off("connect_error",i),r.off("game:room-created",c),r.off("game:room-joined",u),r.off("game:player-joined",h),r.off("game:player-left",x),r.off("game:started",m),r.off("game:state-update",p),r.off("game:round-start",g),r.off("game:type-set",y),r.off("game:round-end",f),r.off("game:drawing-update",j),r.off("game:error",S),r.off("guessing:words-set",v),r.off("guessing:guess-submitted",b),r.off("guessing:phase-changed",T),r.off("guessing:vote-received",B),r.off("guessing:voting-complete",w),r.off("guessing:round-started",W)}},[e]);let c=(0,o.useCallback)(e=>{d.current&&d.current.emit("game:create-room",e)},[]),u=(0,o.useCallback)(e=>{d.current&&d.current.emit("game:join-room",e)},[]),h=(0,o.useCallback)(()=>{d.current&&e&&(d.current.emit("game:leave-room",{roomCode:e.roomCode}),t(null),a([]))},[e]),x=(0,o.useCallback)((e,t)=>{d.current&&d.current.emit("game:set-type",{roomCode:e,gameType:t})},[]),m=(0,o.useCallback)(e=>{d.current&&d.current.emit("game:start-game",e)},[]),p=(0,o.useCallback)(e=>{d.current&&d.current.emit("game:submit-answer",e)},[]),g=(0,o.useCallback)(e=>{d.current&&d.current.emit("game:draw",e)},[]),y=(0,o.useCallback)(e=>{d.current&&d.current.emit("game:clear-canvas",{roomCode:e})},[]),f=(0,o.useCallback)((e,t)=>{d.current&&d.current.emit("guessing:set-words",{roomCode:e,words:t})},[]),j=(0,o.useCallback)((e,t)=>{d.current&&d.current.emit("guessing:submit-guess",{roomCode:e,guess:t})},[]),v=(0,o.useCallback)((e,t)=>{d.current&&d.current.emit("guessing:vote",{roomCode:e,votedForPlayerId:t})},[]),b=(0,o.useCallback)(e=>{d.current&&d.current.emit("guessing:next-round",{roomCode:e})},[]);return{gameRoom:e,players:r,isConnected:s,error:i,socketId:d.current?.id||"",createRoom:c,joinRoom:u,leaveRoom:h,setGameType:x,startGame:m,submitAnswer:p,sendDrawing:g,clearCanvas:y,setSecretWords:f,submitGuess:j,voteForGuess:v,nextGuessingRound:b}};var B=e.i(15254),w=e.i(42281),W=e.i(50333),S=e.i(7200),k=e.i(52059),P=e.i(62992),R=e.i(1051),A=e.i(86012),z=e.i(7795),G=e.i(52377),I=e.i(1911),$=e.i(87816),L=e.i(62555),F=e.i(6909),E=e.i(64321),M=e.i(84579),D=e.i(15708),N=e.i(24676),O=e.i(7065),H=e.i(95356),U=e.i(72695);function _(){let{gameRoom:e,players:r,socketId:m,setSecretWords:g,submitGuess:y,voteForGuess:f,nextGuessingRound:j}=T(),[v,b]=(0,o.useState)(["","","","",""]),[C,B]=(0,o.useState)([]),[A,z]=(0,o.useState)(""),[G,I]=(0,o.useState)(!1),[_,Y]=(0,o.useState)(60),[V,J]=(0,o.useState)(""),[K,q]=(0,o.useState)(!1),[X,Z]=(0,o.useState)(null);if((0,o.useEffect)(()=>{let t=e?.roundPhase;if("guessing"===t&&_>0||"voting"===t&&_>0){let e=setInterval(()=>{Y(e=>Math.max(0,e-1))},1e3);return()=>clearInterval(e)}},[e?.roundPhase,_]),(0,o.useEffect)(()=>{let t=e?.roundPhase;"guessing"===t?(z(""),I(!1),q(!1),J(""),Y(60),Z(null)):"voting"===t&&Y(30)},[e?.roundPhase,e?.currentRound]),(0,o.useEffect)(()=>{let e=window.socket;if(e){let t=e=>{Z(e)};return e.on("guessing:voting-complete",t),()=>{e.off("guessing:voting-complete",t)}}},[]),!e)return null;let Q=r.find(e=>e.id===m)?.isHost||!1;r.find(e=>e.id===m);let ee=e?.roundPhase;if(!ee||"lobby"===e.state)return Q?(0,t.jsx)(s.Container,{maxWidth:"md",sx:{py:4},children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4},children:[(0,t.jsx)(i.Typography,{variant:"h4",gutterBottom:!0,textAlign:"center",children:"ðŸ¤” Set Up Your Guessing Game"}),(0,t.jsx)(i.Typography,{variant:"body1",color:"text.secondary",textAlign:"center",mb:2,children:"Enter 5 words that players will try to guess. Each word will be used for one round."}),(0,t.jsxs)(u.Alert,{severity:"info",sx:{mb:3,maxWidth:600,mx:"auto"},children:[(0,t.jsx)("strong",{children:"How it works:"})," Players will try to guess your secret word. After everyone guesses, they vote on which guess is closest. The player with the most votes wins points!"]}),C.length>0&&(0,t.jsx)(u.Alert,{severity:"error",sx:{mb:3},children:C.map((e,r)=>(0,t.jsx)("div",{children:e},r))}),(0,t.jsx)(D.Stack,{spacing:2,mb:4,children:v.map((e,r)=>(0,t.jsx)(l.TextField,{label:`Word ${r+1}`,value:e,onChange:e=>{var t;let o;return t=e.target.value,void((o=[...v])[r]=t,b(o),B([]))},fullWidth:!0,variant:"outlined",placeholder:`Enter word ${r+1}`},r))}),(0,t.jsx)(d.Button,{variant:"contained",size:"large",fullWidth:!0,onClick:()=>{let t=[],r=v.map(e=>e.trim().toLowerCase()).filter(e=>e);(5!==r.length&&t.push("Please enter all 5 words"),new Set(r).size!==r.length&&t.push("All words must be unique"),t.length>0)?B(t):g(e.roomCode,r)},disabled:5!==v.filter(e=>e.trim()).length,children:"Start Game"})]})}):(0,t.jsx)(s.Container,{maxWidth:"md",sx:{py:4},children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4,textAlign:"center"},children:[(0,t.jsx)(i.Typography,{variant:"h5",gutterBottom:!0,children:"Waiting for host to set up the words..."}),(0,t.jsx)(i.Typography,{color:"text.secondary",children:"The host is choosing 5 secret words for the game."})]})});if("guessing"===ee){let o=()=>{A.trim()&&(y(e.roomCode,A.trim()),I(!0))},h=[...r].sort((e,t)=>t.score-e.score),x=e.guesses||{},m="object"==typeof x&&x.totalGuesses?x.totalGuesses:0,p="object"==typeof x&&x.totalPlayers?x.totalPlayers:r.filter(e=>e.isActive).length;return(0,t.jsx)(s.Container,{maxWidth:"lg",sx:{py:4},children:(0,t.jsxs)(c.Grid,{container:!0,spacing:3,children:[(0,t.jsx)(c.Grid,{item:!0,xs:12,md:8,children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3},children:[(0,t.jsxs)(a.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,t.jsxs)(i.Typography,{variant:"h5",fontWeight:"bold",children:["Round ",e.currentRound," of ",e.maxRounds]}),(0,t.jsx)(R.Chip,{icon:(0,t.jsx)(O.default,{}),label:`${_}s`,color:_<10?"error":"primary",sx:{fontSize:"1.2rem",px:1}})]}),(0,t.jsx)(L.LinearProgress,{variant:"determinate",value:_/60*100,color:_<10?"error":"primary",sx:{height:8,borderRadius:1,mb:3}}),(0,t.jsxs)(n.Paper,{variant:"outlined",sx:{p:4,mb:3,textAlign:"center",bgcolor:"background.default"},children:[(0,t.jsx)(i.Typography,{variant:"h4",gutterBottom:!0,fontWeight:"bold",children:"ðŸ¤” Guess the Secret Word!"}),(0,t.jsx)(i.Typography,{variant:"body1",color:"text.secondary",children:"The host has chosen a secret word. Think of what word they might have picked!"}),(0,t.jsx)(R.Chip,{label:`${m} / ${p} players have guessed`,sx:{mt:2},color:m===p?"success":"default"})]}),!G&&_>0?(0,t.jsxs)(a.Box,{display:"flex",gap:2,children:[(0,t.jsx)(l.TextField,{fullWidth:!0,variant:"outlined",placeholder:"Type your guess...",value:A,onChange:e=>z(e.target.value),onKeyPress:e=>{"Enter"!==e.key||G||o()},autoFocus:!0}),(0,t.jsx)(d.Button,{variant:"contained",endIcon:(0,t.jsx)(N.default,{}),onClick:o,disabled:!A.trim(),sx:{minWidth:120},children:"Submit"})]}):G?(0,t.jsx)(u.Alert,{severity:"success",icon:(0,t.jsx)(U.default,{}),children:"Your guess has been submitted! Waiting for other players..."}):(0,t.jsx)(u.Alert,{severity:"info",children:"Time's up! Waiting for all players to finish..."})]})}),(0,t.jsx)(c.Grid,{item:!0,xs:12,md:4,children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3},children:[(0,t.jsx)(i.Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",children:"Scoreboard"}),(0,t.jsx)(w.List,{children:h.map((e,r)=>(0,t.jsxs)(W.ListItem,{children:[(0,t.jsxs)(S.ListItemAvatar,{children:[(0,t.jsx)(R.Chip,{label:r+1,size:"small",color:0===r?"primary":"default",sx:{mr:1}}),(0,t.jsx)(P.Avatar,{src:e.avatar,children:e.name.charAt(0).toUpperCase()})]}),(0,t.jsx)(k.ListItemText,{primary:e.name,secondary:`${e.score} pts`})]},e.id))})]})})]})})}if("voting"===ee){let r=e.guesses||[],o=Array.isArray(r)?r:[],a=e.votes||{},l="object"==typeof a&&a.totalVotes?a.totalVotes:0,c="object"==typeof a&&a.totalPlayers?a.totalPlayers:o.length;return(0,t.jsx)(s.Container,{maxWidth:"md",sx:{py:4},children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4},children:[(0,t.jsx)(i.Typography,{variant:"h4",gutterBottom:!0,textAlign:"center",children:"ðŸ‘ Vote for the Best Guess!"}),(0,t.jsx)(i.Typography,{variant:"body1",color:"text.secondary",textAlign:"center",mb:2,children:"Vote for the guess you think is CLOSEST to what the host chose. You cannot vote for your own guess."}),(0,t.jsxs)(u.Alert,{severity:"warning",sx:{mb:3,maxWidth:600,mx:"auto"},children:[(0,t.jsx)("strong",{children:"Remember:"})," You're voting for the guess that is most similar or related to the host's word, NOT necessarily the \"best\" word. The player with the most votes wins this round!"]}),(0,t.jsx)(R.Chip,{label:`${l} / ${c} players have voted`,sx:{mb:3},color:l===c?"success":"default"}),K?(0,t.jsx)(u.Alert,{severity:"success",icon:(0,t.jsx)(U.default,{}),children:"Your vote has been recorded! Waiting for other players..."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.RadioGroup,{value:V,onChange:e=>J(e.target.value),children:(0,t.jsx)(D.Stack,{spacing:2,mb:3,children:o.map(e=>{let r=e.id!==m;return(0,t.jsx)(h.Card,{variant:"outlined",sx:{opacity:r?1:.5},children:(0,t.jsx)(x.CardContent,{children:(0,t.jsx)(M.FormControlLabel,{value:e.id,control:(0,t.jsx)(F.Radio,{}),label:(0,t.jsxs)(i.Typography,{variant:"h6",children:[e.guess,!r&&(0,t.jsx)(R.Chip,{label:"Your guess",size:"small",sx:{ml:2}})]}),disabled:!r})})},e.id)})})}),(0,t.jsx)(d.Button,{variant:"contained",size:"large",fullWidth:!0,endIcon:(0,t.jsx)(H.default,{}),onClick:()=>{V&&(f(e.roomCode,V),q(!0))},disabled:!V,children:"Submit Vote"})]})]})})}if("results"===ee&&X){let o=[...r].sort((e,t)=>t.score-e.score);return(0,t.jsx)(s.Container,{maxWidth:"md",sx:{py:4},children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4},children:[(0,t.jsxs)(a.Box,{textAlign:"center",mb:4,children:[(0,t.jsx)($.default,{sx:{fontSize:64,color:"gold",mb:2}}),(0,t.jsxs)(i.Typography,{variant:"h3",gutterBottom:!0,fontWeight:"bold",children:["Round ",e.currentRound," Results"]}),(0,t.jsxs)(i.Typography,{variant:"h5",color:"primary",gutterBottom:!0,children:["Winner: ",X.winnerName]}),(0,t.jsxs)(i.Typography,{variant:"h6",color:"text.secondary",children:['Guess: "',X.winnerGuess,'" (',X.voteCount," votes)"]}),(0,t.jsx)(p.Divider,{sx:{my:3}}),(0,t.jsxs)(i.Typography,{variant:"body1",children:["The secret word was: ",(0,t.jsxs)("strong",{children:['"',X.secretWord,'"']})]})]}),(0,t.jsx)(i.Typography,{variant:"h6",gutterBottom:!0,children:"All Guesses:"}),(0,t.jsx)(w.List,{children:X.allGuesses?.map(e=>(0,t.jsx)(W.ListItem,{children:(0,t.jsx)(k.ListItemText,{primary:`${e.playerName}: "${e.guess}"`,secondary:`${e.votes} vote${1!==e.votes?"s":""}`})},e.playerId))}),(0,t.jsx)(p.Divider,{sx:{my:3}}),(0,t.jsx)(i.Typography,{variant:"h6",gutterBottom:!0,children:"Current Standings:"}),(0,t.jsx)(w.List,{children:o.map((e,r)=>(0,t.jsxs)(W.ListItem,{children:[(0,t.jsx)(S.ListItemAvatar,{children:(0,t.jsx)(R.Chip,{label:r+1,size:"small",color:0===r?"primary":"default"})}),(0,t.jsx)(k.ListItemText,{primary:e.name,secondary:`${e.score} points`})]},e.id))}),Q&&(0,t.jsx)(d.Button,{variant:"contained",size:"large",fullWidth:!0,sx:{mt:3},onClick:()=>j(e.roomCode),children:e.currentRound>=e.maxRounds?"End Game":"Next Round"})]})})}return null}e.i(96335);var Y=e.i(80622),V=e.i(84933),J=e.i(81706),K=e.i(15127),q=e.i(65393),X=e.i(95262),Z=e.i(96861),Q=e.i(18420),ee=e.i(51480),et=e.i(13740);function er(e){return(0,et.default)("MuiToggleButtonGroup",e)}let eo=(0,ee.default)("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),ea=o.createContext({}),es=o.createContext(void 0);function en(e){return(0,et.default)("MuiToggleButton",e)}let ei=(0,ee.default)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),el=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],ed=(0,X.default)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[{[`& .${eo.grouped}`]:t.grouped},{[`& .${eo.grouped}`]:t[`grouped${(0,Q.default)(r.orientation)}`]},{[`& .${eo.firstButton}`]:t.firstButton},{[`& .${eo.lastButton}`]:t.lastButton},{[`& .${eo.middleButton}`]:t.middleButton},t.root,"vertical"===r.orientation&&t.vertical,r.fullWidth&&t.fullWidth]}})(({ownerState:e,theme:t})=>(0,V.default)({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"vertical"===e.orientation&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${eo.grouped}`]:(0,V.default)({},"horizontal"===e.orientation?{[`&.${eo.selected} + .${eo.grouped}.${eo.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${eo.selected} + .${eo.grouped}.${eo.selected}`]:{borderTop:0,marginTop:0}})},"horizontal"===e.orientation?{[`& .${eo.firstButton},& .${eo.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${eo.lastButton},& .${eo.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${eo.firstButton},& .${eo.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${eo.lastButton},& .${eo.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},"horizontal"===e.orientation?{[`& .${eo.lastButton}.${ei.disabled},& .${eo.middleButton}.${ei.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${eo.lastButton}.${ei.disabled},& .${eo.middleButton}.${ei.disabled}`]:{borderTop:"1px solid transparent"}})),ec=o.forwardRef(function(e,r){let a=(0,Z.useDefaultProps)({props:e,name:"MuiToggleButtonGroup"}),{children:s,className:n,color:i="standard",disabled:l=!1,exclusive:d=!1,fullWidth:c=!1,onChange:u,orientation:h="horizontal",size:x="medium",value:m}=a,p=(0,Y.default)(a,el),g=(0,V.default)({},a,{disabled:l,fullWidth:c,orientation:h,size:x}),y=(e=>{let{classes:t,orientation:r,fullWidth:o,disabled:a}=e,s={root:["root","vertical"===r&&"vertical",o&&"fullWidth"],grouped:["grouped",`grouped${(0,Q.default)(r)}`,a&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,K.default)(s,er,t)})(g),f=o.useCallback((e,t)=>{let r;if(!u)return;let o=m&&m.indexOf(t);m&&o>=0?(r=m.slice()).splice(o,1):r=m?m.concat(t):[t],u(e,r)},[u,m]),j=o.useCallback((e,t)=>{u&&u(e,m===t?null:t)},[u,m]),v=o.useMemo(()=>({className:y.grouped,onChange:d?j:f,value:m,size:x,fullWidth:c,color:i,disabled:l}),[y.grouped,d,j,f,m,x,c,i,l]),b=(0,q.default)(s),C=b.length;return(0,t.jsx)(ed,(0,V.default)({role:"group",className:(0,J.default)(y.root,n),ref:r,ownerState:g},p,{children:(0,t.jsx)(ea.Provider,{value:v,children:b.map((e,r)=>{let o,a;return(0,t.jsx)(es.Provider,{value:(o=0===r,a=r===C-1,o&&a?"":o?y.firstButton:a?y.lastButton:y.middleButton),children:e},r)})})}))});var eu=e.i(65776),eh=e.i(7356),ex=e.i(12396);let em=["value"],ep=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],eg=(0,X.default)(ex.default,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`size${(0,Q.default)(r.size)}`]]}})(({theme:e,ownerState:t})=>{let r,o="standard"===t.color?e.palette.text.primary:e.palette[t.color].main;return e.vars&&(o="standard"===t.color?e.vars.palette.text.primary:e.vars.palette[t.color].main,r="standard"===t.color?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),(0,V.default)({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${ei.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,eh.alpha)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ei.selected}`]:{color:o,backgroundColor:e.vars?`rgba(${r} / ${e.vars.palette.action.selectedOpacity})`:(0,eh.alpha)(o,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${r} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,eh.alpha)(o,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${r} / ${e.vars.palette.action.selectedOpacity})`:(0,eh.alpha)(o,e.palette.action.selectedOpacity)}}}},"small"===t.size&&{padding:7,fontSize:e.typography.pxToRem(13)},"large"===t.size&&{padding:15,fontSize:e.typography.pxToRem(15)})}),ey=o.forwardRef(function(e,r){var a;let s=o.useContext(ea),{value:n}=s,i=(0,Y.default)(s,em),l=o.useContext(es),d=(0,eu.default)((0,V.default)({},i,{selected:(a=e.value,void 0!==n&&void 0!==a&&(Array.isArray(n)?n.indexOf(a)>=0:a===n))}),e),c=(0,Z.useDefaultProps)({props:d,name:"MuiToggleButton"}),{children:u,className:h,color:x="standard",disabled:m=!1,disableFocusRipple:p=!1,fullWidth:g=!1,onChange:y,onClick:f,selected:j,size:v="medium",value:b}=c,C=(0,Y.default)(c,ep),T=(0,V.default)({},c,{color:x,disabled:m,disableFocusRipple:p,fullWidth:g,size:v}),B=(e=>{let{classes:t,fullWidth:r,selected:o,disabled:a,size:s,color:n}=e,i={root:["root",o&&"selected",a&&"disabled",r&&"fullWidth",`size${(0,Q.default)(s)}`,n]};return(0,K.default)(i,en,t)})(T);return(0,t.jsx)(eg,(0,V.default)({className:(0,J.default)(i.className,B.root,h,l||""),disabled:m,focusRipple:!p,ref:r,onClick:e=>{f&&(f(e,b),e.defaultPrevented)||y&&y(e,b)},onChange:y,value:b,ownerState:T,"aria-pressed":j},C,{children:u}))});var ef=e.i(34203);let ej=["#000000","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500"];function ev(){let{gameRoom:e,players:r,submitAnswer:h,sendDrawing:x,clearCanvas:m}=T(),[p,g]=(0,o.useState)(""),[y,j]=(0,o.useState)(90),[v,b]=(0,o.useState)(!1),[B,z]=(0,o.useState)("#000000"),[G,I]=(0,o.useState)(!1),$=(0,o.useRef)(null),F=(0,o.useRef)(null),E=F.current?.id||"",M=e?.currentDrawerId===E;(0,o.useEffect)(()=>{F.current=(0,C.getSocket)()},[]),(0,o.useEffect)(()=>{let e=F.current;if(!e)return;let t=e=>{if(!$.current||e.playerId===E)return;let t=$.current.getContext("2d");if(!t)return;let{stroke:r}=e;t.strokeStyle=r.color,t.lineWidth=r.width,t.lineCap="round",t.lineJoin="round",t.beginPath();for(let e=0;e<r.points.length-2;e+=2)t.moveTo(r.points[e],r.points[e+1]),e+2<r.points.length&&t.lineTo(r.points[e+2],r.points[e+3]);t.stroke()},r=()=>{if(!$.current)return;let e=$.current.getContext("2d");e&&e.clearRect(0,0,$.current.width,$.current.height)};return e.on("game:drawing-update",t),e.on("game:canvas-cleared",r),()=>{e.off("game:drawing-update",t),e.off("game:canvas-cleared",r)}},[E]),(0,o.useEffect)(()=>{if(e?.state==="playing"&&y>0){let e=setInterval(()=>{j(e=>Math.max(0,e-1))},1e3);return()=>clearInterval(e)}},[e?.state,y]),(0,o.useEffect)(()=>{if(e?.state==="playing"&&(j(90),b(!1),g(""),$.current)){let e=$.current.getContext("2d");e&&e.clearRect(0,0,$.current.width,$.current.height)}},[e?.currentRound]);let D=()=>{if(!$.current)return;let e=$.current.getContext("2d");e&&e.beginPath(),I(!1)},H=()=>{p.trim()&&e&&(h({roomCode:e.roomCode,answer:p.trim()}),b(!0),g(""))};if(!e)return null;let U=[...r].sort((e,t)=>t.score-e.score);return(0,t.jsx)(s.Container,{maxWidth:"lg",sx:{py:4},children:(0,t.jsxs)(c.Grid,{container:!0,spacing:3,children:[(0,t.jsx)(c.Grid,{item:!0,xs:12,md:8,children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3},children:[(0,t.jsxs)(a.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,t.jsxs)(i.Typography,{variant:"h5",fontWeight:"bold",children:["Round ",e.currentRound," of ",e.maxRounds]}),(0,t.jsx)(R.Chip,{icon:(0,t.jsx)(O.default,{}),label:`${y}s`,color:y<10?"error":"primary",sx:{fontSize:"1.2rem",px:1}})]}),(0,t.jsx)(L.LinearProgress,{variant:"determinate",value:y/90*100,color:y<10?"error":"primary",sx:{height:8,borderRadius:1,mb:3}}),M?(0,t.jsxs)(u.Alert,{severity:"info",sx:{mb:2},children:[(0,t.jsx)("strong",{children:"You're drawing!"})," Word: ",e.currentWord||"..."]}):(0,t.jsx)(u.Alert,{severity:"success",sx:{mb:2},children:"Watch the drawing and guess the word!"}),(0,t.jsx)(a.Box,{sx:{mb:2,border:"2px solid",borderColor:"divider",borderRadius:1,bgcolor:"white"},children:(0,t.jsx)("canvas",{ref:$,width:600,height:400,onMouseDown:e=>{M&&I(!0)},onMouseMove:t=>{if(!G||!M||!$.current)return;let r=$.current,o=r.getContext("2d");if(!o)return;let a=r.getBoundingClientRect(),s=t.clientX-a.left,n=t.clientY-a.top;o.strokeStyle=B,o.lineWidth=3,o.lineCap="round",o.lineJoin="round",o.lineTo(s,n),o.stroke(),o.beginPath(),o.moveTo(s,n),e&&x({roomCode:e.roomCode,stroke:{points:[s,n],color:B,width:3},playerId:E})},onMouseUp:D,onMouseLeave:D,style:{display:"block",width:"100%",cursor:M?"crosshair":"default"}})}),M&&(0,t.jsxs)(a.Box,{display:"flex",gap:2,alignItems:"center",mb:2,children:[(0,t.jsx)(f.default,{}),(0,t.jsx)(ec,{value:B,exclusive:!0,onChange:(e,t)=>t&&z(t),size:"small",children:ej.map(e=>(0,t.jsx)(ey,{value:e,children:(0,t.jsx)(a.Box,{sx:{width:24,height:24,bgcolor:e,border:"1px solid #ccc"}})},e))}),(0,t.jsx)(A.IconButton,{onClick:()=>{if(!$.current||!e)return;let t=$.current.getContext("2d");t&&t.clearRect(0,0,$.current.width,$.current.height),m(e.roomCode)},color:"error",children:(0,t.jsx)(ef.default,{})})]}),!M&&(0,t.jsx)(t.Fragment,{children:!v&&y>0?(0,t.jsxs)(a.Box,{display:"flex",gap:2,children:[(0,t.jsx)(l.TextField,{fullWidth:!0,variant:"outlined",placeholder:"Type your guess...",value:p,onChange:e=>g(e.target.value),onKeyPress:e=>{"Enter"!==e.key||v||H()},autoFocus:!0}),(0,t.jsx)(d.Button,{variant:"contained",endIcon:(0,t.jsx)(N.default,{}),onClick:H,disabled:!p.trim(),sx:{minWidth:120},children:"Guess"})]}):v?(0,t.jsx)(u.Alert,{severity:"success",children:"Your guess has been submitted!"}):(0,t.jsx)(u.Alert,{severity:"info",children:"Time's up!"})})]})}),(0,t.jsx)(c.Grid,{item:!0,xs:12,md:4,children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3},children:[(0,t.jsx)(i.Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",children:"Scoreboard"}),(0,t.jsx)(w.List,{children:U.map((r,o)=>(0,t.jsxs)(W.ListItem,{children:[(0,t.jsxs)(S.ListItemAvatar,{children:[(0,t.jsx)(R.Chip,{label:o+1,size:"small",color:0===o?"primary":"default",sx:{mr:1}}),(0,t.jsx)(P.Avatar,{src:r.avatar,children:r.name.charAt(0).toUpperCase()})]}),(0,t.jsx)(k.ListItemText,{primary:r.name,secondary:`${r.score} pts`}),r.id===e.currentDrawerId&&(0,t.jsx)(R.Chip,{label:"Drawing",size:"small",color:"primary"})]},r.id))})]})})]})})}function eb(){let{gameRoom:e,players:r,submitAnswer:m}=T(),[p,g]=(0,o.useState)(""),[y,f]=(0,o.useState)(120),[j,v]=(0,o.useState)(!1);if((0,o.useEffect)(()=>{if(e?.state==="playing"&&y>0){let e=setInterval(()=>{f(e=>Math.max(0,e-1))},1e3);return()=>clearInterval(e)}},[e?.state,y]),(0,o.useEffect)(()=>{e?.state==="playing"&&(f(120),v(!1),g(""))},[e?.currentRound]),!e)return null;let b=()=>{p.trim()&&(m({roomCode:e.roomCode,answer:p.trim()}),v(!0))},C=[...r].sort((e,t)=>t.score-e.score),B=[{question:"I speak without a mouth and hear without ears. I have no body, but I come alive with wind. What am I?",hint:"Think about sound..."},{question:"What has keys, but no locks; space, but no room; and you can enter, but can't go inside?",hint:"You use it every day..."},{question:"The more you take, the more you leave behind. What am I?",hint:"Think about walking..."}],A=B[(e.currentRound-1)%B.length];return(0,t.jsx)(s.Container,{maxWidth:"lg",sx:{py:4},children:(0,t.jsxs)(c.Grid,{container:!0,spacing:3,children:[(0,t.jsx)(c.Grid,{item:!0,xs:12,md:8,children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3},children:[(0,t.jsxs)(a.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,t.jsxs)(i.Typography,{variant:"h5",fontWeight:"bold",children:["Puzzle ",e.currentRound," of ",e.maxRounds]}),(0,t.jsx)(R.Chip,{icon:(0,t.jsx)(O.default,{}),label:`${Math.floor(y/60)}:${(y%60).toString().padStart(2,"0")}`,color:y<30?"error":"primary",sx:{fontSize:"1.2rem",px:1}})]}),(0,t.jsx)(L.LinearProgress,{variant:"determinate",value:y/120*100,color:y<30?"error":"primary",sx:{height:8,borderRadius:1,mb:3}}),(0,t.jsx)(h.Card,{sx:{mb:3,bgcolor:"primary.main",color:"primary.contrastText"},children:(0,t.jsxs)(x.CardContent,{children:[(0,t.jsx)(i.Typography,{variant:"h6",gutterBottom:!0,children:"ðŸ§© Riddle Time!"}),(0,t.jsx)(i.Typography,{variant:"h5",sx:{my:3},children:A.question}),(0,t.jsxs)(u.Alert,{severity:"info",sx:{mt:2},children:[(0,t.jsx)("strong",{children:"Hint:"})," ",A.hint]})]})}),(0,t.jsxs)(n.Paper,{variant:"outlined",sx:{p:2,mb:3,bgcolor:"background.default"},children:[(0,t.jsx)(i.Typography,{variant:"subtitle2",gutterBottom:!0,color:"text.secondary",children:"ðŸ’¡ Team Discussion Area"}),(0,t.jsx)(i.Typography,{variant:"body2",color:"text.secondary",children:"Work together with your team to solve the puzzle!"})]}),!j&&y>0?(0,t.jsxs)(a.Box,{children:[(0,t.jsx)(l.TextField,{fullWidth:!0,variant:"outlined",placeholder:"Type your answer...",value:p,onChange:e=>g(e.target.value),onKeyPress:e=>{"Enter"!==e.key||j||b()},multiline:!0,rows:2,sx:{mb:2}}),(0,t.jsx)(d.Button,{variant:"contained",size:"large",fullWidth:!0,endIcon:(0,t.jsx)(N.default,{}),onClick:b,disabled:!p.trim(),children:"Submit Answer"})]}):j?(0,t.jsxs)(u.Alert,{severity:"success",icon:(0,t.jsx)(U.default,{}),children:[(0,t.jsx)("strong",{children:"Answer submitted!"})," Waiting for other players..."]}):(0,t.jsx)(u.Alert,{severity:"info",children:"Time's up! Revealing answer..."})]})}),(0,t.jsxs)(c.Grid,{item:!0,xs:12,md:4,children:[(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3,mb:3},children:[(0,t.jsx)(i.Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",children:"Team Scores"}),(0,t.jsx)(w.List,{children:C.map((e,o)=>(0,t.jsxs)(W.ListItem,{children:[(0,t.jsxs)(S.ListItemAvatar,{children:[(0,t.jsx)(R.Chip,{label:o+1,size:"small",color:0===o?"primary":"default",sx:{mr:1}}),(0,t.jsx)(P.Avatar,{src:e.avatar,children:e.name.charAt(0).toUpperCase()})]}),(0,t.jsx)(k.ListItemText,{primary:e.name,secondary:`${e.score} pts`}),j&&e.id===r[0]?.id&&(0,t.jsx)(U.default,{color:"success"})]},e.id))})]}),(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3},children:[(0,t.jsx)(i.Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",children:"How to Play"}),(0,t.jsx)(i.Typography,{variant:"body2",paragraph:!0,children:"ðŸ¤” Read the puzzle carefully"}),(0,t.jsx)(i.Typography,{variant:"body2",paragraph:!0,children:"ðŸ’¬ Discuss with your team"}),(0,t.jsx)(i.Typography,{variant:"body2",paragraph:!0,children:"ðŸ’¡ Use the hint if you're stuck"}),(0,t.jsx)(i.Typography,{variant:"body2",children:"âœ… Submit your answer before time runs out!"})]})]})]})})}function eC({roomCode:e,onSelectGame:r}){let[l,p]=(0,o.useState)(!1),g=[{type:"guessing",icon:(0,t.jsx)(y.default,{sx:{fontSize:80,color:"primary.main"}}),title:"Guessing Game",description:"Give clues and guess words",duration:"60 seconds per round",players:"2-16 players",color:"#4B5DBD"},{type:"drawing",icon:(0,t.jsx)(f.default,{sx:{fontSize:80,color:"secondary.main"}}),title:"Drawing Game",description:"Draw and guess in real-time",duration:"90 seconds per round",players:"2-16 players",color:"#6c757d"},{type:"puzzle",icon:(0,t.jsx)(j.default,{sx:{fontSize:80,color:"success.main"}}),title:"Puzzle Game",description:"Solve riddles together as a team",duration:"120 seconds per round",players:"2-16 players",color:"#28a745"}];return(0,t.jsxs)(s.Container,{maxWidth:"lg",sx:{py:4},children:[(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3,mb:4,textAlign:"center",bgcolor:"primary.main",color:"white"},children:[(0,t.jsx)(i.Typography,{variant:"h5",gutterBottom:!0,children:"Your Room Code"}),(0,t.jsxs)(a.Box,{display:"flex",alignItems:"center",justifyContent:"center",gap:2,children:[(0,t.jsx)(i.Typography,{variant:"h3",fontWeight:"bold",sx:{letterSpacing:4,fontFamily:"monospace"},children:e}),(0,t.jsx)(A.IconButton,{onClick:()=>{navigator.clipboard.writeText(e),p(!0),setTimeout(()=>p(!1),2e3)},sx:{color:"white",bgcolor:"rgba(255,255,255,0.2)","&:hover":{bgcolor:"rgba(255,255,255,0.3)"}},children:(0,t.jsx)(G.default,{})})]}),l&&(0,t.jsx)(i.Typography,{variant:"body2",sx:{mt:1},children:"âœ“ Code copied to clipboard!"}),(0,t.jsx)(i.Typography,{variant:"body1",sx:{mt:2,opacity:.9},children:"Share this code with your friends to join"})]}),(0,t.jsxs)(a.Box,{textAlign:"center",mb:4,children:[(0,t.jsx)(i.Typography,{variant:"h3",gutterBottom:!0,fontWeight:"bold",children:"What game are you going to play?"}),(0,t.jsx)(i.Typography,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Choose a game type for your room"})]}),(0,t.jsx)(c.Grid,{container:!0,spacing:3,justifyContent:"center",children:g.map(e=>(0,t.jsx)(c.Grid,{item:!0,xs:12,sm:6,md:4,children:(0,t.jsxs)(h.Card,{elevation:3,sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-8px)",boxShadow:6}},children:[(0,t.jsxs)(x.CardContent,{sx:{flexGrow:1,textAlign:"center",p:3},children:[(0,t.jsx)(a.Box,{mb:2,children:e.icon}),(0,t.jsx)(i.Typography,{variant:"h5",gutterBottom:!0,fontWeight:"bold",children:e.title}),(0,t.jsx)(i.Typography,{variant:"body1",color:"text.secondary",paragraph:!0,children:e.description}),(0,t.jsxs)(a.Box,{mt:2,children:[(0,t.jsxs)(i.Typography,{variant:"body2",color:"text.secondary",children:["â±ï¸ ",e.duration]}),(0,t.jsxs)(i.Typography,{variant:"body2",color:"text.secondary",children:["ðŸ‘¥ ",e.players]})]})]}),(0,t.jsx)(m.CardActions,{sx:{p:2,pt:0},children:(0,t.jsxs)(d.Button,{fullWidth:!0,variant:"contained",size:"large",onClick:()=>r(e.type),sx:{bgcolor:e.color,"&:hover":{bgcolor:e.color,filter:"brightness(0.9)"}},children:["Select ",e.title]})})]})},e.type))}),(0,t.jsxs)(u.Alert,{severity:"info",sx:{mt:4},children:[(0,t.jsx)("strong",{children:"Note:"})," Once you select a game type, all players joining with your room code will enter that game. You can start the game once at least 2 players have joined."]})]})}function eT({roomCode:e,playerName:r}){let[s,d]=(0,o.useState)([]),[c,u]=(0,o.useState)(""),h=(0,o.useRef)(null),x=(0,o.useRef)((0,C.getSocket)());(0,o.useEffect)(()=>{let e=x.current,t=e=>{d(t=>[...t,e])};return e.on("game:chat-message",t),()=>{e.off("game:chat-message",t)}},[]),(0,o.useEffect)(()=>{h.current?.scrollIntoView({behavior:"smooth"})},[s]);let m=()=>{c.trim()&&(x.current.emit("game:chat",{roomCode:e,message:c.trim(),playerName:r}),u(""))};return(0,t.jsxs)(n.Paper,{elevation:3,sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,t.jsx)(a.Box,{sx:{p:2,bgcolor:"primary.main",color:"white"},children:(0,t.jsx)(i.Typography,{variant:"h6",fontWeight:"bold",children:"Chat"})}),(0,t.jsx)(p.Divider,{}),(0,t.jsx)(a.Box,{sx:{flex:1,overflow:"auto",p:2},children:(0,t.jsxs)(w.List,{dense:!0,children:[s.map((e,r)=>(0,t.jsx)(W.ListItem,{alignItems:"flex-start",sx:{py:.5},children:(0,t.jsx)(k.ListItemText,{primary:(0,t.jsx)(i.Typography,{variant:"body2",component:"span",fontWeight:"bold",children:e.playerName}),secondary:(0,t.jsx)(i.Typography,{variant:"body2",component:"span",children:e.message})})},r)),(0,t.jsx)("div",{ref:h})]})}),(0,t.jsx)(p.Divider,{}),(0,t.jsxs)(a.Box,{sx:{p:2,display:"flex",gap:1},children:[(0,t.jsx)(l.TextField,{fullWidth:!0,size:"small",placeholder:"Type a message...",value:c,onChange:e=>u(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),m())},variant:"outlined"}),(0,t.jsx)(A.IconButton,{color:"primary",onClick:m,disabled:!c.trim(),children:(0,t.jsx)(N.default,{})})]})]})}function eB(){let{gameRoom:e,players:r,socketId:o,leaveRoom:l,setGameType:h,startGame:x}=T();if(!e)return null;let m=r.find(e=>e.id===o),g=m?.isHost||!1,y="lobby"===e.state,f="playing"===e.state,j="gameEnd"===e.state,v=()=>{confirm("Are you sure you want to leave the room?")&&l()};if(f)switch(e.gameType){case"guessing":return(0,t.jsx)(_,{});case"drawing":return(0,t.jsx)(ev,{});case"puzzle":return(0,t.jsx)(eb,{});default:return null}if(j){let e=[...r].sort((e,t)=>t.score-e.score);return(0,t.jsx)(s.Container,{maxWidth:"md",sx:{py:4},children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4,textAlign:"center"},children:[(0,t.jsx)($.default,{sx:{fontSize:80,color:"gold",mb:2}}),(0,t.jsx)(i.Typography,{variant:"h3",gutterBottom:!0,fontWeight:"bold",children:"Game Over!"}),(0,t.jsxs)(a.Box,{my:4,children:[(0,t.jsx)(i.Typography,{variant:"h5",gutterBottom:!0,children:"Final Scores"}),(0,t.jsx)(w.List,{children:e.map((e,r)=>(0,t.jsxs)(W.ListItem,{children:[(0,t.jsxs)(S.ListItemAvatar,{children:[(0,t.jsx)(R.Chip,{label:r+1,color:0===r?"primary":"default",sx:{mr:1}}),(0,t.jsx)(P.Avatar,{src:e.avatar,children:e.name.charAt(0).toUpperCase()})]}),(0,t.jsx)(k.ListItemText,{primary:e.name,secondary:`${e.score} points`})]},e.id))})]}),(0,t.jsx)(d.Button,{variant:"contained",size:"large",onClick:v,sx:{mt:2},children:"Back to Lobby"})]})})}return y&&!e.gameType&&g?(0,t.jsx)(eC,{roomCode:e.roomCode,onSelectGame:t=>{e&&h(e.roomCode,t)}}):!y||e.gameType||g?(0,t.jsx)(s.Container,{maxWidth:"lg",sx:{py:4},children:(0,t.jsxs)(c.Grid,{container:!0,spacing:3,children:[(0,t.jsx)(c.Grid,{item:!0,xs:12,md:8,children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3,mb:3},children:[(0,t.jsxs)(a.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,t.jsxs)(a.Box,{children:[(0,t.jsxs)(i.Typography,{variant:"h4",gutterBottom:!0,fontWeight:"bold",children:["Room: ",e.roomCode]}),(0,t.jsxs)(i.Typography,{variant:"body2",color:"text.secondary",children:[r.length," / 16 players"]})]}),(0,t.jsxs)(a.Box,{children:[(0,t.jsx)(A.IconButton,{onClick:()=>{navigator.clipboard.writeText(e.roomCode)},color:"primary",children:(0,t.jsx)(G.default,{})}),(0,t.jsx)(d.Button,{variant:"outlined",startIcon:(0,t.jsx)(z.default,{}),onClick:v,color:"error",children:"Leave"})]})]}),(0,t.jsx)(p.Divider,{sx:{my:2}}),(0,t.jsxs)(u.Alert,{severity:"success",sx:{mb:3},children:[(0,t.jsx)("strong",{children:"Game Type:"})," ","guessing"===e.gameType?"Guessing Game":"drawing"===e.gameType?"Drawing Game":"Puzzle Game"]}),g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Button,{variant:"contained",size:"large",fullWidth:!0,startIcon:(0,t.jsx)(I.default,{}),onClick:()=>{g&&e.gameType&&x({roomCode:e.roomCode,gameType:e.gameType,maxRounds:5})},disabled:r.length<2,children:"Start Game"}),r.length<2&&(0,t.jsx)(u.Alert,{severity:"info",sx:{mt:2},children:"Need at least 2 players to start"})]}):(0,t.jsx)(u.Alert,{severity:"info",children:"Waiting for host to start the game..."})]})}),(0,t.jsxs)(c.Grid,{item:!0,xs:12,md:4,children:[(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3},children:[(0,t.jsxs)(i.Typography,{variant:"h6",gutterBottom:!0,children:["Players (",r.length,"/16)"]}),(0,t.jsx)(w.List,{children:r.map(e=>(0,t.jsxs)(W.ListItem,{children:[(0,t.jsx)(S.ListItemAvatar,{children:(0,t.jsx)(P.Avatar,{src:e.avatar,children:e.name.charAt(0).toUpperCase()})}),(0,t.jsx)(k.ListItemText,{primary:e.name,secondary:e.isHost?"Host":"Player"}),e.isHost&&(0,t.jsx)(R.Chip,{label:"Host",size:"small",color:"primary"})]},e.id))})]}),(0,t.jsx)(n.Paper,{elevation:3,sx:{p:0,mt:2,height:300},children:(0,t.jsx)(eT,{roomCode:e.roomCode,playerName:m?.name||"Guest"})})]})]})}):(0,t.jsx)(s.Container,{maxWidth:"md",sx:{py:4,textAlign:"center"},children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4},children:[(0,t.jsx)(i.Typography,{variant:"h4",gutterBottom:!0,children:"Waiting for Host"}),(0,t.jsx)(i.Typography,{variant:"body1",color:"text.secondary",paragraph:!0,children:"The host is selecting the game type..."}),(0,t.jsxs)(i.Typography,{variant:"h6",fontWeight:"bold",sx:{mt:3},children:["Room Code: ",e.roomCode]}),(0,t.jsx)(d.Button,{variant:"outlined",onClick:v,sx:{mt:2},children:"Leave Room"})]})})}function ew(){let{user:e,isAuthenticated:r,isLoading:C}=(0,B.useAuth)(),{gameRoom:w,players:W,isConnected:S,error:k,createRoom:P,joinRoom:R}=T(),[A,z]=(0,o.useState)(""),[G,I]=(0,o.useState)(""),[$,L]=(0,o.useState)(""),[F,E]=(0,o.useState)("menu"),[M,D]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{if(r&&e&&!A){let t=e.name||e.email?.split("@")[0]||"";t&&(z(t),console.log("[GameLobby] Auto-filled player name from user profile:",t))}},[r,e,A]),(0,o.useEffect)(()=>{console.log("[GameLobby] Auth state:",{isAuthenticated:r,authLoading:C,userName:e?.name,userEmail:e?.email,playerName:A})},[r,C,e,A]),w)?(0,t.jsx)(eB,{}):(0,t.jsxs)(s.Container,{maxWidth:"lg",sx:{py:4},children:[(0,t.jsxs)(a.Box,{textAlign:"center",mb:4,children:[(0,t.jsx)(i.Typography,{variant:"h2",component:"h1",gutterBottom:!0,fontWeight:"bold",children:"ðŸŽ® LookUp.Cafe"}),(0,t.jsx)(i.Typography,{variant:"h5",color:"text.secondary",gutterBottom:!0,children:"Play Realtime Mini-Games with Family & Friends"}),(0,t.jsx)(i.Typography,{variant:"body1",color:"text.secondary",children:"Up to 16 players â€¢ Guessing Games â€¢ Drawing Games â€¢ Puzzles"}),!S&&(0,t.jsx)(u.Alert,{severity:"warning",sx:{mt:2,maxWidth:600,mx:"auto"},children:(0,t.jsxs)(a.Box,{display:"flex",alignItems:"center",gap:1,children:[(0,t.jsx)(g.CircularProgress,{size:16}),(0,t.jsx)("span",{children:"Connecting to game server..."})]})}),r&&e?.name&&(0,t.jsxs)(u.Alert,{severity:"info",sx:{mt:2,maxWidth:600,mx:"auto"},children:["Welcome, ",(0,t.jsx)("strong",{children:e.name}),"! Your display name will be used automatically."]}),k&&(0,t.jsx)(u.Alert,{severity:"error",sx:{mt:2,maxWidth:600,mx:"auto"},children:k})]}),"menu"===F&&(0,t.jsxs)(c.Grid,{container:!0,spacing:3,justifyContent:"center",children:[(0,t.jsx)(c.Grid,{item:!0,xs:12,md:5,children:(0,t.jsxs)(h.Card,{elevation:3,children:[(0,t.jsx)(x.CardContent,{children:(0,t.jsxs)(a.Box,{textAlign:"center",mb:2,children:[(0,t.jsx)(v.default,{sx:{fontSize:60,color:"primary.main"}}),(0,t.jsx)(i.Typography,{variant:"h5",gutterBottom:!0,fontWeight:"bold",children:"Create Room"}),(0,t.jsx)(i.Typography,{variant:"body2",color:"text.secondary",children:"Start a new game and invite friends"})]})}),(0,t.jsx)(m.CardActions,{sx:{justifyContent:"center",pb:3},children:(0,t.jsx)(d.Button,{variant:"contained",size:"large",fullWidth:!0,onClick:()=>E("create"),sx:{maxWidth:300},children:S?"Create Room":"Create Room..."})})]})}),(0,t.jsx)(c.Grid,{item:!0,xs:12,md:5,children:(0,t.jsxs)(h.Card,{elevation:3,children:[(0,t.jsx)(x.CardContent,{children:(0,t.jsxs)(a.Box,{textAlign:"center",mb:2,children:[(0,t.jsx)(b.default,{sx:{fontSize:60,color:"secondary.main"}}),(0,t.jsx)(i.Typography,{variant:"h5",gutterBottom:!0,fontWeight:"bold",children:"Join Room"}),(0,t.jsx)(i.Typography,{variant:"body2",color:"text.secondary",children:"Enter a room code to join friends"})]})}),(0,t.jsx)(m.CardActions,{sx:{justifyContent:"center",pb:3},children:(0,t.jsx)(d.Button,{variant:"outlined",size:"large",fullWidth:!0,onClick:()=>E("join"),sx:{maxWidth:300},children:S?"Join Room":"Join Room..."})})]})}),(0,t.jsxs)(c.Grid,{item:!0,xs:12,children:[(0,t.jsx)(p.Divider,{sx:{my:3}}),(0,t.jsx)(i.Typography,{variant:"h6",textAlign:"center",gutterBottom:!0,children:"Available Games"}),(0,t.jsxs)(c.Grid,{container:!0,spacing:2,justifyContent:"center",sx:{mt:1},children:[(0,t.jsx)(c.Grid,{item:!0,xs:12,sm:4,md:3,children:(0,t.jsxs)(n.Paper,{sx:{p:2,textAlign:"center"},children:[(0,t.jsx)(y.default,{color:"primary",sx:{fontSize:40}}),(0,t.jsx)(i.Typography,{variant:"subtitle1",fontWeight:"bold",children:"Guessing Games"}),(0,t.jsx)(i.Typography,{variant:"body2",color:"text.secondary",children:"Give clues, guess answers"})]})}),(0,t.jsx)(c.Grid,{item:!0,xs:12,sm:4,md:3,children:(0,t.jsxs)(n.Paper,{sx:{p:2,textAlign:"center"},children:[(0,t.jsx)(f.default,{color:"secondary",sx:{fontSize:40}}),(0,t.jsx)(i.Typography,{variant:"subtitle1",fontWeight:"bold",children:"Drawing Games"}),(0,t.jsx)(i.Typography,{variant:"body2",color:"text.secondary",children:"Draw and guess in realtime"})]})}),(0,t.jsx)(c.Grid,{item:!0,xs:12,sm:4,md:3,children:(0,t.jsxs)(n.Paper,{sx:{p:2,textAlign:"center"},children:[(0,t.jsx)(j.default,{color:"success",sx:{fontSize:40}}),(0,t.jsx)(i.Typography,{variant:"subtitle1",fontWeight:"bold",children:"Puzzle Games"}),(0,t.jsx)(i.Typography,{variant:"body2",color:"text.secondary",children:"Solve together as a team"})]})})]})]})]}),"create"===F&&(0,t.jsx)(a.Box,{maxWidth:600,mx:"auto",children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4},children:[(0,t.jsx)(i.Typography,{variant:"h5",gutterBottom:!0,fontWeight:"bold",children:"Create New Room"}),!S&&(0,t.jsx)(u.Alert,{severity:"warning",sx:{mb:2},children:(0,t.jsxs)(a.Box,{display:"flex",alignItems:"center",gap:1,children:[(0,t.jsx)(g.CircularProgress,{size:16}),(0,t.jsx)("span",{children:"Waiting for game server connection..."})]})}),(0,t.jsx)(l.TextField,{fullWidth:!0,label:"Your Name",value:A,onChange:e=>z(e.target.value),margin:"normal",helperText:r?"Using your account name":"Enter a display name",disabled:r&&!!A}),(0,t.jsx)(l.TextField,{fullWidth:!0,label:"Custom Room Code (Optional)",value:$,onChange:e=>L(e.target.value.toUpperCase()),margin:"normal",placeholder:"Enter 9-digit code or leave blank for auto-generate",helperText:"Create your own 9-character code, or leave blank to auto-generate",inputProps:{maxLength:9,style:{textTransform:"uppercase",fontFamily:"monospace",fontSize:"1.2rem",letterSpacing:"0.1em"}}}),(0,t.jsxs)(a.Box,{mt:3,display:"flex",gap:2,children:[(0,t.jsx)(d.Button,{variant:"outlined",onClick:()=>E("menu"),fullWidth:!0,children:"Back"}),(0,t.jsx)(d.Button,{variant:"contained",onClick:()=>{if(!A.trim())return void alert("Please enter your name");if($.trim()){let e=$.trim().toUpperCase();if(9!==e.length)return void alert("Room code must be exactly 9 characters");if(!/^[A-Z0-9]+$/.test(e))return void alert("Room code can only contain letters and numbers")}P({playerName:A.trim(),userId:e?.id,avatar:e?.avatar,roomCode:$.trim().toUpperCase()||void 0})},fullWidth:!0,disabled:!A.trim()||!S,startIcon:S?null:(0,t.jsx)(g.CircularProgress,{size:20,color:"inherit"}),children:S?"Create Room":"Connecting..."})]})]})}),"join"===F&&(0,t.jsx)(a.Box,{maxWidth:600,mx:"auto",children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4},children:[(0,t.jsx)(i.Typography,{variant:"h5",gutterBottom:!0,fontWeight:"bold",children:"Join Room"}),!S&&(0,t.jsx)(u.Alert,{severity:"warning",sx:{mb:2},children:(0,t.jsxs)(a.Box,{display:"flex",alignItems:"center",gap:1,children:[(0,t.jsx)(g.CircularProgress,{size:16}),(0,t.jsx)("span",{children:"Waiting for game server connection..."})]})}),(0,t.jsx)(l.TextField,{fullWidth:!0,label:"Your Name",value:A,onChange:e=>z(e.target.value),margin:"normal",helperText:r?"Using your account name":"Enter a display name",disabled:r&&!!A}),(0,t.jsx)(l.TextField,{fullWidth:!0,label:"Room Code",value:G,onChange:e=>I(e.target.value.toUpperCase()),margin:"normal",helperText:"Enter the 9-character room code",inputProps:{maxLength:9,style:{textTransform:"uppercase"}}}),(0,t.jsxs)(a.Box,{mt:3,display:"flex",gap:2,children:[(0,t.jsx)(d.Button,{variant:"outlined",onClick:()=>E("menu"),fullWidth:!0,children:"Back"}),(0,t.jsx)(d.Button,{variant:"contained",onClick:()=>{A.trim()?G.trim()&&9===G.length?R({roomCode:G.trim().toUpperCase(),playerName:A.trim(),userId:e?.id,avatar:e?.avatar}):alert("Please enter a valid 9-character room code"):alert("Please enter your name")},fullWidth:!0,disabled:!A.trim()||9!==G.length||!S,startIcon:S?null:(0,t.jsx)(g.CircularProgress,{size:20,color:"inherit"}),children:S?"Join Room":"Connecting..."})]})]})})]})}e.s(["default",0,function(){return(0,t.jsx)(r.default,{active:"lookupcafe",children:(0,t.jsx)(ew,{})})}],19250)},52856,(e,t,r)=>{let o="/lookupcafe";(window.__NEXT_P=window.__NEXT_P||[]).push([o,()=>e.r(19250)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([o])})}]);