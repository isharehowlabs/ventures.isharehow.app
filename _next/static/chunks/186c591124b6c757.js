(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,121859,(e,t,r)=>{"use strict";var l=e.r(991074);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=l(e.r(764800)),a=e.r(444855);r.default=(0,s.default)([(0,a.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,a.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime")},428810,(e,t,r)=>{"use strict";var l=e.r(991074);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=l(e.r(764800)),a=e.r(444855);r.default=(0,s.default)((0,a.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")},952163,e=>{"use strict";e.i(896335);var t=e.i(884933),r=e.i(680622),l=e.i(661678),s=e.i(590389),a=e.i(636831),i=e.i(492489);let n=["ownerState"],o=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function c(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function u(e,t){return t&&e&&"object"==typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}let p=(0,a.default)();function f({defaultTheme:e,theme:t,themeId:r}){return 0===Object.keys(t).length?e:t[r]||t}function h(e,s,a){let{ownerState:i}=s,d=(0,r.default)(s,n),c="function"==typeof e?e((0,t.default)({ownerState:i},d)):e;if(Array.isArray(c))return c.flatMap(e=>h(e,(0,t.default)({ownerState:i},d),a));if(c&&"object"==typeof c&&Array.isArray(c.variants)){let{variants:e=[]}=c,s=(0,r.default)(c,o);return e.forEach(e=>{let r=!0;if("function"==typeof e.props?r=e.props((0,t.default)({ownerState:i},d,i)):Object.keys(e.props).forEach(t=>{(null==i?void 0:i[t])!==e.props[t]&&d[t]!==e.props[t]&&(r=!1)}),r){Array.isArray(s)||(s=[s]);let r="function"==typeof e.style?e.style((0,t.default)({ownerState:i},d,i)):e.style;s.push(a?u((0,l.internal_serializeStyles)(r),a):r)}}),s}return a?u((0,l.internal_serializeStyles)(c),a):c}let m=function(e={}){let{themeId:a,defaultTheme:n=p,rootShouldForwardProp:o=c,slotShouldForwardProp:u=c}=e,m=e=>(0,i.default)((0,t.default)({},e,{theme:f((0,t.default)({},e,{defaultTheme:n,themeId:a}))}));return m.__mui_systemSx=!0,(e,i={})=>{var p;let y;(0,l.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));let{name:v,slot:g,skipVariantsResolver:b,skipSx:j,overridesResolver:x=!(p=!g?g:g.charAt(0).toLowerCase()+g.slice(1))?null:(e,t)=>t[p]}=i,C=(0,r.default)(i,d),S=v&&v.startsWith("Mui")||g?"components":"custom",k=void 0!==b?b:g&&"Root"!==g&&"root"!==g||!1,T=j||!1,w=c;"Root"===g||"root"===g?w=o:g?w=u:"string"==typeof e&&e.charCodeAt(0)>96&&(w=void 0);let E=(0,l.default)(e,(0,t.default)({shouldForwardProp:w,label:y},C)),_=e=>"function"==typeof e&&e.__emotion_real!==e||(0,s.isPlainObject)(e)?r=>{let l=f({theme:r.theme,defaultTheme:n,themeId:a});return h(e,(0,t.default)({},r,{theme:l}),l.modularCssLayers?S:void 0)}:e,A=(r,...l)=>{let s=_(r),i=l?l.map(_):[];v&&x&&i.push(e=>{let r=f((0,t.default)({},e,{defaultTheme:n,themeId:a}));if(!r.components||!r.components[v]||!r.components[v].styleOverrides)return null;let l=r.components[v].styleOverrides,s={};return Object.entries(l).forEach(([l,a])=>{s[l]=h(a,(0,t.default)({},e,{theme:r}),r.modularCssLayers?"theme":void 0)}),x(e,s)}),v&&!k&&i.push(e=>{var r;let l=f((0,t.default)({},e,{defaultTheme:n,themeId:a}));return h({variants:null==l||null==(r=l.components)||null==(r=r[v])?void 0:r.variants},(0,t.default)({},e,{theme:l}),l.modularCssLayers?"theme":void 0)}),T||i.push(m);let o=i.length-l.length;if(Array.isArray(r)&&o>0){let e=Array(o).fill("");(s=[...r,...e]).raw=[...r.raw,...e]}let d=E(s,...i);return e.muiName&&(d.muiName=e.muiName),d};return E.withConfig&&(A.withConfig=E.withConfig),A}}();e.s(["default",0,m],952163)},187002,e=>{"use strict";var t=e.i(597960),r=e.i(683799);function l({props:e,name:l,defaultTheme:s,themeId:a}){let i=(0,r.default)(s);return a&&(i=i[a]||i),(0,t.default)({theme:i,name:l,props:e})}e.s(["default",()=>l])},137114,e=>{"use strict";e.i(896335);var t=e.i(680622),r=e.i(884933),l=e.i(958891),s=e.i(381706),a=e.i(590389),i=e.i(985741),n=e.i(715127),o=e.i(952163),d=e.i(187002),c=e.i(266188),u=e.i(636831),p=e.i(969631),f=e.i(640999),h=e.i(444855);let m=["component","direction","spacing","divider","children","className","useFlexGap"],y=(0,u.default)(),v=(0,o.default)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function g(e){return(0,d.default)({props:e,name:"MuiStack",defaultTheme:y})}let b=({ownerState:e,theme:t})=>{let l=(0,r.default)({display:"flex",flexDirection:"column"},(0,p.handleBreakpoints)({theme:t},(0,p.resolveBreakpointValues)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let r=(0,f.createUnarySpacing)(t),s=Object.keys(t.breakpoints.values).reduce((t,r)=>(("object"==typeof e.spacing&&null!=e.spacing[r]||"object"==typeof e.direction&&null!=e.direction[r])&&(t[r]=!0),t),{}),i=(0,p.resolveBreakpointValues)({values:e.direction,base:s}),n=(0,p.resolveBreakpointValues)({values:e.spacing,base:s});"object"==typeof i&&Object.keys(i).forEach((e,t,r)=>{if(!i[e]){let l=t>0?i[r[t-1]]:"column";i[e]=l}}),l=(0,a.default)(l,(0,p.handleBreakpoints)({theme:t},n,(t,l)=>e.useFlexGap?{gap:(0,f.getValue)(r,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[l?i[l]:e.direction]}`]:(0,f.getValue)(r,t)}}))}return(0,p.mergeBreakpointsInOrder)(t.breakpoints,l)};var j=e.i(595262),x=e.i(196861);let C=function(e={}){let{createStyledComponent:a=v,useThemeProps:o=g,componentName:d="MuiStack"}=e,u=a(b);return l.forwardRef(function(e,a){let p,f=o(e),y=(0,c.extendSxProp)(f),{component:v="div",direction:g="column",spacing:b=0,divider:j,children:x,className:C,useFlexGap:S=!1}=y,k=(0,t.default)(y,m),T=(0,n.default)({root:["root"]},e=>(0,i.default)(d,e),{});return(0,h.jsx)(u,(0,r.default)({as:v,ownerState:{direction:g,spacing:b,useFlexGap:S},ref:a,className:(0,s.default)(T.root,C)},k,{children:j?(p=l.Children.toArray(x).filter(Boolean)).reduce((e,t,r)=>(e.push(t),r<p.length-1&&e.push(l.cloneElement(j,{key:`separator-${r}`})),e),[]):x}))})}({createStyledComponent:(0,j.default)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,x.useDefaultProps)({props:e,name:"MuiStack"})});e.s(["default",0,C],137114)},415708,e=>{"use strict";var t=e.i(137114);e.s(["Stack",()=>t.default])},235134,(e,t,r)=>{"use strict";var l=e.r(991074);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=l(e.r(764800)),a=e.r(444855);r.default=(0,s.default)([(0,a.jsx)("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),(0,a.jsx)("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings")},560472,(e,t,r)=>{"use strict";var l=e.r(991074);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=l(e.r(764800)),a=e.r(444855);r.default=(0,s.default)((0,a.jsx)("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"VpnKey")},505385,268914,e=>{"use strict";var t=e.i(958891);let r={defaultTab:0,layout:"grid",showTaskList:!0,showLiveUpdates:!0,autoRefresh:!0,refreshInterval:300},l={workspace:{visible:!0,order:0},focus:{visible:!0,order:3}},s="user_dashboard_settings";function a(){let[e,a]=(0,t.useState)(()=>{try{let e=localStorage.getItem(s);if(e){let t=JSON.parse(e);return{dashboard:{...r,...t.dashboard},panels:{...l,...t.panels},apiKeys:t.apiKeys||{}}}}catch(e){console.error("Error loading settings:",e)}return{dashboard:r,panels:l,apiKeys:{}}}),i=(0,t.useCallback)(e=>{a(t=>{let r={...t,dashboard:{...t.dashboard,...e}};try{localStorage.setItem(s,JSON.stringify(r))}catch(e){console.error("Error saving settings:",e)}return r})},[]),n=(0,t.useCallback)((e,t)=>{a(r=>{let l={...r,panels:{...r.panels,[e]:{...r.panels[e],...t}}};try{localStorage.setItem(s,JSON.stringify(l))}catch(e){console.error("Error saving settings:",e)}return l})},[]),o=(0,t.useCallback)(e=>{a(t=>{let r={...t,apiKeys:{...t.apiKeys,...e}};try{localStorage.setItem(s,JSON.stringify(r))}catch(e){console.error("Error saving settings:",e)}return r})},[]),d=(0,t.useCallback)(()=>{let e={dashboard:r,panels:l,apiKeys:{}};a(e);try{localStorage.setItem(s,JSON.stringify(e))}catch(e){console.error("Error saving settings:",e)}},[]),c=(0,t.useCallback)(()=>Object.entries(e.panels).filter(([e,t])=>"web3"!==e&&"figma"!==e&&"docs"!==e&&"opportunities"!==e&&"streaming"!==e&&t.visible).sort(([e,t],[r,l])=>t.order-l.order).map(([e])=>e),[e.panels]);return{settings:e,updateDashboardSettings:i,updatePanelSettings:n,updateApiKeys:o,resetSettings:d,getVisiblePanels:c}}e.s(["useSettings",()=>a],505385);var i=e.i(444855),n=e.i(633948),o=e.i(718295),d=e.i(92279),c=e.i(147379),u=e.i(975557),p=e.i(694367),f=e.i(187225),h=e.i(533932),m=e.i(707656),y=e.i(950723),v=e.i(683161),g=e.i(39972),b=e.i(920161),j=e.i(337025),x=e.i(809109),C=e.i(574614),S=e.i(715915),k=e.i(513654);function T({open:e,onClose:r,currentUser:l,isAdminView:s}){let[a,T]=(0,t.useState)([]),[w,E]=(0,t.useState)([]),[_,A]=(0,t.useState)({}),[O,M]=(0,t.useState)(!0),[P,R]=(0,t.useState)(null);(0,t.useEffect)(()=>{e&&B()},[e]);let B=async()=>{M(!0),R(null);try{let e=(0,k.getBackendUrl)(),t=await fetch(`${e}/api/creative/employees`,{credentials:"include"});if(!t.ok){let e=await t.json().catch(()=>({error:`HTTP ${t.status}`}));throw Error(e.error||`Failed to fetch employees (${t.status})`)}let r=await t.json();T(r.employees||[]);let l=await fetch(`${e}/api/creative/clients`,{credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({error:`HTTP ${l.status}`}));throw Error(e.error||`Failed to fetch clients (${l.status})`)}let s=await l.json();E(s.clients||[])}catch(e){console.error("Error fetching data:",e),R(e.message||"Failed to load data")}finally{M(!1)}},N=(0,t.useCallback)(e=>{if(!e)return"(unassigned)";let t=a.find(t=>t.id===Number(e));return t?t.name:"(unassigned)"},[a]),I=async(e,t)=>{A(t=>({...t,[e]:!0})),R(null);try{let r=(0,k.getBackendUrl)(),l=null;if(t){let e=a.find(e=>e.id===t);l=e?e.name:null}let s=await fetch(`${r}/api/creative/clients/${e}/assign-employee`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({employee_id:t,employee_name:l})});if(!s.ok){let e=await s.json().catch(()=>({error:"Failed to assign employee"}));throw Error(e.error||"Failed to assign employee")}E(r=>r.map(r=>r.id===e?{...r,assignedEmployee:l||void 0,assignedEmployeeId:t||void 0}:r))}catch(e){console.error("Error assigning employee:",e),R(e.message||"Failed to assign employee")}finally{A(t=>({...t,[e]:!1}))}},$=s?w:w.filter(e=>!!l?.id&&(e.assignedEmployeeId===l.id||e.assignedEmployee===l.name||e.assignedEmployee===l.username));return(0,i.jsxs)(n.Dialog,{open:e,onClose:r,maxWidth:"md",fullWidth:!0,children:[(0,i.jsx)(o.DialogTitle,{children:s?"Admin Client Assignment":"Your Clients"}),(0,i.jsxs)(d.DialogContent,{children:[P&&(0,i.jsx)(x.Alert,{severity:"error",onClose:()=>R(null),sx:{mb:2},children:P}),O?(0,i.jsx)(C.Box,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,i.jsx)(j.CircularProgress,{})}):(0,i.jsxs)(p.Table,{children:[(0,i.jsx)(m.TableHead,{children:(0,i.jsxs)(y.TableRow,{children:[(0,i.jsx)(h.TableCell,{children:"Client Name"}),(0,i.jsx)(h.TableCell,{children:"Company"}),(0,i.jsx)(h.TableCell,{children:"Email"}),(0,i.jsx)(h.TableCell,{children:"Assigned Employee"}),s&&(0,i.jsx)(h.TableCell,{children:"Change Assignment"})]})}),(0,i.jsxs)(f.TableBody,{children:[$.map(e=>(0,i.jsxs)(y.TableRow,{children:[(0,i.jsx)(h.TableCell,{children:e.name}),(0,i.jsx)(h.TableCell,{children:e.company}),(0,i.jsx)(h.TableCell,{children:e.email}),(0,i.jsx)(h.TableCell,{children:N(e.assignedEmployeeId)}),s&&(0,i.jsxs)(h.TableCell,{children:[(0,i.jsx)(v.FormControl,{variant:"standard",size:"small",fullWidth:!0,children:(0,i.jsxs)(g.Select,{value:e.assignedEmployeeId||"",onChange:t=>I(e.id,t.target.value?Number(t.target.value):null),disabled:!!_[e.id],children:[(0,i.jsx)(b.MenuItem,{value:"",children:(0,i.jsx)("em",{children:"Unassign"})}),a.map(e=>(0,i.jsxs)(b.MenuItem,{value:e.id,children:[e.name," ",e.is_admin?"(Admin)":""]},e.id))]})}),_[e.id]&&(0,i.jsx)(j.CircularProgress,{size:16,sx:{ml:1}})]})]},e.id)),0===$.length&&(0,i.jsx)(y.TableRow,{children:(0,i.jsx)(h.TableCell,{colSpan:s?5:4,align:"center",sx:{py:4},children:(0,i.jsx)(S.Typography,{variant:"body2",color:"text.secondary",children:"No client records found."})})})]})]})]}),(0,i.jsxs)(c.DialogActions,{children:[(0,i.jsx)(u.Button,{onClick:B,disabled:O,children:"Refresh"}),(0,i.jsx)(u.Button,{onClick:r,children:"Close"})]})]})}e.s(["default",()=>T],268914)},609781,e=>{e.v(t=>Promise.all(["static/chunks/77e64bebeb31771c.js"].map(t=>e.l(t))).then(()=>t(94246)))},590413,e=>{e.v(t=>Promise.all(["static/chunks/71fa757b12be6d50.js"].map(t=>e.l(t))).then(()=>t(618636)))}]);