(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,121859,(e,t,a)=>{"use strict";var r=e.r(991074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=r(e.r(764800)),i=e.r(444855);a.default=(0,l.default)([(0,i.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,i.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime")},428810,(e,t,a)=>{"use strict";var r=e.r(991074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=r(e.r(764800)),i=e.r(444855);a.default=(0,l.default)((0,i.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")},952163,e=>{"use strict";e.i(896335);var t=e.i(884933),a=e.i(680622),r=e.i(661678),l=e.i(590389),i=e.i(636831),s=e.i(492489);let o=["ownerState"],n=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function u(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function c(e,t){return t&&e&&"object"==typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}let p=(0,i.default)();function h({defaultTheme:e,theme:t,themeId:a}){return 0===Object.keys(t).length?e:t[a]||t}function f(e,l,i){let{ownerState:s}=l,d=(0,a.default)(l,o),u="function"==typeof e?e((0,t.default)({ownerState:s},d)):e;if(Array.isArray(u))return u.flatMap(e=>f(e,(0,t.default)({ownerState:s},d),i));if(u&&"object"==typeof u&&Array.isArray(u.variants)){let{variants:e=[]}=u,l=(0,a.default)(u,n);return e.forEach(e=>{let a=!0;if("function"==typeof e.props?a=e.props((0,t.default)({ownerState:s},d,s)):Object.keys(e.props).forEach(t=>{(null==s?void 0:s[t])!==e.props[t]&&d[t]!==e.props[t]&&(a=!1)}),a){Array.isArray(l)||(l=[l]);let a="function"==typeof e.style?e.style((0,t.default)({ownerState:s},d,s)):e.style;l.push(i?c((0,r.internal_serializeStyles)(a),i):a)}}),l}return i?c((0,r.internal_serializeStyles)(u),i):u}let m=function(e={}){let{themeId:i,defaultTheme:o=p,rootShouldForwardProp:n=u,slotShouldForwardProp:c=u}=e,m=e=>(0,s.default)((0,t.default)({},e,{theme:h((0,t.default)({},e,{defaultTheme:o,themeId:i}))}));return m.__mui_systemSx=!0,(e,s={})=>{var p;let g;(0,r.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));let{name:x,slot:y,skipVariantsResolver:v,skipSx:b,overridesResolver:j=!(p=!y?y:y.charAt(0).toLowerCase()+y.slice(1))?null:(e,t)=>t[p]}=s,w=(0,a.default)(s,d),S=x&&x.startsWith("Mui")||y?"components":"custom",T=void 0!==v?v:y&&"Root"!==y&&"root"!==y||!1,C=b||!1,k=u;"Root"===y||"root"===y?k=n:y?k=c:"string"==typeof e&&e.charCodeAt(0)>96&&(k=void 0);let P=(0,r.default)(e,(0,t.default)({shouldForwardProp:k,label:g},w)),M=e=>"function"==typeof e&&e.__emotion_real!==e||(0,l.isPlainObject)(e)?a=>{let r=h({theme:a.theme,defaultTheme:o,themeId:i});return f(e,(0,t.default)({},a,{theme:r}),r.modularCssLayers?S:void 0)}:e,R=(a,...r)=>{let l=M(a),s=r?r.map(M):[];x&&j&&s.push(e=>{let a=h((0,t.default)({},e,{defaultTheme:o,themeId:i}));if(!a.components||!a.components[x]||!a.components[x].styleOverrides)return null;let r=a.components[x].styleOverrides,l={};return Object.entries(r).forEach(([r,i])=>{l[r]=f(i,(0,t.default)({},e,{theme:a}),a.modularCssLayers?"theme":void 0)}),j(e,l)}),x&&!T&&s.push(e=>{var a;let r=h((0,t.default)({},e,{defaultTheme:o,themeId:i}));return f({variants:null==r||null==(a=r.components)||null==(a=a[x])?void 0:a.variants},(0,t.default)({},e,{theme:r}),r.modularCssLayers?"theme":void 0)}),C||s.push(m);let n=s.length-r.length;if(Array.isArray(a)&&n>0){let e=Array(n).fill("");(l=[...a,...e]).raw=[...a.raw,...e]}let d=P(l,...s);return e.muiName&&(d.muiName=e.muiName),d};return P.withConfig&&(R.withConfig=P.withConfig),R}}();e.s(["default",0,m],952163)},187002,e=>{"use strict";var t=e.i(597960),a=e.i(683799);function r({props:e,name:r,defaultTheme:l,themeId:i}){let s=(0,a.default)(l);return i&&(s=s[i]||s),(0,t.default)({theme:s,name:r,props:e})}e.s(["default",()=>r])},137114,e=>{"use strict";e.i(896335);var t=e.i(680622),a=e.i(884933),r=e.i(958891),l=e.i(381706),i=e.i(590389),s=e.i(985741),o=e.i(715127),n=e.i(952163),d=e.i(187002),u=e.i(266188),c=e.i(636831),p=e.i(969631),h=e.i(640999),f=e.i(444855);let m=["component","direction","spacing","divider","children","className","useFlexGap"],g=(0,c.default)(),x=(0,n.default)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function y(e){return(0,d.default)({props:e,name:"MuiStack",defaultTheme:g})}let v=({ownerState:e,theme:t})=>{let r=(0,a.default)({display:"flex",flexDirection:"column"},(0,p.handleBreakpoints)({theme:t},(0,p.resolveBreakpointValues)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let a=(0,h.createUnarySpacing)(t),l=Object.keys(t.breakpoints.values).reduce((t,a)=>(("object"==typeof e.spacing&&null!=e.spacing[a]||"object"==typeof e.direction&&null!=e.direction[a])&&(t[a]=!0),t),{}),s=(0,p.resolveBreakpointValues)({values:e.direction,base:l}),o=(0,p.resolveBreakpointValues)({values:e.spacing,base:l});"object"==typeof s&&Object.keys(s).forEach((e,t,a)=>{if(!s[e]){let r=t>0?s[a[t-1]]:"column";s[e]=r}}),r=(0,i.default)(r,(0,p.handleBreakpoints)({theme:t},o,(t,r)=>e.useFlexGap?{gap:(0,h.getValue)(a,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[r?s[r]:e.direction]}`]:(0,h.getValue)(a,t)}}))}return(0,p.mergeBreakpointsInOrder)(t.breakpoints,r)};var b=e.i(595262),j=e.i(196861);let w=function(e={}){let{createStyledComponent:i=x,useThemeProps:n=y,componentName:d="MuiStack"}=e,c=i(v);return r.forwardRef(function(e,i){let p,h=n(e),g=(0,u.extendSxProp)(h),{component:x="div",direction:y="column",spacing:v=0,divider:b,children:j,className:w,useFlexGap:S=!1}=g,T=(0,t.default)(g,m),C=(0,o.default)({root:["root"]},e=>(0,s.default)(d,e),{});return(0,f.jsx)(c,(0,a.default)({as:x,ownerState:{direction:y,spacing:v,useFlexGap:S},ref:i,className:(0,l.default)(C.root,w)},T,{children:b?(p=r.Children.toArray(j).filter(Boolean)).reduce((e,t,a)=>(e.push(t),a<p.length-1&&e.push(r.cloneElement(b,{key:`separator-${a}`})),e),[]):j}))})}({createStyledComponent:(0,b.default)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,j.useDefaultProps)({props:e,name:"MuiStack"})});e.s(["default",0,w],137114)},415708,e=>{"use strict";var t=e.i(137114);e.s(["Stack",()=>t.default])},18394,(e,t,a)=>{"use strict";var r=e.r(991074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=r(e.r(764800)),i=e.r(444855);a.default=(0,l.default)((0,i.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard")},694367,187225,533932,707656,950723,e=>{"use strict";e.i(896335);var t=e.i(680622),a=e.i(884933),r=e.i(958891),l=e.i(381706),i=e.i(715127);let s=r.createContext();var o=e.i(196861),n=e.i(595262),d=e.i(651480),u=e.i(985741);function c(e){return(0,u.default)("MuiTable",e)}(0,d.default)("MuiTable",["root","stickyHeader"]);var p=e.i(444855);let h=["className","component","padding","size","stickyHeader"],f=(0,n.default)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>(0,a.default)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,a.default)({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),m="table",g=r.forwardRef(function(e,n){let d=(0,o.useDefaultProps)({props:e,name:"MuiTable"}),{className:u,component:g=m,padding:x="normal",size:y="medium",stickyHeader:v=!1}=d,b=(0,t.default)(d,h),j=(0,a.default)({},d,{component:g,padding:x,size:y,stickyHeader:v}),w=(e=>{let{classes:t,stickyHeader:a}=e;return(0,i.default)({root:["root",a&&"stickyHeader"]},c,t)})(j),S=r.useMemo(()=>({padding:x,size:y,stickyHeader:v}),[x,y,v]);return(0,p.jsx)(s.Provider,{value:S,children:(0,p.jsx)(f,(0,a.default)({as:g,role:g===m?null:"table",ref:n,className:(0,l.default)(w.root,u),ownerState:j},b))})});e.s(["Table",0,g],694367);let x=r.createContext();function y(e){return(0,u.default)("MuiTableBody",e)}(0,d.default)("MuiTableBody",["root"]);let v=["className","component"],b=(0,n.default)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),j={variant:"body"},w="tbody",S=r.forwardRef(function(e,r){let s=(0,o.useDefaultProps)({props:e,name:"MuiTableBody"}),{className:n,component:d=w}=s,u=(0,t.default)(s,v),c=(0,a.default)({},s,{component:d}),h=(e=>{let{classes:t}=e;return(0,i.default)({root:["root"]},y,t)})(c);return(0,p.jsx)(x.Provider,{value:j,children:(0,p.jsx)(b,(0,a.default)({className:(0,l.default)(h.root,n),as:d,ref:r,role:d===w?null:"rowgroup",ownerState:c},u))})});e.s(["TableBody",0,S],187225);var T=e.i(596163),C=e.i(318420);function k(e){return(0,u.default)("MuiTableCell",e)}let P=(0,d.default)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),M=["align","className","component","padding","scope","size","sortDirection","variant"],R=(0,n.default)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[a.variant],t[`size${(0,C.default)(a.size)}`],"normal"!==a.padding&&t[`padding${(0,C.default)(a.padding)}`],"inherit"!==a.align&&t[`align${(0,C.default)(a.align)}`],a.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>(0,a.default)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${"light"===e.palette.mode?(0,T.lighten)((0,T.alpha)(e.palette.divider,1),.88):(0,T.darken)((0,T.alpha)(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},"head"===t.variant&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},"body"===t.variant&&{color:(e.vars||e).palette.text.primary},"footer"===t.variant&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},"small"===t.size&&{padding:"6px 16px",[`&.${P.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===t.padding&&{width:48,padding:"0 0 0 4px"},"none"===t.padding&&{padding:0},"left"===t.align&&{textAlign:"left"},"center"===t.align&&{textAlign:"center"},"right"===t.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===t.align&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),_=r.forwardRef(function(e,n){let d,u=(0,o.useDefaultProps)({props:e,name:"MuiTableCell"}),{align:c="inherit",className:h,component:f,padding:m,scope:g,size:y,sortDirection:v,variant:b}=u,j=(0,t.default)(u,M),w=r.useContext(s),S=r.useContext(x),T=S&&"head"===S.variant,P=g;"td"===(d=f||(T?"th":"td"))?P=void 0:!P&&T&&(P="col");let _=b||S&&S.variant,I=(0,a.default)({},u,{align:c,component:d,padding:m||(w&&w.padding?w.padding:"normal"),size:y||(w&&w.size?w.size:"medium"),sortDirection:v,stickyHeader:"head"===_&&w&&w.stickyHeader,variant:_}),B=(e=>{let{classes:t,variant:a,align:r,padding:l,size:s,stickyHeader:o}=e,n={root:["root",a,o&&"stickyHeader","inherit"!==r&&`align${(0,C.default)(r)}`,"normal"!==l&&`padding${(0,C.default)(l)}`,`size${(0,C.default)(s)}`]};return(0,i.default)(n,k,t)})(I),A=null;return v&&(A="asc"===v?"ascending":"descending"),(0,p.jsx)(R,(0,a.default)({as:d,ref:n,className:(0,l.default)(B.root,h),"aria-sort":A,scope:P,ownerState:I},j))});function I(e){return(0,u.default)("MuiTableHead",e)}e.s(["TableCell",0,_],533932),(0,d.default)("MuiTableHead",["root"]);let B=["className","component"],A=(0,n.default)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),$={variant:"head"},N="thead",O=r.forwardRef(function(e,r){let s=(0,o.useDefaultProps)({props:e,name:"MuiTableHead"}),{className:n,component:d=N}=s,u=(0,t.default)(s,B),c=(0,a.default)({},s,{component:d}),h=(e=>{let{classes:t}=e;return(0,i.default)({root:["root"]},I,t)})(c);return(0,p.jsx)(x.Provider,{value:$,children:(0,p.jsx)(A,(0,a.default)({as:d,className:(0,l.default)(h.root,n),ref:r,role:d===N?null:"rowgroup",ownerState:c},u))})});function z(e){return(0,u.default)("MuiTableRow",e)}e.s(["TableHead",0,O],707656);let D=(0,d.default)("MuiTableRow",["root","selected","hover","head","footer"]),E=["className","component","hover","selected"],F=(0,n.default)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.head&&t.head,a.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${D.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${D.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,T.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,T.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),L=r.forwardRef(function(e,s){let n=(0,o.useDefaultProps)({props:e,name:"MuiTableRow"}),{className:d,component:u="tr",hover:c=!1,selected:h=!1}=n,f=(0,t.default)(n,E),m=r.useContext(x),g=(0,a.default)({},n,{component:u,hover:c,selected:h,head:m&&"head"===m.variant,footer:m&&"footer"===m.variant}),y=(e=>{let{classes:t,selected:a,hover:r,head:l,footer:s}=e;return(0,i.default)({root:["root",a&&"selected",r&&"hover",l&&"head",s&&"footer"]},z,t)})(g);return(0,p.jsx)(F,(0,a.default)({as:u,ref:s,className:(0,l.default)(y.root,d),role:"tr"===u?null:"row",ownerState:g},f))});e.s(["TableRow",0,L],950723)},335303,(e,t,a)=>{"use strict";var r=e.r(991074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=r(e.r(764800)),i=e.r(444855);a.default=(0,l.default)((0,i.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"}),"RestartAlt")},907693,e=>{"use strict";var t=e.i(896335),a=e.i(444855),r=e.i(958891),l=e.i(574614),i=e.i(715915),s=e.i(65790),o=e.i(415708),n=e.i(910251),d=e.i(975557),u=e.i(39972),c=e.i(920161),p=e.i(683161),h=e.i(647617),f=e.i(809109),m=e.i(86012),g=e.i(192378),x=e.i(732327),y=e.i(454385),v=e.i(633948),b=e.i(718295),j=e.i(92279),w=e.i(147379),S=e.i(337025),T=e.i(905456),C=e.i(18394),k=e.i(424918),P=e.i(335303),M=e.i(235134),R=e.i(888522),_=e.i(560472),I=e.i(310600),B=e.i(154959),A=e.i(820887),$=e.i(21504),N=e.i(505385),O=e.i(513654),z=e.i(268914),D=e.i(983344);function E(){(0,D.useRouter)();let{settings:e,updateDashboardSettings:$,updateApiKeys:E,resetSettings:F}=(0,N.useSettings)(),[L,W]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let e=(0,O.getBackendUrl)();console.log("[Settings] Fetching profile from:",`${e}/api/profile`);let t=await fetch(`${e}/api/profile`,{credentials:"include"});if(console.log("[Settings] Profile response status:",t.status),t.ok){let e=await t.json();console.log("[Settings] Profile data received:",e),W(e)}else{let e=`HTTP ${t.status}`;try{let a=await t.json();e=a.error||a.message||e}catch(a){let e=await t.text();console.error("[Settings] Failed to fetch profile (non-JSON):",t.status,e.substring(0,200))}console.error("[Settings] Failed to fetch user profile:",e)}}catch(e){console.error("[Settings] Error fetching user profile:",e)}})()},[]);let[H,U]=(0,r.useState)(!1),[V,J]=(0,r.useState)(!1),[G,X]=(0,r.useState)(null),[q,K]=(0,r.useState)(null),Q=async()=>{J(!0),K(null),X(null);try{let e=t.default.env.NEXT_PUBLIC_WORDPRESS_URL||"https://blog.isharehow.app",a=`${e}/wp-json/wp/v2`,r=await fetch(`${a}/posts?_embed&per_page=100&status=publish&orderby=date&order=desc`);if(!r.ok)throw Error(`WordPress API error: ${r.status} ${r.statusText}`);let l=(await r.json()).map(e=>{let t=null;if(e.featured_media&&e.featured_media>0){let a=e._embedded?.["wp:featuredmedia"]?.[0];a&&(t=a.source_url||a.media_details?.sizes?.full?.source_url||null)}let a=[];e._embedded?.["wp:term"]?.[0]&&e._embedded["wp:term"][0].forEach(e=>{"category"===e.taxonomy&&e.name&&a.push(e.name)}),e._embedded?.["wp:term"]?.[1]&&e._embedded["wp:term"][1].forEach(e=>{"post_tag"===e.taxonomy&&e.name&&a.push(e.name)});let r=[];if(e._embedded?.author?.[0]){let t=e._embedded.author[0];r.push(t.slug||`author-${t.id}`)}let l="";e.excerpt?.rendered&&(l=e.excerpt.rendered.replace(/<[^>]*>/g,"").trim()).length>200&&(l=l.substring(0,200).trim()+"...");let i={slug:e.slug,title:e.title?.rendered||e.title||"",description:l,date:e.date||e.modified,tags:a,authors:r.length>0?r:["isharehow"],content:e.content?.rendered||e.content};return t&&(i.image=t),i}),i={};l.forEach(e=>{e.tags.forEach(e=>{i[e]=(i[e]||0)+1})}),localStorage.setItem("blogPosts",JSON.stringify(l)),localStorage.setItem("blogTagInfo",JSON.stringify(i)),localStorage.setItem("blogPostsLastRefresh",new Date().toISOString()),window.dispatchEvent(new Event("blogPostsRefreshed")),X(`Successfully refreshed ${l.length} blog posts!`),setTimeout(()=>X(null),5e3)}catch(e){console.error("Error refreshing blog posts:",e),K(e.message||"Failed to refresh blog posts"),setTimeout(()=>K(null),5e3)}finally{J(!1)}},Y=async()=>{if(!el.trim()||!es.trim())return void em("Title and message are required");ec(!0),em(null),eh(null);try{let e=(0,O.getBackendUrl)();if("all"===en){let t=await fetch(`${e}/api/notifications/broadcast`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:ea,title:el,message:es,metadata:{admin:!0,sentBy:L?.username||"admin"}})});if(!t.ok){let e=await t.json().catch(()=>({error:"Failed to send notification"}));throw Error(e.error||"Failed to send notification")}eh("Notification sent to all users successfully!")}else{let t=await fetch(`${e}/api/notifications`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:ea,title:el,message:es,metadata:{admin:!0,sentBy:L?.username||"admin"}})});if(!t.ok){let e=await t.json().catch(()=>({error:"Failed to send notification"}));throw Error(e.error||"Failed to send notification")}eh("Notification sent successfully!")}ei(""),eo("")}catch(e){em(e.message||"Failed to send notification")}finally{ec(!1)}},Z=L?.isAdmin||L?.patreonId===0x36255b0||L?.username==="isharehow"||L?.id==="isharehow"||L?.id==="admin"||L?.username==="admin"||L?.email==="jeliyah@isharehowlabs.com"||L?.username&&"isharehow"===L.username.toLowerCase()||L?.id&&"isharehow"===String(L.id).toLowerCase()||L?.id&&"admin"===String(L.id).toLowerCase(),[ee,et]=(0,r.useState)(0),[ea,er]=(0,r.useState)("admin"),[el,ei]=(0,r.useState)(""),[es,eo]=(0,r.useState)(""),[en,ed]=(0,r.useState)("self"),[eu,ec]=(0,r.useState)(!1),[ep,eh]=(0,r.useState)(null),[ef,em]=(0,r.useState)(null),[eg,ex]=(0,r.useState)([]),[ey,ev]=(0,r.useState)(!1),[eb,ej]=(0,r.useState)(null),[ew,eS]=(0,r.useState)(!1),[eT,eC]=(0,r.useState)(!1),[ek,eP]=(0,r.useState)(null),[eM,eR]=(0,r.useState)(""),[e_,eI]=(0,r.useState)(""),[eB,eA]=(0,r.useState)(!1),[e$,eN]=(0,r.useState)(null);(0,r.useEffect)(()=>{Z&&2===ee&&eO()},[Z,ee]);let eO=async()=>{ev(!0),ej(null);try{let e=(0,O.getBackendUrl)(),t=await fetch(`${e}/api/admin/users`,{credentials:"include"});if(t.ok){let e=await t.json();ex(e.users||[])}else{let e=await t.json().catch(()=>({error:`HTTP ${t.status}`}));ej(e.error||`Failed to load users (${t.status})`)}}catch(e){console.error("Error fetching employees:",e),ej(e.message||"Failed to load users")}finally{ev(!1)}},ez=()=>{eC(!1),eP(null),eR(""),eI(""),eN(null)},eD=async()=>{if(ek){if(!eM||eM.length<6)return void eN("Password must be at least 6 characters");if(eM!==e_)return void eN("Passwords do not match");eA(!0),eN(null);try{let e=(0,O.getBackendUrl)(),t=ek.id||ek.username||ek.user_id,a=encodeURIComponent(t),r=await fetch(`${e}/api/admin/users/${a}/password`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:eM})});if(r.ok)alert(`Password changed successfully for ${ek.name||ek.username||ek.email}`),ez();else{let e=await r.json();eN(e.error||"Failed to change password")}}catch(e){eN(e.message||"Failed to change password")}finally{eA(!1)}}};return(0,a.jsxs)(A.default,{active:"settings",children:[(0,a.jsxs)(l.Box,{sx:{maxWidth:1e3,mx:"auto"},children:[(0,a.jsxs)(o.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:4},children:[(0,a.jsx)(T.default,{sx:{fontSize:40,color:"primary.main"}}),(0,a.jsx)(i.Typography,{variant:"h4",sx:{fontWeight:700,background:"linear-gradient(45deg, #9146FF, #ff6b6b, #4ecdc4)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Settings"})]}),H&&(0,a.jsx)(f.Alert,{severity:"success",sx:{mb:3},onClose:()=>U(!1),children:"Settings have been reset to default values."}),(0,a.jsx)(s.Paper,{elevation:2,sx:{mb:3},children:(0,a.jsxs)(x.Tabs,{value:ee,onChange:(e,t)=>et(t),children:[(0,a.jsx)(y.Tab,{label:"General",icon:(0,a.jsx)(T.default,{}),iconPosition:"start"}),Z&&(0,a.jsx)(y.Tab,{label:"Admin",icon:(0,a.jsx)(M.default,{}),iconPosition:"start"})]})}),0===ee&&(0,a.jsxs)(l.Box,{children:[(0,a.jsxs)(s.Paper,{elevation:2,sx:{p:4,mb:3},children:[(0,a.jsxs)(o.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,a.jsx)(C.default,{color:"primary"}),(0,a.jsx)(i.Typography,{variant:"h6",sx:{fontWeight:600},children:"Dashboard Settings"})]}),(0,a.jsx)(n.Divider,{sx:{mb:3}}),(0,a.jsxs)(o.Stack,{spacing:3,children:[(0,a.jsxs)(p.FormControl,{fullWidth:!0,children:[(0,a.jsx)(h.InputLabel,{children:"Default Tab"}),(0,a.jsxs)(u.Select,{value:e.dashboard.defaultTab,label:"Default Tab",onChange:e=>$({defaultTab:Number(e.target.value)}),children:[(0,a.jsx)(c.MenuItem,{value:0,children:"Streaming"}),(0,a.jsx)(c.MenuItem,{value:1,children:"Designs & Code"}),(0,a.jsx)(c.MenuItem,{value:2,children:"Documents"}),(0,a.jsx)(c.MenuItem,{value:3,children:"Learning Hub"})]})]}),(0,a.jsxs)(p.FormControl,{fullWidth:!0,children:[(0,a.jsx)(h.InputLabel,{children:"Layout Style"}),(0,a.jsxs)(u.Select,{value:e.dashboard.layout,label:"Layout Style",onChange:e=>$({layout:e.target.value}),children:[(0,a.jsx)(c.MenuItem,{value:"grid",children:"Grid"}),(0,a.jsx)(c.MenuItem,{value:"list",children:"List"})]})]})]})]}),(0,a.jsxs)(s.Paper,{elevation:2,sx:{p:3,mb:3},children:[(0,a.jsxs)(o.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[(0,a.jsx)(B.default,{color:"primary"}),(0,a.jsx)(i.Typography,{variant:"h6",sx:{fontWeight:600},children:"Blog Management"})]}),(0,a.jsx)(n.Divider,{sx:{mb:2}}),G&&(0,a.jsx)(f.Alert,{severity:"success",sx:{mb:2},onClose:()=>X(null),children:G}),q&&(0,a.jsx)(f.Alert,{severity:"error",sx:{mb:2},onClose:()=>K(null),children:q}),(0,a.jsxs)(o.Stack,{spacing:2,children:[(0,a.jsxs)(l.Box,{children:[(0,a.jsx)(i.Typography,{variant:"body1",sx:{fontWeight:600,mb:1},children:"Refresh Blog Posts"}),(0,a.jsx)(i.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Manually fetch the latest blog posts from WordPress without rebuilding the site. The refreshed posts will be available immediately on the blog page."}),(0,a.jsx)(d.Button,{variant:"contained",color:"primary",startIcon:V?(0,a.jsx)(S.CircularProgress,{size:20}):(0,a.jsx)(k.default,{}),onClick:Q,disabled:V,children:V?"Refreshing...":"Refresh Blog Posts"})]}),localStorage.getItem("blogPostsLastRefresh")&&(0,a.jsxs)(i.Typography,{variant:"caption",color:"text.secondary",children:["Last refreshed: ",new Date(localStorage.getItem("blogPostsLastRefresh")||"").toLocaleString()]})]})]}),(0,a.jsx)(s.Paper,{elevation:2,sx:{p:3,mb:3},children:(0,a.jsxs)(o.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",children:[(0,a.jsxs)(l.Box,{children:[(0,a.jsx)(i.Typography,{variant:"h6",sx:{fontWeight:600,mb:1},children:"Reset Settings"}),(0,a.jsx)(i.Typography,{variant:"body2",color:"text.secondary",children:"Restore all settings to their default values"})]}),(0,a.jsx)(d.Button,{variant:"outlined",color:"error",startIcon:(0,a.jsx)(P.default,{}),onClick:()=>{F(),U(!0),setTimeout(()=>U(!1),3e3)},children:"Reset to Defaults"})]})})]}),1===ee&&Z&&(0,a.jsx)(l.Box,{children:(0,a.jsxs)(s.Paper,{elevation:3,sx:{p:4,mb:3,border:"2px solid gold"},children:[(0,a.jsxs)(o.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,a.jsx)(R.default,{sx:{color:"gold",fontSize:32}}),(0,a.jsx)(i.Typography,{variant:"h6",sx:{fontWeight:700,color:"gold"},children:"Send Notification"})]}),(0,a.jsx)(n.Divider,{sx:{mb:3,borderColor:"gold"}}),ep&&(0,a.jsx)(f.Alert,{severity:"success",sx:{mb:3},onClose:()=>eh(null),children:ep}),ef&&(0,a.jsx)(f.Alert,{severity:"error",sx:{mb:3},onClose:()=>em(null),children:ef}),(0,a.jsxs)(o.Stack,{spacing:3,children:[(0,a.jsxs)(p.FormControl,{fullWidth:!0,children:[(0,a.jsx)(h.InputLabel,{children:"Notification Type"}),(0,a.jsxs)(u.Select,{value:ea,label:"Notification Type",onChange:e=>er(e.target.value),children:[(0,a.jsx)(c.MenuItem,{value:"admin",children:"Admin"}),(0,a.jsx)(c.MenuItem,{value:"system",children:"System"}),(0,a.jsx)(c.MenuItem,{value:"live-update",children:"Live Update"}),(0,a.jsx)(c.MenuItem,{value:"board",children:"Board"}),(0,a.jsx)(c.MenuItem,{value:"timer",children:"Timer"}),(0,a.jsx)(c.MenuItem,{value:"twitch",children:"Twitch"})]})]}),(0,a.jsxs)(p.FormControl,{fullWidth:!0,children:[(0,a.jsx)(h.InputLabel,{children:"Target"}),(0,a.jsxs)(u.Select,{value:en,label:"Target",onChange:e=>ed(e.target.value),children:[(0,a.jsx)(c.MenuItem,{value:"self",children:"Send to Myself (Test)"}),(0,a.jsx)(c.MenuItem,{value:"all",children:"Send to All Users"})]})]}),(0,a.jsx)(g.TextField,{fullWidth:!0,label:"Title",value:el,onChange:e=>ei(e.target.value),placeholder:"Enter notification title",required:!0}),(0,a.jsx)(g.TextField,{fullWidth:!0,label:"Message",value:es,onChange:e=>eo(e.target.value),placeholder:"Enter notification message",multiline:!0,rows:4,required:!0}),(0,a.jsx)(d.Button,{variant:"contained",color:"primary",size:"large",startIcon:(0,a.jsx)(R.default,{}),onClick:Y,disabled:eu||!el.trim()||!es.trim(),sx:{alignSelf:"flex-start"},children:eu?"Sending...":"Send Notification"})]})]})})]}),(0,a.jsx)(z.default,{open:ew,onClose:()=>eS(!1),currentUser:L,isAdminView:Z}),(0,a.jsxs)(v.Dialog,{open:eT,onClose:ez,maxWidth:"sm",fullWidth:!0,children:[(0,a.jsx)(b.DialogTitle,{children:(0,a.jsxs)(o.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",children:[(0,a.jsxs)(o.Stack,{direction:"row",spacing:1,alignItems:"center",children:[(0,a.jsx)(_.default,{}),(0,a.jsx)(i.Typography,{variant:"h6",children:"Change Password"})]}),(0,a.jsx)(m.IconButton,{onClick:ez,size:"small",children:(0,a.jsx)(I.default,{})})]})}),(0,a.jsxs)(j.DialogContent,{children:[ek&&(0,a.jsxs)(l.Box,{sx:{mb:3},children:[(0,a.jsx)(i.Typography,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Changing password for:"}),(0,a.jsx)(i.Typography,{variant:"body1",fontWeight:600,children:ek.name||ek.username||ek.email}),ek.email&&(0,a.jsx)(i.Typography,{variant:"body2",color:"text.secondary",children:ek.email})]}),e$&&(0,a.jsx)(f.Alert,{severity:"error",sx:{mb:2},onClose:()=>eN(null),children:e$}),(0,a.jsxs)(o.Stack,{spacing:2,sx:{mt:1},children:[(0,a.jsx)(g.TextField,{fullWidth:!0,type:"password",label:"New Password",value:eM,onChange:e=>eR(e.target.value),placeholder:"Enter new password (min 6 characters)",disabled:eB,helperText:"Password must be at least 6 characters long"}),(0,a.jsx)(g.TextField,{fullWidth:!0,type:"password",label:"Confirm Password",value:e_,onChange:e=>eI(e.target.value),placeholder:"Confirm new password",disabled:eB,error:""!==e_&&eM!==e_,helperText:""!==e_&&eM!==e_?"Passwords do not match":""})]})]}),(0,a.jsxs)(w.DialogActions,{children:[(0,a.jsx)(d.Button,{onClick:ez,disabled:eB,children:"Cancel"}),(0,a.jsx)(d.Button,{onClick:eD,variant:"contained",disabled:eB||!eM||!e_||eM!==e_||eM.length<6,startIcon:eB?(0,a.jsx)(S.CircularProgress,{size:20}):(0,a.jsx)(_.default,{}),children:eB?"Changing...":"Change Password"})]})]})]})}e.s(["default",0,function(){return(0,a.jsx)($.default,{children:(0,a.jsx)(E,{})})}])},889419,(e,t,a)=>{let r="/settings";(window.__NEXT_P=window.__NEXT_P||[]).push([r,()=>e.r(907693)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([r])})},609781,e=>{e.v(t=>Promise.all(["static/chunks/77e64bebeb31771c.js"].map(t=>e.l(t))).then(()=>t(94246)))},590413,e=>{e.v(t=>Promise.all(["static/chunks/71fa757b12be6d50.js"].map(t=>e.l(t))).then(()=>t(618636)))}]);