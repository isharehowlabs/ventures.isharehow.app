(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,65393,e=>{"use strict";var t=e.i(58891);function a(e){return t.Children.toArray(e).filter(e=>t.isValidElement(e))}e.s(["default",()=>a])},7356,e=>{"use strict";var t=e.i(54117),a=e.i(20441);function r(e,r){return e=function e(a){let r;if(a.type)return a;if("#"===a.charAt(0)){var o;let t,r;return e((o=(o=a).slice(1),t=RegExp(`.{1,${o.length>=6?2:1}}`,"g"),(r=o.match(t))&&1===r[0].length&&(r=r.map(e=>e+e)),r?`rgb${4===r.length?"a":""}(${r.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", ")})`:""))}let i=a.indexOf("("),l=a.substring(0,i);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(l))throw Error((0,t.default)(9,a));let n=a.substring(i+1,a.length-1);if("color"===l){if(r=(n=n.split(" ")).shift(),4===n.length&&"/"===n[3].charAt(0)&&(n[3]=n[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw Error((0,t.default)(10,r))}else n=n.split(",");return{type:l,values:n=n.map(e=>parseFloat(e)),colorSpace:r}}(e),r=function(e,t=0,r=1){return(0,a.default)(e,t,r)}(r),("rgb"===e.type||"hsl"===e.type)&&(e.type+="a"),"color"===e.type?e.values[3]=`/${r}`:e.values[3]=r,function(e){let{type:t,colorSpace:a}=e,{values:r}=e;return -1!==t.indexOf("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${a} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}(e)}e.s(["alpha",()=>r])},46631,70385,e=>{"use strict";e.i(96335);var t=e.i(80622),a=e.i(84933),r=e.i(58891),o=e.i(81706),i=e.i(15127),l=e.i(65393),n=e.i(95262),s=e.i(96861),d=e.i(18420),c=e.i(51480),u=e.i(13740);function h(e){return(0,u.default)("MuiToggleButtonGroup",e)}let p=(0,c.default)("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),f=r.createContext({}),m=r.createContext(void 0);function g(e){return(0,u.default)("MuiToggleButton",e)}let x=(0,c.default)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]);var v=e.i(44855);let y=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],k=(0,n.default)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[{[`& .${p.grouped}`]:t.grouped},{[`& .${p.grouped}`]:t[`grouped${(0,d.default)(a.orientation)}`]},{[`& .${p.firstButton}`]:t.firstButton},{[`& .${p.lastButton}`]:t.lastButton},{[`& .${p.middleButton}`]:t.middleButton},t.root,"vertical"===a.orientation&&t.vertical,a.fullWidth&&t.fullWidth]}})(({ownerState:e,theme:t})=>(0,a.default)({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"vertical"===e.orientation&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${p.grouped}`]:(0,a.default)({},"horizontal"===e.orientation?{[`&.${p.selected} + .${p.grouped}.${p.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${p.selected} + .${p.grouped}.${p.selected}`]:{borderTop:0,marginTop:0}})},"horizontal"===e.orientation?{[`& .${p.firstButton},& .${p.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${p.lastButton},& .${p.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${p.firstButton},& .${p.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${p.lastButton},& .${p.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},"horizontal"===e.orientation?{[`& .${p.lastButton}.${x.disabled},& .${p.middleButton}.${x.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${p.lastButton}.${x.disabled},& .${p.middleButton}.${x.disabled}`]:{borderTop:"1px solid transparent"}})),b=r.forwardRef(function(e,n){let c=(0,s.useDefaultProps)({props:e,name:"MuiToggleButtonGroup"}),{children:u,className:p,color:g="standard",disabled:x=!1,exclusive:b=!1,fullWidth:j=!1,onChange:C,orientation:w="horizontal",size:B="medium",value:S}=c,T=(0,t.default)(c,y),$=(0,a.default)({},c,{disabled:x,fullWidth:j,orientation:w,size:B}),z=(e=>{let{classes:t,orientation:a,fullWidth:r,disabled:o}=e,l={root:["root","vertical"===a&&"vertical",r&&"fullWidth"],grouped:["grouped",`grouped${(0,d.default)(a)}`,o&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,i.default)(l,h,t)})($),E=r.useCallback((e,t)=>{let a;if(!C)return;let r=S&&S.indexOf(t);S&&r>=0?(a=S.slice()).splice(r,1):a=S?S.concat(t):[t],C(e,a)},[C,S]),F=r.useCallback((e,t)=>{C&&C(e,S===t?null:t)},[C,S]),I=r.useMemo(()=>({className:z.grouped,onChange:b?F:E,value:S,size:B,fullWidth:j,color:g,disabled:x}),[z.grouped,b,F,E,S,B,j,g,x]),P=(0,l.default)(u),R=P.length;return(0,v.jsx)(k,(0,a.default)({role:"group",className:(0,o.default)(z.root,p),ref:n,ownerState:$},T,{children:(0,v.jsx)(f.Provider,{value:I,children:P.map((e,t)=>{let a,r;return(0,v.jsx)(m.Provider,{value:(a=0===t,r=t===R-1,a&&r?"":a?z.firstButton:r?z.lastButton:z.middleButton),children:e},t)})})}))});e.s(["ToggleButtonGroup",0,b],46631);var j=e.i(65776),C=e.i(7356),w=e.i(12396);let B=["value"],S=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],T=(0,n.default)(w.default,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[`size${(0,d.default)(a.size)}`]]}})(({theme:e,ownerState:t})=>{let r,o="standard"===t.color?e.palette.text.primary:e.palette[t.color].main;return e.vars&&(o="standard"===t.color?e.vars.palette.text.primary:e.vars.palette[t.color].main,r="standard"===t.color?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),(0,a.default)({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${x.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,C.alpha)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${x.selected}`]:{color:o,backgroundColor:e.vars?`rgba(${r} / ${e.vars.palette.action.selectedOpacity})`:(0,C.alpha)(o,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${r} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,C.alpha)(o,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${r} / ${e.vars.palette.action.selectedOpacity})`:(0,C.alpha)(o,e.palette.action.selectedOpacity)}}}},"small"===t.size&&{padding:7,fontSize:e.typography.pxToRem(13)},"large"===t.size&&{padding:15,fontSize:e.typography.pxToRem(15)})}),$=r.forwardRef(function(e,l){var n;let c=r.useContext(f),{value:u}=c,h=(0,t.default)(c,B),p=r.useContext(m),x=(0,j.default)((0,a.default)({},h,{selected:(n=e.value,void 0!==u&&void 0!==n&&(Array.isArray(u)?u.indexOf(n)>=0:n===u))}),e),y=(0,s.useDefaultProps)({props:x,name:"MuiToggleButton"}),{children:k,className:b,color:C="standard",disabled:w=!1,disableFocusRipple:$=!1,fullWidth:z=!1,onChange:E,onClick:F,selected:I,size:P="medium",value:R}=y,M=(0,t.default)(y,S),O=(0,a.default)({},y,{color:C,disabled:w,disableFocusRipple:$,fullWidth:z,size:P}),W=(e=>{let{classes:t,fullWidth:a,selected:r,disabled:o,size:l,color:n}=e,s={root:["root",r&&"selected",o&&"disabled",a&&"fullWidth",`size${(0,d.default)(l)}`,n]};return(0,i.default)(s,g,t)})(O);return(0,v.jsx)(T,(0,a.default)({className:(0,o.default)(h.className,W.root,b,p||""),disabled:w,focusRipple:!$,ref:l,onClick:e=>{F&&(F(e,R),e.defaultPrevented)||E&&E(e,R)},onChange:E,value:R,ownerState:O,"aria-pressed":I},M,{children:k}))});e.s(["ToggleButton",0,$],70385)},43892,e=>{"use strict";e.i(96335);var t=e.i(80622),a=e.i(84933),r=e.i(58891),o=e.i(81706),i=e.i(15127),l=e.i(12396),n=e.i(18420),s=e.i(96861),d=e.i(51480),c=e.i(13740);function u(e){return(0,c.default)("MuiFab",e)}let h=(0,d.default)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var p=e.i(95262),f=e.i(32869),m=e.i(44855);let g=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],x=(0,p.default)(l.default,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,f.rootShouldForwardProp)(e)||"classes"===e,overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[a.variant],t[`size${(0,n.default)(a.size)}`],"inherit"===a.color&&t.colorInherit,t[(0,n.default)(a.size)],t[a.color]]}})(({theme:e,ownerState:t})=>{var r,o;return(0,a.default)({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:null==(r=(o=e.palette).getContrastText)?void 0:r.call(o,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${h.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},"small"===t.size&&{width:40,height:40},"medium"===t.size&&{width:48,height:48},"extended"===t.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===t.variant&&"small"===t.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===t.variant&&"medium"===t.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===t.color&&{color:"inherit"})},({theme:e,ownerState:t})=>(0,a.default)({},"inherit"!==t.color&&"default"!==t.color&&null!=(e.vars||e).palette[t.color]&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}}),({theme:e})=>({[`&.${h.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}})),v=r.forwardRef(function(e,r){let l=(0,s.useDefaultProps)({props:e,name:"MuiFab"}),{children:d,className:c,color:h="default",component:p="button",disabled:f=!1,disableFocusRipple:v=!1,focusVisibleClassName:y,size:k="large",variant:b="circular"}=l,j=(0,t.default)(l,g),C=(0,a.default)({},l,{color:h,component:p,disabled:f,disableFocusRipple:v,size:k,variant:b}),w=(e=>{let{color:t,variant:r,classes:o,size:l}=e,s={root:["root",r,`size${(0,n.default)(l)}`,"inherit"===t?"colorInherit":t]},d=(0,i.default)(s,u,o);return(0,a.default)({},o,d)})(C);return(0,m.jsx)(x,(0,a.default)({className:(0,o.default)(w.root,c),component:p,disabled:f,focusRipple:!v,focusVisibleClassName:(0,o.default)(w.focusVisible,y),ownerState:C,ref:r},j,{classes:w,children:d}))});e.s(["Fab",0,v],43892)},37451,e=>{"use strict";e.i(96335);var t=e.i(80622),a=e.i(84933),r=e.i(58891),o=e.i(81706),i=e.i(15127),l=e.i(96163),n=e.i(27446),s=e.i(62731),d=e.i(44855);let c=(0,s.default)((0,d.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),u=(0,s.default)((0,d.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),h=(0,s.default)((0,d.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var p=e.i(18420),f=e.i(96861),m=e.i(95262),g=e.i(32869),x=e.i(51480),v=e.i(13740);function y(e){return(0,v.default)("MuiCheckbox",e)}let k=(0,x.default)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),b=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],j=(0,m.default)(n.default,{shouldForwardProp:e=>(0,g.rootShouldForwardProp)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.indeterminate&&t.indeterminate,t[`size${(0,p.default)(a.size)}`],"default"!==a.color&&t[`color${(0,p.default)(a.color)}`]]}})(({theme:e,ownerState:t})=>(0,a.default)({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${"default"===t.color?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,l.alpha)("default"===t.color?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{[`&.${k.checked}, &.${k.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${k.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),C=(0,d.jsx)(u,{}),w=(0,d.jsx)(c,{}),B=(0,d.jsx)(h,{}),S=r.forwardRef(function(e,l){var n,s;let c=(0,f.useDefaultProps)({props:e,name:"MuiCheckbox"}),{checkedIcon:u=C,color:h="primary",icon:m=w,indeterminate:g=!1,indeterminateIcon:x=B,inputProps:v,size:k="medium",className:S}=c,T=(0,t.default)(c,b),$=g?x:m,z=g?x:u,E=(0,a.default)({},c,{color:h,indeterminate:g,size:k}),F=(e=>{let{classes:t,indeterminate:r,color:o,size:l}=e,n={root:["root",r&&"indeterminate",`color${(0,p.default)(o)}`,`size${(0,p.default)(l)}`]},s=(0,i.default)(n,y,t);return(0,a.default)({},t,s)})(E);return(0,d.jsx)(j,(0,a.default)({type:"checkbox",inputProps:(0,a.default)({"data-indeterminate":g},v),icon:r.cloneElement($,{fontSize:null!=(n=$.props.fontSize)?n:k}),checkedIcon:r.cloneElement(z,{fontSize:null!=(s=z.props.fontSize)?s:k}),ownerState:E,ref:l,className:(0,o.default)(F.root,S)},T,{classes:F}))});e.s(["Checkbox",0,S],37451)},25972,(e,t,a)=>{"use strict";var r=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r(e.r(64800)),i=e.r(44855);a.default=(0,o.default)((0,i.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"}),"Code")},94556,(e,t,a)=>{"use strict";var r=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r(e.r(64800)),i=e.r(44855);a.default=(0,o.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonUnchecked")},20012,(e,t,a)=>{"use strict";var r=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r(e.r(64800)),i=e.r(44855);a.default=(0,o.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M9.5 16.5v-9l7 4.5z"}),"PlayCircle")},27367,(e,t,a)=>{"use strict";var r=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r(e.r(64800)),i=e.r(44855);a.default=(0,o.default)((0,i.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite")},16875,(e,t,a)=>{"use strict";var r=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r(e.r(64800)),i=e.r(44855);a.default=(0,o.default)((0,i.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark")},27325,(e,t,a)=>{"use strict";var r=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r(e.r(64800)),i=e.r(44855);a.default=(0,o.default)((0,i.jsx)("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"}),"PersonOutline")},26482,e=>{"use strict";var t=e.i(58891),a=e.i(13654);function r(){let[e,r]=(0,t.useState)([]),[o,i]=(0,t.useState)([]),[l,n]=(0,t.useState)([]),[s,d]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[h,p]=(0,t.useState)([]),[f,m]=(0,t.useState)({}),[g,x]=(0,t.useState)(!1),[v,y]=(0,t.useState)(null);return{files:e,components:o,tokens:l,likedComponents:s,savedComponents:c,draftedComponents:h,componentStatuses:f,isLoading:g,error:v,fetchFiles:async()=>{try{x(!0),y(null);let e=(0,a.getBackendUrl)(),t=await (0,a.fetchWithErrorHandling)(`${e}/api/figma/files`,{method:"GET"}),o=await t.json();r(o.projects||[])}catch(e){y(e.message),console.error("Error fetching Figma files:",e)}finally{x(!1)}},fetchFile:async e=>{if(!e||"string"!=typeof e||""===e.trim()||"undefined"===e||"null"===e){let e=Error("Invalid file ID: file ID is required and must be a valid string");throw y(e.message),e}let t=e.trim();try{x(!0),y(null);let e=(0,a.getBackendUrl)(),r=await (0,a.fetchWithErrorHandling)(`${e}/api/figma/file/${t}`,{method:"GET"});return(await r.json()).file}catch(e){throw y(e?.message||"Failed to fetch Figma file"),e}finally{x(!1)}},fetchComponents:async e=>{if(!e||"string"!=typeof e||""===e.trim()||"undefined"===e||"null"===e){let e=Error("Invalid file ID: file ID is required and must be a valid string");throw y(e.message),e}let t=e.trim();try{x(!0),y(null);let e=(0,a.getBackendUrl)(),r=await (0,a.fetchWithErrorHandling)(`${e}/api/figma/file/${t}/components`,{method:"GET"}),o=await r.json();return i(o.components||[]),o.components}catch(e){throw y(e?.message||"Failed to fetch Figma components"),e}finally{x(!1)}},fetchTokens:async e=>{if(!e||"string"!=typeof e||""===e.trim()||"undefined"===e||"null"===e){let e=Error("Invalid file ID: file ID is required and must be a valid string");throw y(e.message),e}let t=e.trim();try{x(!0),y(null);let e=(0,a.getBackendUrl)(),r=await (0,a.fetchWithErrorHandling)(`${e}/api/figma/file/${t}/tokens`,{method:"GET"}),o=await r.json();return n(o.tokens||[]),o.tokens}catch(e){throw y(e?.message||"Failed to fetch Figma tokens"),e}finally{x(!1)}},likeComponent:async(e,t=!0,r)=>{try{x(!0),y(null);let o=(0,a.getBackendUrl)(),i=await (0,a.fetchWithErrorHandling)(`${o}/api/figma/component/like`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({componentId:e,liked:t,fileId:r})}),l=await i.json();return l.success&&(m(a=>({...a,[e]:{...a[e],liked:t}})),t?d(t=>t.includes(e)?t:[...t,e]):d(t=>t.filter(t=>t!==e))),l}catch(e){throw y(e?.message||"Failed to like component"),e}finally{x(!1)}},saveComponent:async(e,t=!0,r)=>{try{x(!0),y(null);let o=(0,a.getBackendUrl)(),i=await (0,a.fetchWithErrorHandling)(`${o}/api/figma/component/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({componentId:e,saved:t,fileId:r})}),l=await i.json();return l.success&&(m(a=>({...a,[e]:{...a[e],saved:t}})),t?u(t=>t.includes(e)?t:[...t,e]):u(t=>t.filter(t=>t!==e))),l}catch(e){throw y(e?.message||"Failed to save component"),e}finally{x(!1)}},draftComponent:async(e,t=!0,r)=>{try{x(!0),y(null);let o=(0,a.getBackendUrl)(),i=await (0,a.fetchWithErrorHandling)(`${o}/api/figma/component/draft`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({componentId:e,drafted:t,draftData:r})}),l=await i.json();return l.success&&(m(a=>({...a,[e]:{...a[e],drafted:t}})),t?p(t=>t.includes(e)?t:[...t,e]):p(t=>t.filter(t=>t!==e))),l}catch(e){throw y(e?.message||"Failed to draft component"),e}finally{x(!1)}},fetchLikedComponents:async()=>{try{x(!0),y(null);let e=(0,a.getBackendUrl)(),t=await (0,a.fetchWithErrorHandling)(`${e}/api/figma/components/liked`,{method:"GET"}),r=await t.json();return d(r.componentIds||[]),r.componentIds||[]}catch(e){throw y(e?.message||"Failed to fetch liked components"),e}finally{x(!1)}},fetchSavedComponents:async()=>{try{x(!0),y(null);let e=(0,a.getBackendUrl)(),t=await (0,a.fetchWithErrorHandling)(`${e}/api/figma/components/saved`,{method:"GET"}),r=await t.json();return u(r.componentIds||[]),r.componentIds||[]}catch(e){throw y(e?.message||"Failed to fetch saved components"),e}finally{x(!1)}},fetchDraftedComponents:async()=>{try{x(!0),y(null);let e=(0,a.getBackendUrl)(),t=await (0,a.fetchWithErrorHandling)(`${e}/api/figma/components/drafted`,{method:"GET"}),r=await t.json();return p(r.componentIds||[]),r.componentIds||[]}catch(e){throw y(e?.message||"Failed to fetch drafted components"),e}finally{x(!1)}},fetchComponentStatus:async e=>{try{let t=(0,a.getBackendUrl)(),r=await (0,a.fetchWithErrorHandling)(`${t}/api/figma/component/${e}/status`,{method:"GET"}),o=await r.json();return m(t=>({...t,[e]:{liked:o.liked||!1,saved:o.saved||!1,drafted:o.drafted||!1}})),o}catch(e){return console.error("Error fetching component status:",e),{liked:!1,saved:!1,drafted:!1}}},fetchComponentPreferences:async e=>{try{x(!0),y(null);let t=(0,a.getBackendUrl)(),r=e?JSON.stringify({componentIds:e}):void 0,o=await (0,a.fetchWithErrorHandling)(`${t}/api/figma/components/preferences`,{method:e?"POST":"GET",headers:e?{"Content-Type":"application/json"}:void 0,body:r}),i=await o.json();if(i.preferences){m(e=>{let t={...e};return Object.entries(i.preferences).forEach(([e,a])=>{t[e]={liked:a.liked||!1,saved:a.saved||!1,drafted:a.drafted||!1}}),t});let e=Object.entries(i.preferences).filter(([e,t])=>t.liked).map(([e])=>e),t=Object.entries(i.preferences).filter(([e,t])=>t.saved).map(([e])=>e),a=Object.entries(i.preferences).filter(([e,t])=>t.drafted).map(([e])=>e);d(e),u(t),p(a)}return i}catch(e){throw y(e?.message||"Failed to fetch component preferences"),e}finally{x(!1)}}}}e.s(["useFigma",()=>r])},38568,e=>{"use strict";var t=e.i(58891),a=e.i(13654);function r(){let[e,r]=(0,t.useState)([]),[o,i]=(0,t.useState)([]),[l,n]=(0,t.useState)(!1),[s,d]=(0,t.useState)(null),c=async e=>{try{n(!0),d(null);let t=(0,a.getBackendUrl)(),o=new URL(`${t}/api/mcp/code-links`);e&&o.searchParams.append("figmaFileId",e);let i=await fetch(o.toString(),{credentials:"include"});if(!i.ok)throw Error("Failed to fetch code links");let l=await i.json();r(l.links||[])}catch(e){d(e.message)}finally{n(!1)}},u=async()=>{try{n(!0),d(null);let e=(0,a.getBackendUrl)(),t=await fetch(`${e}/api/mcp/tokens`,{credentials:"include"});if(!t.ok)throw Error("Failed to fetch tokens");let r=await t.json();i(r.tokens||[])}catch(e){d(e.message)}finally{n(!1)}};return{links:e,tokens:o,isLoading:l,error:s,linkComponentToCode:async(e,t,r,o)=>{try{n(!0),d(null);let i=(0,a.getBackendUrl)(),l=await fetch(`${i}/api/mcp/figma-to-code`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({figmaComponentId:e,codeFilePath:t,codeComponentName:r,figmaFileId:o})});if(!l.ok)throw Error("Failed to link component");let s=await l.json();return await c(),s}catch(e){throw d(e.message),e}finally{n(!1)}},fetchCodeLinks:c,syncTokens:async e=>{try{n(!0),d(null);let t=(0,a.getBackendUrl)(),r=await fetch(`${t}/api/mcp/sync-tokens`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({tokens:e})});if(!r.ok)throw Error("Failed to sync tokens");let o=await r.json();return await u(),o}catch(e){throw d(e.message),e}finally{n(!1)}},fetchTokens:u,generateCode:async(e,t)=>{try{n(!0),d(null);let r=(0,a.getBackendUrl)(),o=await fetch(`${r}/api/mcp/generate-code`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({componentId:e,language:t})});if(!o.ok)throw Error("Failed to generate code");return await o.json()}catch(e){throw d(e.message),e}finally{n(!1)}}}}e.s(["useMCP",()=>r])},27245,e=>{"use strict";var t=e.i(44855),a=e.i(58891),r=e.i(74614),o=e.i(65790),i=e.i(54704),l=e.i(15915),n=e.i(92378),s=e.i(86012),d=e.i(75557),c=e.i(98807),u=e.i(1051),h=e.i(33948),p=e.i(18295),f=e.i(92279),m=e.i(47379),g=e.i(83161),x=e.i(47617),v=e.i(39972),y=e.i(20161),k=e.i(9109),b=e.i(37025),j=e.i(45162),C=e.i(3430),w=e.i(46631),B=e.i(70385),S=e.i(37451),T=e.i(34699),$=e.i(25972),z=e.i(95532),E=e.i(94544);e.i(72695),e.i(94556),e.i(20012);var F=e.i(99700),I=e.i(27367),P=e.i(16875),R=e.i(24918),M=e.i(28810),O=e.i(27325),W=e.i(13654),D=e.i(75016),A=e.i(9929),L=e.i(15254);let H=null,_=null;try{let t=e.r(26482);H=t.useFigma||t.default?.useFigma}catch(e){console.warn("Figma hook not available:",e)}try{let t=e.r(38568);_=t.useMCP||t.default?.useMCP}catch(e){console.warn("MCP hook not available:",e)}function N(){let{user:e}=(0,L.useAuth)(),{tasks:N,createTask:U,updateTask:G,deleteTask:q,isLoading:V,error:J,authRequired:K,refresh:Q,isStale:X}=function(){let[e,t]=(0,a.useState)([]),[r,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(null),[n,s]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),[p,f]=(0,a.useState)(null),m=(0,a.useRef)(null),g=(0,a.useCallback)(async()=>{try{o(!0),l(null),s(!1);let e=(0,W.getTasksBackendUrl)(),a=await (0,W.fetchWithErrorHandling)(`${e}/api/tasks`,{method:"GET"});if(401===a.status){s(!0),l("Authentication required"),t([]);return}let r=await a.json(),i=new Date;t(r.tasks||[]),h(i),m.current=i,c(!1)}catch(e){e?.status===401||e?.message?.includes("Authentication required")?(s(!0),l("Authentication required"),t([])):(l(e?.message||"Failed to fetch tasks"),console.error("Error fetching tasks:",e))}finally{o(!1)}},[]),x=(0,a.useCallback)(()=>g(),[g]),v=async(e,a,i,n,d,c)=>{if(r)return void console.warn("Task creation already in progress, ignoring duplicate call");try{o(!0),l(null),s(!1);let r=(0,W.getTasksBackendUrl)();console.log("Creating task at:",`${r}/api/tasks`,{title:e,description:a,hyperlinks:i,status:n});let u=await (0,W.fetchWithErrorHandling)(`${r}/api/tasks`,{method:"POST",body:JSON.stringify({title:e,description:a,hyperlinks:i,status:n,assignedTo:d,assignedToName:c})});if(401===u.status)throw s(!0),Error("Authentication required");if(!u.ok){let e=await u.json().catch(()=>({error:"Unknown error"}));throw Error(e.error||e.message||`Server error: ${u.status}`)}let p=(await u.json()).task;if(!p)throw Error("Server did not return a task");console.log("Task created, adding to state:",p);let f=new Date;return t(e=>e.some(e=>e.id===p.id)?e.map(e=>e.id===p.id?p:e):[...e,p]),h(f),m.current=f,p}catch(e){throw console.error("Error in createTask:",e),(e?.status===401||e?.message?.includes("Authentication required"))&&s(!0),l(e.message),e}finally{o(!1)}},y=async(e,a)=>{try{o(!0),l(null),s(!1);let r=(0,W.getTasksBackendUrl)(),i=await (0,W.fetchWithErrorHandling)(`${r}/api/tasks/${e}`,{method:"PUT",body:JSON.stringify(a)});if(401===i.status)throw s(!0),Error("Authentication required");let n=(await i.json()).task,d=new Date;return t(e=>e.map(e=>e.id===n.id?n:e)),h(d),m.current=d,n}catch(e){throw(e?.status===401||e?.message?.includes("Authentication required"))&&s(!0),l(e.message),e}finally{o(!1)}},k=async e=>{try{o(!0),l(null),s(!1);let t=(0,W.getTasksBackendUrl)(),a=await (0,W.fetchWithErrorHandling)(`${t}/api/tasks/${e}`,{method:"DELETE"});if(401===a.status)throw s(!0),Error("Authentication required")}catch(e){throw(e?.status===401||e?.message?.includes("Authentication required"))&&s(!0),l(e.message),e}finally{o(!1)}};return(0,a.useEffect)(()=>{let e=!0;g();let a=(0,D.getTasksSocket)();f(a);let r=()=>{console.log("Socket.io connected for tasks")},o=e=>{console.warn("Socket.io connection error (tasks):",{message:e.message})},i=e=>{console.log("Socket.io disconnected (tasks):",e)};a.on("connect",r),a.on("connect_error",o),a.on("disconnect",i),a.on("task_created",a=>{if(!e)return;let r=new Date;t(e=>e.some(e=>e.id===a.id)?e.map(e=>e.id===a.id?a:e):[...e,a]),h(r),m.current=r}),a.on("task_updated",a=>{if(!e)return;let r=new Date;t(e=>e.map(e=>e.id===a.id?a:e)),h(r),m.current=r}),a.on("task_deleted",a=>{if(!e)return;let r=new Date;t(e=>e.filter(e=>e.id!==a.id)),h(r),m.current=r}),a.on("task_assigned",a=>{if(!e)return;console.log("Task assigned notification:",a);let r=new Date;t(e=>e.map(e=>e.id===a.task.id?a.task:e)),h(r),m.current=r}),a.on("auth_restored_ack",()=>{e&&(s(!1),g())});let l=setInterval(()=>{if(!e)return;let t=m.current;t&&Date.now()-t.getTime()>3e5&&c(!0)},6e4);return()=>{e=!1,a.off("connect",r),a.off("connect_error",o),a.off("disconnect",i),a.off("task_created"),a.off("task_updated"),a.off("task_deleted"),a.off("task_assigned"),a.off("auth_restored_ack"),clearInterval(l)}},[g]),{tasks:e,isLoading:r,error:i,authRequired:n,isStale:d,lastUpdated:u,refresh:x,fetchTasks:g,createTask:v,updateTask:y,deleteTask:k}}(),Y=null,Z=null;try{H&&(Y=H())}catch(e){console.warn("Figma hook not available:",e)}try{_&&(Z=_())}catch(e){console.warn("MCP hook not available:",e)}let ee=Y?.files||[],et=Y?.components||[];Y?.tokens;let ea=Y?.componentStatuses||{};Y?.isLoading;let er=Y?.error||null,eo=Y?.fetchFiles||(()=>Promise.resolve()),ei=Y?.fetchComponents||(()=>Promise.resolve()),el=Y?.likeComponent||(()=>Promise.resolve()),en=Y?.saveComponent||(()=>Promise.resolve()),es=Y?.fetchLikedComponents||(()=>Promise.resolve()),ed=Y?.fetchSavedComponents||(()=>Promise.resolve()),ec=Y?.fetchDraftedComponents||(()=>Promise.resolve()),eu=Y?.fetchComponentStatus||(()=>Promise.resolve());Z?.links,Z?.tokens;let eh=Z?.linkComponentToCode||(()=>Promise.resolve()),ep=Z?.fetchCodeLinks||(()=>Promise.resolve()),ef=Z?.fetchTokens||(()=>Promise.resolve()),[em,eg]=(0,a.useState)(""),[ex,ev]=(0,a.useState)(!1),[ey,ek]=(0,a.useState)("create"),[eb,ej]=(0,a.useState)(null),[eC,ew]=(0,a.useState)(""),[eB,eS]=(0,a.useState)(""),[eT,e$]=(0,a.useState)(""),[ez,eE]=(0,a.useState)("pending"),[eF,eI]=(0,a.useState)(""),[eP,eR]=(0,a.useState)(localStorage.getItem("taskFilter")||"all"),[eM,eO]=(0,a.useState)([]),[eW,eD]=(0,a.useState)(!1),[eA,eL]=(0,a.useState)(null),[eH,e_]=(0,a.useState)(!1),[eN,eU]=(0,a.useState)(""),[eG,eq]=(0,a.useState)(""),[eV,eJ]=(0,a.useState)(""),[eK,eQ]=(0,a.useState)(!1),eX=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=localStorage.getItem("workspace_markdown");e&&eg(e)},[]),(0,a.useEffect)(()=>{""!==em&&localStorage.setItem("workspace_markdown",em)},[em]),(0,a.useEffect)(()=>{(async()=>{if(e&&(e.isEmployee||e.isAdmin)){eD(!0);try{let e=(0,W.getBackendUrl)(),t=await fetch(`${e}/api/creative/support-requests`,{credentials:"include"});if(t.ok){let e=await t.json();eO(e.requests||[])}}catch(e){console.error("Error fetching support requests:",e)}finally{eD(!1)}}})()},[e]),(0,a.useEffect)(()=>{H&&_&&(async()=>{try{await Promise.all([eo(),ep(),ef(),es(),ed(),ec()])}catch(e){console.error("Error loading Figma data:",e)}})()},[]),(0,a.useEffect)(()=>{eA&&H&&(eQ(!0),ei(eA).then(()=>{et.length>0&&Promise.all(et.map(e=>eu(e.key,eA)))}).catch(e=>console.error("Error fetching components:",e)).finally(()=>eQ(!1)))},[eA]);let eY=N.filter(t=>"my-tasks"===eP?t.assignedTo===e?.id:"created-by-me"!==eP||t.createdBy===e?.id),eZ=N.filter(t=>t.assignedTo===e?.id).length,e0=N.filter(t=>t.createdBy===e?.id).length,e1=async t=>{let a=N.find(e=>e.id===t);if(!a)return;let r="completed"===a.status?"pending":"completed";try{await G(t,{status:r}),"completed"===r&&(0,A.trackTaskCompleted)(t,e?.userRole||"user","cowork")}catch(e){console.error("Error toggling task:",e)}},e2=async()=>{if(eC.trim())try{let t=eT.split(",").map(e=>e.trim()).filter(e=>e);if("create"===ey){let e=await U(eC.trim(),eB.trim(),t,ez);eF&&e?.id&&await G(e.id,{supportRequestId:eF})}else eb&&(await G(eb,{title:eC.trim(),description:eB.trim(),hyperlinks:t,status:ez,supportRequestId:eF||void 0}),"completed"===ez&&(0,A.trackTaskCompleted)(eb,e?.userRole||"user","cowork"));ev(!1)}catch(e){console.error("Error saving task:",e)}},e4=async e=>{try{await q(e)}catch(e){console.error("Error deleting task:",e)}},e5=async(e,t)=>{t.stopPropagation();let a=ea[e]?.liked||!1;try{await el(e,!a,eA||void 0)}catch(e){console.error("Error liking component:",e)}},e6=async(e,t)=>{t.stopPropagation();let a=ea[e]?.saved||!1;try{await en(e,!a,eA||void 0)}catch(e){console.error("Error saving component:",e)}},e8=async()=>{if(eN&&eG)try{await eh(eN,eG,eV,eA||""),e_(!1),ep()}catch(e){console.error("Error linking component:",e)}};return(0,t.jsxs)(r.Box,{sx:{width:"100%"},children:[(0,t.jsxs)(i.Grid,{container:!0,spacing:3,children:[(0,t.jsx)(i.Grid,{item:!0,xs:12,lg:6,children:(0,t.jsxs)(o.Paper,{elevation:2,sx:{p:3,height:500},children:[(0,t.jsxs)(r.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,t.jsx)(l.Typography,{variant:"h5",fontWeight:700,children:"Collaborative Notes"}),(0,t.jsxs)(r.Box,{sx:{display:"flex",gap:1},children:[(0,t.jsx)(c.Tooltip,{title:"Copy all",children:(0,t.jsx)(s.IconButton,{onClick:()=>{eX.current?(eX.current.select(),document.execCommand("copy")):navigator.clipboard.writeText(em)},size:"small",children:(0,t.jsx)($.default,{})})}),(0,t.jsx)(d.Button,{variant:"outlined",size:"small",onClick:()=>{eg(""),localStorage.removeItem("workspace_markdown")},children:"Clear"})]})]}),(0,t.jsx)(n.TextField,{fullWidth:!0,multiline:!0,rows:15,variant:"outlined",placeholder:"Write your collaborative notes here...",value:em,onChange:e=>eg(e.target.value),inputRef:eX,sx:{"& .MuiInputBase-root":{height:"100%",alignItems:"flex-start"}}})]})}),(0,t.jsx)(i.Grid,{item:!0,xs:12,lg:6,children:(0,t.jsxs)(o.Paper,{elevation:2,sx:{p:3,height:500,display:"flex",flexDirection:"column"},children:[(0,t.jsxs)(r.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,t.jsx)(l.Typography,{variant:"h5",fontWeight:700,children:"Tasks"}),(0,t.jsxs)(r.Box,{sx:{display:"flex",gap:1},children:[(0,t.jsx)(c.Tooltip,{title:"Refresh",children:(0,t.jsx)(s.IconButton,{onClick:Q,size:"small",children:(0,t.jsx)(R.default,{})})}),(0,t.jsx)(d.Button,{variant:"contained",startIcon:(0,t.jsx)(T.default,{}),onClick:()=>{ek("create"),ej(null),ew(""),eS(""),e$(""),eE("pending"),eI(""),ev(!0)},size:"small",children:"Add Task"})]})]}),J&&(0,t.jsx)(k.Alert,{severity:"error",sx:{mb:2},children:J}),X&&(0,t.jsx)(k.Alert,{severity:"info",sx:{mb:2},action:(0,t.jsx)(d.Button,{size:"small",onClick:Q,children:"Refresh"}),children:"Tasks may be out of date"}),(0,t.jsxs)(r.Box,{sx:{flexGrow:1,overflow:"auto"},children:[(0,t.jsx)(r.Box,{sx:{mb:2,display:"flex",justifyContent:"center"},children:(0,t.jsxs)(w.ToggleButtonGroup,{value:eP,exclusive:!0,onChange:(e,t)=>{null!==t&&(eR(t),localStorage.setItem("taskFilter",t))},size:"small","aria-label":"task filter",children:[(0,t.jsxs)(B.ToggleButton,{value:"all","aria-label":"all tasks",children:["All Tasks (",N.length,")"]}),(0,t.jsxs)(B.ToggleButton,{value:"my-tasks","aria-label":"my tasks",children:["My Tasks (",eZ,")"]}),(0,t.jsxs)(B.ToggleButton,{value:"created-by-me","aria-label":"created by me",children:["Created by Me (",e0,")"]})]})}),eY.map(e=>(0,t.jsx)(j.Card,{sx:{mb:2},elevation:1,children:(0,t.jsx)(C.CardContent,{sx:{py:1.5,"&:last-child":{pb:1.5}},children:(0,t.jsxs)(r.Box,{sx:{display:"flex",alignItems:"flex-start",gap:1},children:[(0,t.jsx)(S.Checkbox,{checked:"completed"===e.status,onChange:()=>e1(e.id),disabled:V,size:"small"}),(0,t.jsxs)(r.Box,{sx:{flexGrow:1,minWidth:0},children:[(0,t.jsx)(l.Typography,{variant:"subtitle1",fontWeight:500,sx:{textDecoration:"completed"===e.status?"line-through":"none"},children:e.title}),e.description&&(0,t.jsx)(l.Typography,{variant:"body2",color:"text.secondary",noWrap:!0,children:e.description}),(0,t.jsxs)(r.Box,{sx:{display:"flex",gap:.5,mt:.5,flexWrap:"wrap"},children:[(0,t.jsx)(u.Chip,{label:e.status,size:"small",color:(e=>{switch(e){case"completed":return"success";case"in-progress":return"warning";default:return"default"}})(e.status)}),e.hyperlinks&&e.hyperlinks.length>0&&(0,t.jsx)(u.Chip,{icon:(0,t.jsx)(F.default,{}),label:`${e.hyperlinks.length}`,size:"small",variant:"outlined"}),e.createdByName&&(0,t.jsx)(u.Chip,{icon:(0,t.jsx)(O.default,{}),label:`By: ${e.createdByName}`,size:"small",variant:"outlined",sx:{fontSize:"0.7rem"}}),e.assignedToName?(0,t.jsx)(u.Chip,{icon:(0,t.jsx)(M.default,{}),label:`â†’ ${e.assignedToName}`,size:"small",color:"primary",variant:"outlined",sx:{fontSize:"0.7rem"}}):void 0===e.assignedTo&&(0,t.jsx)(u.Chip,{label:"Unassigned",size:"small",variant:"outlined",sx:{fontSize:"0.7rem",opacity:.6}})]})]}),(0,t.jsxs)(r.Box,{sx:{display:"flex",gap:.5},children:[(0,t.jsx)(s.IconButton,{size:"small",onClick:()=>{ek("edit"),ej(e.id),ew(e.title),eS(e.description||""),e$(e.hyperlinks.join(", ")),eE(e.status),eI(e.supportRequestId||""),ev(!0)},children:(0,t.jsx)(z.default,{fontSize:"small"})}),(0,t.jsx)(s.IconButton,{size:"small",onClick:()=>e4(e.id),children:(0,t.jsx)(E.default,{fontSize:"small"})})]})]})})},e.id)),0===N.length&&!V&&(0,t.jsx)(r.Box,{sx:{textAlign:"center",py:4},children:(0,t.jsx)(l.Typography,{variant:"body2",color:"text.secondary",children:"No tasks yet. Add your first task to get started!"})}),V&&(0,t.jsx)(r.Box,{sx:{textAlign:"center",py:4},children:(0,t.jsx)(b.CircularProgress,{size:24})})]})]})}),(0,t.jsx)(i.Grid,{item:!0,xs:12,children:(0,t.jsxs)(o.Paper,{elevation:2,sx:{p:3,height:500,display:"flex",flexDirection:"column"},children:[(0,t.jsxs)(r.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,t.jsx)(l.Typography,{variant:"h5",fontWeight:700,children:"Design & Figma"}),(0,t.jsxs)(r.Box,{sx:{display:"flex",gap:1},children:[(0,t.jsx)(c.Tooltip,{title:"Refresh",children:(0,t.jsx)(s.IconButton,{onClick:()=>{eA?ei(eA):eo()},size:"small",children:(0,t.jsx)(R.default,{})})}),(0,t.jsx)(d.Button,{variant:"outlined",size:"small",onClick:()=>e_(!0),disabled:!eA||0===et.length,children:"Link to Code"})]})]}),H&&_?(0,t.jsxs)(r.Box,{sx:{flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[er&&(0,t.jsx)(k.Alert,{severity:"error",sx:{mb:2},children:er}),(0,t.jsx)(r.Box,{sx:{mb:2},children:(0,t.jsxs)(g.FormControl,{fullWidth:!0,size:"small",children:[(0,t.jsx)(x.InputLabel,{children:"Select Figma File"}),(0,t.jsxs)(v.Select,{value:eA||"",label:"Select Figma File",onChange:e=>eL(e.target.value),children:[(0,t.jsx)(y.MenuItem,{value:"",children:"-- Select a file --"}),ee.map(e=>(0,t.jsx)(y.MenuItem,{value:e.key,children:e.name},e.key))]})]})}),eA&&(0,t.jsx)(r.Box,{sx:{flexGrow:1,overflow:"auto"},children:eK?(0,t.jsxs)(r.Box,{sx:{textAlign:"center",py:4},children:[(0,t.jsx)(b.CircularProgress,{size:24}),(0,t.jsx)(l.Typography,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Loading components..."})]}):(0,t.jsxs)(i.Grid,{container:!0,spacing:2,children:[et.map(e=>(0,t.jsx)(i.Grid,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,t.jsx)(j.Card,{elevation:1,children:(0,t.jsxs)(C.CardContent,{sx:{py:1.5,"&:last-child":{pb:1.5}},children:[(0,t.jsx)(l.Typography,{variant:"subtitle2",noWrap:!0,fontWeight:500,children:e.name}),(0,t.jsxs)(r.Box,{sx:{display:"flex",gap:.5,mt:1},children:[(0,t.jsx)(s.IconButton,{size:"small",onClick:t=>e5(e.key,t),color:ea[e.key]?.liked?"error":"default",children:(0,t.jsx)(I.default,{fontSize:"small"})}),(0,t.jsx)(s.IconButton,{size:"small",onClick:t=>e6(e.key,t),color:ea[e.key]?.saved?"primary":"default",children:(0,t.jsx)(P.default,{fontSize:"small"})})]})]})})},e.key)),0===et.length&&(0,t.jsx)(i.Grid,{item:!0,xs:12,children:(0,t.jsx)(l.Typography,{variant:"body2",color:"text.secondary",textAlign:"center",py:4,children:"No components found in this file."})})]})}),!eA&&(0,t.jsx)(r.Box,{sx:{textAlign:"center",py:4},children:(0,t.jsx)(l.Typography,{variant:"body2",color:"text.secondary",children:"Select a Figma file to view components"})})]}):(0,t.jsx)(k.Alert,{severity:"info",children:"Figma integration not available. Check your configuration."})]})})]}),(0,t.jsxs)(h.Dialog,{open:ex,onClose:()=>ev(!1),maxWidth:"sm",fullWidth:!0,children:[(0,t.jsx)(p.DialogTitle,{children:"create"===ey?"Add Task":"Edit Task"}),(0,t.jsxs)(f.DialogContent,{children:[(0,t.jsx)(n.TextField,{autoFocus:!0,margin:"dense",label:"Title",fullWidth:!0,variant:"outlined",value:eC,onChange:e=>ew(e.target.value),sx:{mb:2,mt:1}}),(0,t.jsx)(n.TextField,{margin:"dense",label:"Description",fullWidth:!0,variant:"outlined",multiline:!0,rows:3,value:eB,onChange:e=>eS(e.target.value),sx:{mb:2}}),(0,t.jsx)(n.TextField,{margin:"dense",label:"Hyperlinks (comma-separated)",fullWidth:!0,variant:"outlined",value:eT,onChange:e=>e$(e.target.value),placeholder:"https://example.com, https://another.com",sx:{mb:2}}),eW?(0,t.jsx)(b.CircularProgress,{size:24}):eM.length>0&&(0,t.jsxs)(g.FormControl,{fullWidth:!0,margin:"dense",sx:{mb:2},children:[(0,t.jsx)(x.InputLabel,{children:"Link to Support Request (Optional)"}),(0,t.jsxs)(v.Select,{value:eF,label:"Link to Support Request (Optional)",onChange:e=>eI(e.target.value),children:[(0,t.jsx)(y.MenuItem,{value:"",children:"None"}),eM.map(e=>(0,t.jsxs)(y.MenuItem,{value:e.id,children:[e.subject," (",e.status,")"]},e.id))]})]}),(0,t.jsxs)(g.FormControl,{fullWidth:!0,margin:"dense",children:[(0,t.jsx)(x.InputLabel,{children:"Status"}),(0,t.jsxs)(v.Select,{value:ez,label:"Status",onChange:e=>eE(e.target.value),children:[(0,t.jsx)(y.MenuItem,{value:"pending",children:"Pending"}),(0,t.jsx)(y.MenuItem,{value:"in-progress",children:"In Progress"}),(0,t.jsx)(y.MenuItem,{value:"completed",children:"Completed"})]})]})]}),(0,t.jsxs)(m.DialogActions,{children:[(0,t.jsx)(d.Button,{onClick:()=>ev(!1),children:"Cancel"}),(0,t.jsx)(d.Button,{onClick:e2,variant:"contained",disabled:!eC.trim()||V||K,children:"create"===ey?"Add":"Save"})]})]}),(0,t.jsxs)(h.Dialog,{open:eH,onClose:()=>e_(!1),maxWidth:"sm",fullWidth:!0,children:[(0,t.jsx)(p.DialogTitle,{children:"Link Figma Component to Code"}),(0,t.jsxs)(f.DialogContent,{children:[(0,t.jsxs)(g.FormControl,{fullWidth:!0,margin:"dense",sx:{mb:2,mt:1},children:[(0,t.jsx)(x.InputLabel,{children:"Figma Component"}),(0,t.jsx)(v.Select,{value:eN,label:"Figma Component",onChange:e=>eU(e.target.value),children:et.map(e=>(0,t.jsx)(y.MenuItem,{value:e.key,children:e.name},e.key))})]}),(0,t.jsx)(n.TextField,{margin:"dense",label:"Code File Path",fullWidth:!0,variant:"outlined",value:eG,onChange:e=>eq(e.target.value),placeholder:"/src/components/Button.tsx",sx:{mb:2}}),(0,t.jsx)(n.TextField,{margin:"dense",label:"Component Name (Optional)",fullWidth:!0,variant:"outlined",value:eV,onChange:e=>eJ(e.target.value),placeholder:"Button"})]}),(0,t.jsxs)(m.DialogActions,{children:[(0,t.jsx)(d.Button,{onClick:()=>e_(!1),children:"Cancel"}),(0,t.jsx)(d.Button,{onClick:e8,variant:"contained",disabled:!eN||!eG,children:"Link"})]})]})]})}e.s(["default",()=>N],27245)},27796,(e,t,a)=>{"use strict";var r=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r(e.r(64800)),i=e.r(44855);a.default=(0,o.default)((0,i.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat")}]);