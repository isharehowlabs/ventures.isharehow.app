(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,91887,(e,t,i)=>{"use strict";var a=e.r(78509);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(e.r(21506)),n=e.r(91398);i.default=(0,s.default)((0,n.jsx)("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"}),"ViewModule")},7542,(e,t,i)=>{"use strict";var a=e.r(78509);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(e.r(21506)),n=e.r(91398);i.default=(0,s.default)((0,n.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"}),"RestartAlt")},28573,(e,t,i)=>{"use strict";var a=e.r(78509);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(e.r(21506)),n=e.r(91398);i.default=(0,s.default)([(0,n.jsx)("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),(0,n.jsx)("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings")},17462,e=>{"use strict";var t=e.i(91398),i=e.i(91788),a=e.i(17563),s=e.i(56119),n=e.i(77882),r=e.i(86779),l=e.i(29069),o=e.i(45837),d=e.i(17803),c=e.i(21627),h=e.i(58524),u=e.i(59974),x=e.i(89200),m=e.i(24057),p=e.i(62999),g=e.i(88740),j=e.i(94365),y=e.i(39609),b=e.i(64056),f=e.i(83664),v=e.i(86042),C=e.i(16135),w=e.i(46896),S=e.i(5604),T=e.i(51107),k=e.i(80596),P=e.i(33446),A=e.i(6172),I=e.i(91887),B=e.i(62440),F=e.i(99246),E=e.i(7542),M=e.i(28573),W=e.i(34035),D=e.i(36279),L=e.i(24776),N=e.i(9122),O=e.i(69945),$=e.i(61433),z=e.i(1645),U=e.i(24456),R=e.i(64260),_=e.i(27399),H=e.i(50278),J=e.i(44725),V=e.i(74266);function q({open:e,onClose:n,currentUser:r,isAdminView:l}){let[o,d]=(0,i.useState)([]),[m,g]=(0,i.useState)([]),[j,y]=(0,i.useState)({}),[b,f]=(0,i.useState)(!0),[v,C]=(0,i.useState)(null);(0,i.useEffect)(()=>{e&&P()},[e]);let P=async()=>{f(!0),C(null);try{let e=(0,z.getBackendUrl)(),t=await fetch(`${e}/api/creative/employees`,{credentials:"include"});if(!t.ok){let e=await t.json().catch(()=>({error:`HTTP ${t.status}`}));throw Error(e.error||`Failed to fetch employees (${t.status})`)}let i=await t.json();d(i.employees||[]);let a=await fetch(`${e}/api/creative/clients`,{credentials:"include"});if(!a.ok){let e=await a.json().catch(()=>({error:`HTTP ${a.status}`}));throw Error(e.error||`Failed to fetch clients (${a.status})`)}let s=await a.json();g(s.clients||[])}catch(e){console.error("Error fetching data:",e),C(e.message||"Failed to load data")}finally{f(!1)}},A=(0,i.useCallback)(e=>{if(!e)return"(unassigned)";let t=o.find(t=>t.id===Number(e));return t?t.name:"(unassigned)"},[o]),I=async(e,t)=>{y(t=>({...t,[e]:!0})),C(null);try{let i=(0,z.getBackendUrl)(),a=null;if(t){let e=o.find(e=>e.id===t);a=e?e.name:null}let s=await fetch(`${i}/api/creative/clients/${e}/assign-employee`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({employee_id:t,employee_name:a})});if(!s.ok){let e=await s.json().catch(()=>({error:"Failed to assign employee"}));throw Error(e.error||"Failed to assign employee")}g(i=>i.map(i=>i.id===e?{...i,assignedEmployee:a||void 0,assignedEmployeeId:t||void 0}:i))}catch(e){console.error("Error assigning employee:",e),C(e.message||"Failed to assign employee")}finally{y(t=>({...t,[e]:!1}))}},B=l?m:m.filter(e=>!!r?.id&&(e.assignedEmployeeId===r.id||e.assignedEmployee===r.name||e.assignedEmployee===r.username));return(0,t.jsxs)(w.Dialog,{open:e,onClose:n,maxWidth:"md",fullWidth:!0,children:[(0,t.jsx)(S.DialogTitle,{children:l?"Admin Client Assignment":"Your Clients"}),(0,t.jsxs)(T.DialogContent,{children:[v&&(0,t.jsx)(p.Alert,{severity:"error",onClose:()=>C(null),sx:{mb:2},children:v}),b?(0,t.jsx)(a.Box,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,t.jsx)(V.CircularProgress,{})}):(0,t.jsxs)(U.Table,{children:[(0,t.jsx)(H.TableHead,{children:(0,t.jsxs)(J.TableRow,{children:[(0,t.jsx)(_.TableCell,{children:"Client Name"}),(0,t.jsx)(_.TableCell,{children:"Company"}),(0,t.jsx)(_.TableCell,{children:"Email"}),(0,t.jsx)(_.TableCell,{children:"Assigned Employee"}),l&&(0,t.jsx)(_.TableCell,{children:"Change Assignment"})]})}),(0,t.jsxs)(R.TableBody,{children:[B.map(e=>(0,t.jsxs)(J.TableRow,{children:[(0,t.jsx)(_.TableCell,{children:e.name}),(0,t.jsx)(_.TableCell,{children:e.company}),(0,t.jsx)(_.TableCell,{children:e.email}),(0,t.jsx)(_.TableCell,{children:A(e.assignedEmployeeId)}),l&&(0,t.jsxs)(_.TableCell,{children:[(0,t.jsx)(x.FormControl,{variant:"standard",size:"small",fullWidth:!0,children:(0,t.jsxs)(h.Select,{value:e.assignedEmployeeId||"",onChange:t=>I(e.id,t.target.value?Number(t.target.value):null),disabled:!!j[e.id],children:[(0,t.jsx)(u.MenuItem,{value:"",children:(0,t.jsx)("em",{children:"Unassign"})}),o.map(e=>(0,t.jsxs)(u.MenuItem,{value:e.id,children:[e.name," ",e.is_admin?"(Admin)":""]},e.id))]})}),j[e.id]&&(0,t.jsx)(V.CircularProgress,{size:16,sx:{ml:1}})]})]},e.id)),0===B.length&&(0,t.jsx)(J.TableRow,{children:(0,t.jsx)(_.TableCell,{colSpan:l?5:4,align:"center",sx:{py:4},children:(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",children:"No client records found."})})})]})]})]}),(0,t.jsxs)(k.DialogActions,{children:[(0,t.jsx)(c.Button,{onClick:P,disabled:b,children:"Refresh"}),(0,t.jsx)(c.Button,{onClick:n,children:"Close"})]})]})}var K=e.i(3828);let G={streaming:"Streaming Panel",figma:"Designs & Code Panel",docs:"Documents Panel",learning:"Learning Hub Panel",aiJournal:"AI Journal Panel",aiAgent:"AI Agent Panel"};function Q(){let e=(0,K.useRouter)(),{settings:O,updateDashboardSettings:U,updatePanelSettings:R,updateApiKeys:_,resetSettings:H}=(0,$.useSettings)(),[J,V]=(0,i.useState)(null);(0,i.useEffect)(()=>{(async()=>{try{let e=(0,z.getBackendUrl)();console.log("[Settings] Fetching profile from:",`${e}/api/profile`);let t=await fetch(`${e}/api/profile`,{credentials:"include"});if(console.log("[Settings] Profile response status:",t.status),t.ok){let e=await t.json();console.log("[Settings] Profile data received:",e),V(e)}else{let e=`HTTP ${t.status}`;try{let i=await t.json();e=i.error||i.message||e}catch(i){let e=await t.text();console.error("[Settings] Failed to fetch profile (non-JSON):",t.status,e.substring(0,200))}console.error("[Settings] Failed to fetch user profile:",e)}}catch(e){console.error("[Settings] Error fetching user profile:",e)}})()},[]);let[Q,Y]=(0,i.useState)(!1),[Z,ee]=(0,i.useState)(()=>{let e={};return Object.entries(O.panels).forEach(([t,i])=>{e[t]=i.order}),e});(0,i.useEffect)(()=>{let e={};Object.entries(O.panels).forEach(([t,i])=>{e[t]=i.order}),ee(e)},[O.panels]);let et=(e,t)=>{let i=Z[e],a=Object.entries(Z).find(([i,a])=>i!==e&&a===t)?.[0],s={...Z};s[e]=t,a&&(s[a]=i,R(a,{order:i})),ee(s),R(e,{order:t})},ei=async()=>{if(!eo.trim()||!ec.trim())return void eb("Title and message are required");ep(!0),eb(null),ej(null);try{let e=(0,z.getBackendUrl)();if("all"===eu){let t=await fetch(`${e}/api/notifications/broadcast`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:er,title:eo,message:ec,metadata:{admin:!0,sentBy:J?.username||"admin"}})});if(!t.ok){let e=await t.json().catch(()=>({error:"Failed to send notification"}));throw Error(e.error||"Failed to send notification")}ej("Notification sent to all users successfully!")}else{let t=await fetch(`${e}/api/notifications`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:er,title:eo,message:ec,metadata:{admin:!0,sentBy:J?.username||"admin"}})});if(!t.ok){let e=await t.json().catch(()=>({error:"Failed to send notification"}));throw Error(e.error||"Failed to send notification")}ej("Notification sent successfully!")}ed(""),eh("")}catch(e){eb(e.message||"Failed to send notification")}finally{ep(!1)}},ea=J?.isAdmin||J?.patreonId===0x36255b0||J?.username==="isharehow"||J?.id==="isharehow"||J?.id==="admin"||J?.username==="admin"||J?.email==="jeliyah@isharehowlabs.com"||J?.username&&"isharehow"===J.username.toLowerCase()||J?.id&&"isharehow"===String(J.id).toLowerCase()||J?.id&&"admin"===String(J.id).toLowerCase(),[es,en]=(0,i.useState)(0),[er,el]=(0,i.useState)("admin"),[eo,ed]=(0,i.useState)(""),[ec,eh]=(0,i.useState)(""),[eu,ex]=(0,i.useState)("self"),[em,ep]=(0,i.useState)(!1),[eg,ej]=(0,i.useState)(null),[ey,eb]=(0,i.useState)(null),[ef,ev]=(0,i.useState)([]),[eC,ew]=(0,i.useState)(!1),[eS,eT]=(0,i.useState)(null),[ek,eP]=(0,i.useState)(!1),[eA,eI]=(0,i.useState)(!1),[eB,eF]=(0,i.useState)(null),[eE,eM]=(0,i.useState)(""),[eW,eD]=(0,i.useState)(""),[eL,eN]=(0,i.useState)(!1),[eO,e$]=(0,i.useState)(null);(0,i.useEffect)(()=>{ea&&2===es&&ez()},[ea,es]);let ez=async()=>{ew(!0),eT(null);try{let e=(0,z.getBackendUrl)(),t=await fetch(`${e}/api/admin/users`,{credentials:"include"});if(t.ok){let e=await t.json();ev(e.users||[])}else{let e=await t.json().catch(()=>({error:`HTTP ${t.status}`}));eT(e.error||`Failed to load users (${t.status})`)}}catch(e){console.error("Error fetching employees:",e),eT(e.message||"Failed to load users")}finally{ew(!1)}},eU=async(e,t)=>{try{let i=(0,z.getBackendUrl)(),a=await fetch(`${i}/api/admin/users/${e}/employee`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({isEmployee:!t})});if(a.ok)ez();else{let e=await a.json();eT(e.error||"Failed to update employee status")}}catch(e){eT(e.message||"Failed to update employee status")}},eR=async(e,t)=>{try{let i=(0,z.getBackendUrl)(),a=await fetch(`${i}/api/admin/users/${e}/admin`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({isAdmin:!t})});if(a.ok){ez();let e=await fetch(`${i}/api/profile`,{credentials:"include"});if(e.ok){let t=await e.json();V(t)}}else{let e=await a.json();eT(e.error||"Failed to update admin status")}}catch(e){eT(e.message||"Failed to update admin status")}},e_=()=>{eI(!1),eF(null),eM(""),eD(""),e$(null)},eH=async()=>{if(eB){if(!eE||eE.length<6)return void e$("Password must be at least 6 characters");if(eE!==eW)return void e$("Passwords do not match");eN(!0),e$(null);try{let e=(0,z.getBackendUrl)(),t=await fetch(`${e}/api/admin/users/${eB.id||eB.username}/password`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:eE})});if(t.ok)e_(),alert(`Password changed successfully for ${eB.name||eB.username}`);else{let e=await t.json();e$(e.error||"Failed to change password")}}catch(e){e$(e.message||"Failed to change password")}finally{eN(!1)}}};return(0,t.jsxs)(N.default,{active:"settings",children:[(0,t.jsxs)(a.Box,{sx:{maxWidth:1e3,mx:"auto"},children:[(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:4},children:[(0,t.jsx)(P.default,{sx:{fontSize:40,color:"primary.main"}}),(0,t.jsx)(s.Typography,{variant:"h4",sx:{fontWeight:700,background:"linear-gradient(45deg, #9146FF, #ff6b6b, #4ecdc4)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Settings"})]}),Q&&(0,t.jsx)(p.Alert,{severity:"success",sx:{mb:3},onClose:()=>Y(!1),children:"Settings have been reset to default values."}),(0,t.jsx)(n.Paper,{elevation:2,sx:{mb:3},children:(0,t.jsxs)(f.Tabs,{value:es,onChange:(e,t)=>en(t),children:[(0,t.jsx)(v.Tab,{label:"General",icon:(0,t.jsx)(P.default,{}),iconPosition:"start"}),(0,t.jsx)(v.Tab,{label:"Creative",icon:(0,t.jsx)(D.default,{}),iconPosition:"start"}),ea&&(0,t.jsx)(v.Tab,{label:"Admin",icon:(0,t.jsx)(M.default,{}),iconPosition:"start"})]})}),0===es&&(0,t.jsxs)(a.Box,{children:[(0,t.jsxs)(n.Paper,{elevation:2,sx:{p:4,mb:3},children:[(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,t.jsx)(A.default,{color:"primary"}),(0,t.jsx)(s.Typography,{variant:"h6",sx:{fontWeight:600},children:"Dashboard Settings"})]}),(0,t.jsx)(d.Divider,{sx:{mb:3}}),(0,t.jsxs)(r.Stack,{spacing:3,children:[(0,t.jsxs)(x.FormControl,{fullWidth:!0,children:[(0,t.jsx)(m.InputLabel,{children:"Default Tab"}),(0,t.jsxs)(h.Select,{value:O.dashboard.defaultTab,label:"Default Tab",onChange:e=>U({defaultTab:Number(e.target.value)}),children:[(0,t.jsx)(u.MenuItem,{value:0,children:"Streaming"}),(0,t.jsx)(u.MenuItem,{value:1,children:"Designs & Code"}),(0,t.jsx)(u.MenuItem,{value:2,children:"Documents"}),(0,t.jsx)(u.MenuItem,{value:3,children:"Learning Hub"})]})]}),(0,t.jsxs)(x.FormControl,{fullWidth:!0,children:[(0,t.jsx)(m.InputLabel,{children:"Layout Style"}),(0,t.jsxs)(h.Select,{value:O.dashboard.layout,label:"Layout Style",onChange:e=>U({layout:e.target.value}),children:[(0,t.jsx)(u.MenuItem,{value:"grid",children:"Grid"}),(0,t.jsx)(u.MenuItem,{value:"list",children:"List"})]})]})]})]}),(0,t.jsxs)(n.Paper,{elevation:2,sx:{p:4,mb:3},children:[(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,t.jsx)(P.default,{color:"primary"}),(0,t.jsx)(s.Typography,{variant:"h6",sx:{fontWeight:600},children:"API Keys"})]}),(0,t.jsx)(d.Divider,{sx:{mb:3}}),(0,t.jsx)(r.Stack,{spacing:3,children:(0,t.jsx)(b.TextField,{fullWidth:!0,label:"Revid.ai API Key",type:"password",value:O.apiKeys?.revidApiKey||"",onChange:e=>_({revidApiKey:e.target.value}),placeholder:"Enter your Revid.ai API key",helperText:"Required for AI Agent panel to generate and auto-post videos"})})]}),(0,t.jsxs)(n.Paper,{elevation:2,sx:{p:4,mb:3},children:[(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,t.jsx)(I.default,{color:"primary"}),(0,t.jsx)(s.Typography,{variant:"h6",sx:{fontWeight:600},children:"Component Panel Settings"})]}),(0,t.jsx)(d.Divider,{sx:{mb:3}}),(0,t.jsx)(r.Stack,{spacing:2,children:Object.entries(O.panels).map(([e,i])=>(0,t.jsxs)(g.Accordion,{defaultExpanded:"streaming"===e,children:[(0,t.jsx)(j.AccordionSummary,{expandIcon:(0,t.jsx)(B.default,{}),children:(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{width:"100%",pr:2},children:[(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{checked:i.visible,onChange:t=>{t.stopPropagation(),R(e,{visible:t.target.checked})},onClick:e=>e.stopPropagation()}),label:G[e]||e,onClick:e=>e.stopPropagation()}),(0,t.jsx)(a.Box,{sx:{flexGrow:1}}),(0,t.jsxs)(s.Typography,{variant:"caption",color:"text.secondary",children:["Order: ",i.order+1]})]})}),(0,t.jsx)(y.AccordionDetails,{children:(0,t.jsx)(r.Stack,{spacing:2,children:(0,t.jsxs)(a.Box,{children:[(0,t.jsxs)(s.Typography,{variant:"body2",sx:{mb:1},children:["Panel Order (1-",Object.keys(O.panels).length,")"]}),(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",children:[(0,t.jsx)(c.Button,{size:"small",variant:"outlined",disabled:0===Z[e],onClick:()=>{let t=Math.max(0,Z[e]-1);et(e,t)},children:"↑ Move Up"}),(0,t.jsx)(b.TextField,{type:"number",size:"small",value:Z[e]+1,onChange:t=>{et(e,Math.max(0,Math.min(Object.keys(O.panels).length-1,Number(t.target.value)-1)))},inputProps:{min:1,max:Object.keys(O.panels).length},sx:{width:80}}),(0,t.jsx)(c.Button,{size:"small",variant:"outlined",disabled:Z[e]===Object.keys(O.panels).length-1,onClick:()=>{let t=Math.min(Object.keys(O.panels).length-1,Z[e]+1);et(e,t)},children:"↓ Move Down"})]})]})})})]},e))})]}),(0,t.jsx)(n.Paper,{elevation:2,sx:{p:3,mb:3},children:(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",children:[(0,t.jsxs)(a.Box,{children:[(0,t.jsx)(s.Typography,{variant:"h6",sx:{fontWeight:600,mb:1},children:"Reset Settings"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",children:"Restore all settings to their default values"})]}),(0,t.jsx)(c.Button,{variant:"outlined",color:"error",startIcon:(0,t.jsx)(E.default,{}),onClick:()=>{H(),Y(!0),setTimeout(()=>Y(!1),3e3);let e={};Object.entries(O.panels).forEach(([t,i])=>{e[t]=i.order}),ee(e)},children:"Reset to Defaults"})]})})]}),1===es&&(0,t.jsx)(X,{}),2===es&&ea&&(0,t.jsxs)(a.Box,{children:[(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4,mb:3,border:"2px solid gold"},children:[(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,t.jsx)(W.default,{sx:{color:"gold",fontSize:32}}),(0,t.jsx)(s.Typography,{variant:"h6",sx:{fontWeight:700,color:"gold"},children:"Send Notification"})]}),(0,t.jsx)(d.Divider,{sx:{mb:3,borderColor:"gold"}}),eg&&(0,t.jsx)(p.Alert,{severity:"success",sx:{mb:3},onClose:()=>ej(null),children:eg}),ey&&(0,t.jsx)(p.Alert,{severity:"error",sx:{mb:3},onClose:()=>eb(null),children:ey}),(0,t.jsxs)(r.Stack,{spacing:3,children:[(0,t.jsxs)(x.FormControl,{fullWidth:!0,children:[(0,t.jsx)(m.InputLabel,{children:"Notification Type"}),(0,t.jsxs)(h.Select,{value:er,label:"Notification Type",onChange:e=>el(e.target.value),children:[(0,t.jsx)(u.MenuItem,{value:"admin",children:"Admin"}),(0,t.jsx)(u.MenuItem,{value:"system",children:"System"}),(0,t.jsx)(u.MenuItem,{value:"live-update",children:"Live Update"}),(0,t.jsx)(u.MenuItem,{value:"board",children:"Board"}),(0,t.jsx)(u.MenuItem,{value:"timer",children:"Timer"}),(0,t.jsx)(u.MenuItem,{value:"twitch",children:"Twitch"})]})]}),(0,t.jsxs)(x.FormControl,{fullWidth:!0,children:[(0,t.jsx)(m.InputLabel,{children:"Target"}),(0,t.jsxs)(h.Select,{value:eu,label:"Target",onChange:e=>ex(e.target.value),children:[(0,t.jsx)(u.MenuItem,{value:"self",children:"Send to Myself (Test)"}),(0,t.jsx)(u.MenuItem,{value:"all",children:"Send to All Users"})]})]}),(0,t.jsx)(b.TextField,{fullWidth:!0,label:"Title",value:eo,onChange:e=>ed(e.target.value),placeholder:"Enter notification title",required:!0}),(0,t.jsx)(b.TextField,{fullWidth:!0,label:"Message",value:ec,onChange:e=>eh(e.target.value),placeholder:"Enter notification message",multiline:!0,rows:4,required:!0}),(0,t.jsx)(c.Button,{variant:"contained",color:"primary",size:"large",startIcon:(0,t.jsx)(W.default,{}),onClick:ei,disabled:em||!eo.trim()||!ec.trim(),sx:{alignSelf:"flex-start"},children:em?"Sending...":"Send Notification"})]})]}),(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4,mb:3,border:"2px solid gold"},children:[(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,t.jsx)(P.default,{sx:{color:"gold",fontSize:32}}),(0,t.jsx)(s.Typography,{variant:"h6",sx:{fontWeight:700,color:"gold"},children:"Community Q&A Moderation"})]}),(0,t.jsx)(d.Divider,{sx:{mb:3,borderColor:"gold"}}),(0,t.jsx)(s.Typography,{variant:"body1",sx:{mb:2},children:"Review, approve, or remove questions and answers. Set question visibility duration. Manage categories and highlight featured questions. Bulk moderation and audit logging supported."}),(0,t.jsxs)(r.Stack,{spacing:2,children:[(0,t.jsx)(c.Button,{variant:"contained",color:"primary",children:"Review Pending Questions"}),(0,t.jsx)(c.Button,{variant:"contained",color:"secondary",children:"Manage Answers"}),(0,t.jsx)(c.Button,{variant:"contained",color:"info",children:"Bulk Moderation"}),(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",children:[(0,t.jsx)(s.Typography,{variant:"body2",sx:{color:"gold",minWidth:180},children:"Set Question Visibility (hours):"}),(0,t.jsx)(b.TextField,{type:"number",size:"small",defaultValue:48,inputProps:{min:1,max:168},sx:{width:100}}),(0,t.jsx)(c.Button,{variant:"outlined",color:"success",children:"Update"})]}),(0,t.jsx)(c.Button,{variant:"outlined",color:"warning",children:"Manage Categories"}),(0,t.jsx)(c.Button,{variant:"outlined",color:"secondary",children:"Bulk Category Management"})]}),(0,t.jsx)(d.Divider,{sx:{my:3,borderColor:"gold"}}),(0,t.jsx)(s.Typography,{variant:"h6",sx:{fontWeight:700,color:"gold",mb:2},children:"Audit Log (Render)"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"All admin actions are logged for review and compliance. Logs are available in the Render dashboard."}),(0,t.jsx)(n.Paper,{variant:"outlined",sx:{p:2,background:"rgba(255,255,224,0.15)",border:"1px solid gold"},children:(0,t.jsxs)(s.Typography,{variant:"body2",color:"gold",children:["[2025-11-22 10:15] Admin Jane approved question #123",(0,t.jsx)("br",{}),"[2025-11-22 10:16] Admin Jane removed answer #456",(0,t.jsx)("br",{}),'[2025-11-22 10:17] Admin Jane updated category "Streaming"',(0,t.jsx)("br",{}),"[2025-11-22 10:18] Admin Jane performed bulk moderation",(0,t.jsx)("br",{})]})})]}),(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4,mb:3,border:"2px solid gold"},children:[(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,t.jsx)(M.default,{sx:{color:"gold",fontSize:32}}),(0,t.jsx)(s.Typography,{variant:"h6",sx:{fontWeight:700,color:"gold"},children:"Employee Management"})]}),(0,t.jsx)(d.Divider,{sx:{mb:3,borderColor:"gold"}}),eS&&(0,t.jsx)(p.Alert,{severity:"error",sx:{mb:3},onClose:()=>eT(null),children:eS}),(0,t.jsx)(s.Typography,{variant:"body1",sx:{mb:3},children:"Manage employee status for users. Employees have access to the Creative Dashboard and can be assigned to clients."}),eC?(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",children:"Loading users..."}):0===ef.length?(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",children:"No users found."}):(0,t.jsx)(r.Stack,{spacing:2,children:ef.map(e=>(0,t.jsx)(n.Paper,{variant:"outlined",sx:{p:2},children:(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",children:[(0,t.jsxs)(a.Box,{sx:{flex:1},children:[(0,t.jsx)(s.Typography,{variant:"body1",sx:{fontWeight:600},children:e.name||e.username||e.email||"Unknown User"}),(0,t.jsxs)(s.Typography,{variant:"body2",color:"text.secondary",children:[e.ensName||e.id," ",e.email&&`• ${e.email}`]}),(0,t.jsxs)(r.Stack,{direction:"row",spacing:1,sx:{mt:1},children:[e.isAdmin&&(0,t.jsx)(C.Chip,{label:"Admin",color:"error",size:"small"}),e.isEmployee&&(0,t.jsx)(C.Chip,{label:"Employee",color:"secondary",size:"small"}),e.isPaidMember&&(0,t.jsx)(C.Chip,{label:"Paid Member",color:"success",size:"small",variant:"outlined"})]})]}),(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",children:[(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{checked:e.isAdmin||!1,onChange:()=>eR(e.id||e.user_id,e.isAdmin||!1),disabled:e.id===J?.id||e.username===J?.username}),label:"Admin"}),(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{checked:e.isEmployee||!1,onChange:()=>eU(e.id||e.user_id,e.isEmployee||!1),disabled:e.isAdmin}),label:e.isEmployee?"Employee":"Not Employee"}),(0,t.jsx)(c.Button,{variant:"outlined",size:"small",onClick:()=>{eF(e),eM(""),eD(""),e$(null),eI(!0)},sx:{ml:2},children:"Change Password"})]})]})},e.id))}),(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,sx:{mt:3},children:[(0,t.jsx)(c.Button,{variant:"outlined",startIcon:(0,t.jsx)(F.default,{}),onClick:ez,disabled:eC,children:eC?"Loading...":"Refresh List"}),(0,t.jsx)(c.Button,{variant:"contained",startIcon:(0,t.jsx)(L.default,{}),onClick:()=>eP(!0),disabled:eC,children:"Manage Client Assignments"})]})]}),(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4,mb:3,border:"2px solid gold"},children:[(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,t.jsx)(L.default,{sx:{color:"gold",fontSize:32}}),(0,t.jsx)(s.Typography,{variant:"h6",sx:{fontWeight:700,color:"gold"},children:"Client Assignment Management"})]}),(0,t.jsx)(d.Divider,{sx:{mb:3,borderColor:"gold"}}),(0,t.jsx)(s.Typography,{variant:"body1",sx:{mb:3},children:"Assign clients to employees. Admins can reassign any client to any employee. Employees can view their assigned clients."}),(0,t.jsxs)(r.Stack,{direction:"row",spacing:2,children:[(0,t.jsx)(c.Button,{variant:"contained",startIcon:(0,t.jsx)(L.default,{}),onClick:()=>eP(!0),children:"Open Assignment Dialog"}),(0,t.jsx)(c.Button,{variant:"outlined",onClick:()=>e.push("/creative"),children:"Go to Creative Dashboard"})]})]})]})]}),(0,t.jsx)(q,{open:ek,onClose:()=>eP(!1),currentUser:J,isAdminView:ea}),(0,t.jsxs)(w.Dialog,{open:eA,onClose:e_,maxWidth:"sm",fullWidth:!0,children:[(0,t.jsxs)(S.DialogTitle,{children:["Change Password for ",eB?.name||eB?.username||"User"]}),(0,t.jsxs)(T.DialogContent,{children:[eO&&(0,t.jsx)(p.Alert,{severity:"error",sx:{mb:2},onClose:()=>e$(null),children:eO}),(0,t.jsxs)(r.Stack,{spacing:2,sx:{mt:1},children:[(0,t.jsx)(b.TextField,{label:"New Password",type:"password",fullWidth:!0,value:eE,onChange:e=>eM(e.target.value),helperText:"Password must be at least 6 characters",disabled:eL,autoFocus:!0}),(0,t.jsx)(b.TextField,{label:"Confirm Password",type:"password",fullWidth:!0,value:eW,onChange:e=>eD(e.target.value),disabled:eL})]})]}),(0,t.jsxs)(k.DialogActions,{children:[(0,t.jsx)(c.Button,{onClick:e_,disabled:eL,children:"Cancel"}),(0,t.jsx)(c.Button,{onClick:eH,variant:"contained",disabled:eL||!eE||!eW,children:eL?"Changing...":"Change Password"})]})]})]})}function X(){return(0,t.jsxs)(a.Box,{children:[(0,t.jsx)(s.Typography,{variant:"h5",fontWeight:700,gutterBottom:!0,children:"Creative Settings"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",sx:{mb:4},children:"Configure default settings for the Creative Dashboard and client management"}),(0,t.jsxs)(r.Stack,{spacing:3,children:[(0,t.jsxs)(n.Paper,{sx:{p:3},children:[(0,t.jsx)(s.Typography,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Default Client Permissions"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Set default permissions for new clients when they are added to the system."}),(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{defaultChecked:!0}),label:"Auto-enable Co-Work Dashboard access"}),(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{defaultChecked:!0}),label:"Auto-enable RISE Dashboard access"}),(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{}),label:"Require email verification before activation"})]}),(0,t.jsxs)(n.Paper,{sx:{p:3},children:[(0,t.jsx)(s.Typography,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Notification Preferences"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose what notifications you want to receive for client activities."}),(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{defaultChecked:!0}),label:"Notify on new client sign-ups"}),(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{defaultChecked:!0}),label:"Notify on support requests"}),(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{}),label:"Notify on client dashboard activity"})]}),(0,t.jsxs)(n.Paper,{sx:{p:3},children:[(0,t.jsx)(s.Typography,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Analytics Integration"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Configure Google Analytics integration for client project tracking."}),(0,t.jsx)(c.Button,{variant:"outlined",sx:{mt:1},children:"Connect Google Analytics"})]}),(0,t.jsxs)(n.Paper,{sx:{p:3},children:[(0,t.jsx)(s.Typography,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Employee Assignment"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Manage default employee assignments and sorting preferences."}),(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{defaultChecked:!0}),label:"Auto-assign clients based on workload"}),(0,t.jsx)(o.FormControlLabel,{control:(0,t.jsx)(l.Switch,{defaultChecked:!0}),label:"Allow employees to sort their own projects"})]})]})]})}e.s(["default",0,function(){return(0,t.jsx)(O.default,{children:(0,t.jsx)(Q,{})})}],17462)},6424,(e,t,i)=>{let a="/settings";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(17462)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})}]);