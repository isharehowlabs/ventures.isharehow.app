(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,428810,(e,t,s)=>{"use strict";var r=e.r(991074);Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=r(e.r(764800)),l=e.r(444855);s.default=(0,a.default)((0,l.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")},121859,(e,t,s)=>{"use strict";var r=e.r(991074);Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=r(e.r(764800)),l=e.r(444855);s.default=(0,a.default)([(0,l.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,l.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime")},952163,e=>{"use strict";e.i(896335);var t=e.i(884933),s=e.i(680622),r=e.i(661678),a=e.i(590389),l=e.i(636831),i=e.i(492489);let n=["ownerState"],o=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function c(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function u(e,t){return t&&e&&"object"==typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}let h=(0,l.default)();function f({defaultTheme:e,theme:t,themeId:s}){return 0===Object.keys(t).length?e:t[s]||t}function p(e,a,l){let{ownerState:i}=a,d=(0,s.default)(a,n),c="function"==typeof e?e((0,t.default)({ownerState:i},d)):e;if(Array.isArray(c))return c.flatMap(e=>p(e,(0,t.default)({ownerState:i},d),l));if(c&&"object"==typeof c&&Array.isArray(c.variants)){let{variants:e=[]}=c,a=(0,s.default)(c,o);return e.forEach(e=>{let s=!0;if("function"==typeof e.props?s=e.props((0,t.default)({ownerState:i},d,i)):Object.keys(e.props).forEach(t=>{(null==i?void 0:i[t])!==e.props[t]&&d[t]!==e.props[t]&&(s=!1)}),s){Array.isArray(a)||(a=[a]);let s="function"==typeof e.style?e.style((0,t.default)({ownerState:i},d,i)):e.style;a.push(l?u((0,r.internal_serializeStyles)(s),l):s)}}),a}return l?u((0,r.internal_serializeStyles)(c),l):c}let m=function(e={}){let{themeId:l,defaultTheme:n=h,rootShouldForwardProp:o=c,slotShouldForwardProp:u=c}=e,m=e=>(0,i.default)((0,t.default)({},e,{theme:f((0,t.default)({},e,{defaultTheme:n,themeId:l}))}));return m.__mui_systemSx=!0,(e,i={})=>{var h;let g;(0,r.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));let{name:x,slot:y,skipVariantsResolver:j,skipSx:b,overridesResolver:v=!(h=!y?y:y.charAt(0).toLowerCase()+y.slice(1))?null:(e,t)=>t[h]}=i,S=(0,s.default)(i,d),w=x&&x.startsWith("Mui")||y?"components":"custom",C=void 0!==j?j:y&&"Root"!==y&&"root"!==y||!1,T=b||!1,k=c;"Root"===y||"root"===y?k=o:y?k=u:"string"==typeof e&&e.charCodeAt(0)>96&&(k=void 0);let P=(0,r.default)(e,(0,t.default)({shouldForwardProp:k,label:g},S)),_=e=>"function"==typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?s=>{let r=f({theme:s.theme,defaultTheme:n,themeId:l});return p(e,(0,t.default)({},s,{theme:r}),r.modularCssLayers?w:void 0)}:e,I=(s,...r)=>{let a=_(s),i=r?r.map(_):[];x&&v&&i.push(e=>{let s=f((0,t.default)({},e,{defaultTheme:n,themeId:l}));if(!s.components||!s.components[x]||!s.components[x].styleOverrides)return null;let r=s.components[x].styleOverrides,a={};return Object.entries(r).forEach(([r,l])=>{a[r]=p(l,(0,t.default)({},e,{theme:s}),s.modularCssLayers?"theme":void 0)}),v(e,a)}),x&&!C&&i.push(e=>{var s;let r=f((0,t.default)({},e,{defaultTheme:n,themeId:l}));return p({variants:null==r||null==(s=r.components)||null==(s=s[x])?void 0:s.variants},(0,t.default)({},e,{theme:r}),r.modularCssLayers?"theme":void 0)}),T||i.push(m);let o=i.length-r.length;if(Array.isArray(s)&&o>0){let e=Array(o).fill("");(a=[...s,...e]).raw=[...s.raw,...e]}let d=P(a,...i);return e.muiName&&(d.muiName=e.muiName),d};return P.withConfig&&(I.withConfig=P.withConfig),I}}();e.s(["default",0,m],952163)},187002,e=>{"use strict";var t=e.i(597960),s=e.i(683799);function r({props:e,name:r,defaultTheme:a,themeId:l}){let i=(0,s.default)(a);return l&&(i=i[l]||i),(0,t.default)({theme:i,name:r,props:e})}e.s(["default",()=>r])},137114,e=>{"use strict";e.i(896335);var t=e.i(680622),s=e.i(884933),r=e.i(958891),a=e.i(381706),l=e.i(590389),i=e.i(985741),n=e.i(715127),o=e.i(952163),d=e.i(187002),c=e.i(266188),u=e.i(636831),h=e.i(969631),f=e.i(640999),p=e.i(444855);let m=["component","direction","spacing","divider","children","className","useFlexGap"],g=(0,u.default)(),x=(0,o.default)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function y(e){return(0,d.default)({props:e,name:"MuiStack",defaultTheme:g})}let j=({ownerState:e,theme:t})=>{let r=(0,s.default)({display:"flex",flexDirection:"column"},(0,h.handleBreakpoints)({theme:t},(0,h.resolveBreakpointValues)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let s=(0,f.createUnarySpacing)(t),a=Object.keys(t.breakpoints.values).reduce((t,s)=>(("object"==typeof e.spacing&&null!=e.spacing[s]||"object"==typeof e.direction&&null!=e.direction[s])&&(t[s]=!0),t),{}),i=(0,h.resolveBreakpointValues)({values:e.direction,base:a}),n=(0,h.resolveBreakpointValues)({values:e.spacing,base:a});"object"==typeof i&&Object.keys(i).forEach((e,t,s)=>{if(!i[e]){let r=t>0?i[s[t-1]]:"column";i[e]=r}}),r=(0,l.default)(r,(0,h.handleBreakpoints)({theme:t},n,(t,r)=>e.useFlexGap?{gap:(0,f.getValue)(s,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[r?i[r]:e.direction]}`]:(0,f.getValue)(s,t)}}))}return(0,h.mergeBreakpointsInOrder)(t.breakpoints,r)};var b=e.i(595262),v=e.i(196861);let S=function(e={}){let{createStyledComponent:l=x,useThemeProps:o=y,componentName:d="MuiStack"}=e,u=l(j);return r.forwardRef(function(e,l){let h,f=o(e),g=(0,c.extendSxProp)(f),{component:x="div",direction:y="column",spacing:j=0,divider:b,children:v,className:S,useFlexGap:w=!1}=g,C=(0,t.default)(g,m),T=(0,n.default)({root:["root"]},e=>(0,i.default)(d,e),{});return(0,p.jsx)(u,(0,s.default)({as:x,ownerState:{direction:y,spacing:j,useFlexGap:w},ref:l,className:(0,a.default)(T.root,S)},C,{children:b?(h=r.Children.toArray(v).filter(Boolean)).reduce((e,t,s)=>(e.push(t),s<h.length-1&&e.push(r.cloneElement(b,{key:`separator-${s}`})),e),[]):v}))})}({createStyledComponent:(0,b.default)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,v.useDefaultProps)({props:e,name:"MuiStack"})});e.s(["default",0,S],137114)},415708,e=>{"use strict";var t=e.i(137114);e.s(["Stack",()=>t.default])},235134,(e,t,s)=>{"use strict";var r=e.r(991074);Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=r(e.r(764800)),l=e.r(444855);s.default=(0,a.default)([(0,l.jsx)("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),(0,l.jsx)("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings")},560472,(e,t,s)=>{"use strict";var r=e.r(991074);Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=r(e.r(764800)),l=e.r(444855);s.default=(0,a.default)((0,l.jsx)("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"VpnKey")},505385,268914,e=>{"use strict";var t=e.i(958891);let s={defaultTab:0,layout:"grid",showTaskList:!0,showLiveUpdates:!0,autoRefresh:!0,refreshInterval:300},r={workspace:{visible:!0,order:0},focus:{visible:!0,order:3}},a="user_dashboard_settings";function l(){let[e,l]=(0,t.useState)(()=>{try{let e=localStorage.getItem(a);if(e){let t=JSON.parse(e);return{dashboard:{...s,...t.dashboard},panels:{...r,...t.panels},apiKeys:t.apiKeys||{}}}}catch(e){console.error("Error loading settings:",e)}return{dashboard:s,panels:r,apiKeys:{}}}),i=(0,t.useCallback)(e=>{l(t=>{let s={...t,dashboard:{...t.dashboard,...e}};try{localStorage.setItem(a,JSON.stringify(s))}catch(e){console.error("Error saving settings:",e)}return s})},[]),n=(0,t.useCallback)((e,t)=>{l(s=>{let r={...s,panels:{...s.panels,[e]:{...s.panels[e],...t}}};try{localStorage.setItem(a,JSON.stringify(r))}catch(e){console.error("Error saving settings:",e)}return r})},[]),o=(0,t.useCallback)(e=>{l(t=>{let s={...t,apiKeys:{...t.apiKeys,...e}};try{localStorage.setItem(a,JSON.stringify(s))}catch(e){console.error("Error saving settings:",e)}return s})},[]),d=(0,t.useCallback)(()=>{let e={dashboard:s,panels:r,apiKeys:{}};l(e);try{localStorage.setItem(a,JSON.stringify(e))}catch(e){console.error("Error saving settings:",e)}},[]),c=(0,t.useCallback)(()=>Object.entries(e.panels).filter(([e,t])=>"web3"!==e&&"figma"!==e&&"docs"!==e&&"opportunities"!==e&&"streaming"!==e&&t.visible).sort(([e,t],[s,r])=>t.order-r.order).map(([e])=>e),[e.panels]);return{settings:e,updateDashboardSettings:i,updatePanelSettings:n,updateApiKeys:o,resetSettings:d,getVisiblePanels:c}}e.s(["useSettings",()=>l],505385);var i=e.i(444855),n=e.i(633948),o=e.i(718295),d=e.i(92279),c=e.i(147379),u=e.i(975557),h=e.i(694367),f=e.i(187225),p=e.i(533932),m=e.i(707656),g=e.i(950723),x=e.i(683161),y=e.i(39972),j=e.i(920161),b=e.i(337025),v=e.i(809109),S=e.i(574614),w=e.i(715915),C=e.i(513654);function T({open:e,onClose:s,currentUser:r,isAdminView:a}){let[l,T]=(0,t.useState)([]),[k,P]=(0,t.useState)([]),[_,I]=(0,t.useState)({}),[E,B]=(0,t.useState)(!0),[M,A]=(0,t.useState)(null);(0,t.useEffect)(()=>{e&&F()},[e]);let F=async()=>{B(!0),A(null);try{let e=(0,C.getBackendUrl)(),t=await fetch(`${e}/api/creative/employees`,{credentials:"include"});if(!t.ok){let e=await t.json().catch(()=>({error:`HTTP ${t.status}`}));throw Error(e.error||`Failed to fetch employees (${t.status})`)}let s=await t.json();T(s.employees||[]);let r=await fetch(`${e}/api/creative/clients`,{credentials:"include"});if(!r.ok){let e=await r.json().catch(()=>({error:`HTTP ${r.status}`}));throw Error(e.error||`Failed to fetch clients (${r.status})`)}let a=await r.json();P(a.clients||[])}catch(e){console.error("Error fetching data:",e),A(e.message||"Failed to load data")}finally{B(!1)}},O=(0,t.useCallback)(e=>{if(!e)return"(unassigned)";let t=l.find(t=>t.id===Number(e));return t?t.name:"(unassigned)"},[l]),R=async(e,t)=>{I(t=>({...t,[e]:!0})),A(null);try{let s=(0,C.getBackendUrl)(),r=null;if(t){let e=l.find(e=>e.id===t);r=e?e.name:null}let a=await fetch(`${s}/api/creative/clients/${e}/assign-employee`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({employee_id:t,employee_name:r})});if(!a.ok){let e=await a.json().catch(()=>({error:"Failed to assign employee"}));throw Error(e.error||"Failed to assign employee")}P(s=>s.map(s=>s.id===e?{...s,assignedEmployee:r||void 0,assignedEmployeeId:t||void 0}:s))}catch(e){console.error("Error assigning employee:",e),A(e.message||"Failed to assign employee")}finally{I(t=>({...t,[e]:!1}))}},N=a?k:k.filter(e=>!!r?.id&&(e.assignedEmployeeId===r.id||e.assignedEmployee===r.name||e.assignedEmployee===r.username));return(0,i.jsxs)(n.Dialog,{open:e,onClose:s,maxWidth:"md",fullWidth:!0,children:[(0,i.jsx)(o.DialogTitle,{children:a?"Admin Client Assignment":"Your Clients"}),(0,i.jsxs)(d.DialogContent,{children:[M&&(0,i.jsx)(v.Alert,{severity:"error",onClose:()=>A(null),sx:{mb:2},children:M}),E?(0,i.jsx)(S.Box,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,i.jsx)(b.CircularProgress,{})}):(0,i.jsxs)(h.Table,{children:[(0,i.jsx)(m.TableHead,{children:(0,i.jsxs)(g.TableRow,{children:[(0,i.jsx)(p.TableCell,{children:"Client Name"}),(0,i.jsx)(p.TableCell,{children:"Company"}),(0,i.jsx)(p.TableCell,{children:"Email"}),(0,i.jsx)(p.TableCell,{children:"Assigned Employee"}),a&&(0,i.jsx)(p.TableCell,{children:"Change Assignment"})]})}),(0,i.jsxs)(f.TableBody,{children:[N.map(e=>(0,i.jsxs)(g.TableRow,{children:[(0,i.jsx)(p.TableCell,{children:e.name}),(0,i.jsx)(p.TableCell,{children:e.company}),(0,i.jsx)(p.TableCell,{children:e.email}),(0,i.jsx)(p.TableCell,{children:O(e.assignedEmployeeId)}),a&&(0,i.jsxs)(p.TableCell,{children:[(0,i.jsx)(x.FormControl,{variant:"standard",size:"small",fullWidth:!0,children:(0,i.jsxs)(y.Select,{value:e.assignedEmployeeId||"",onChange:t=>R(e.id,t.target.value?Number(t.target.value):null),disabled:!!_[e.id],children:[(0,i.jsx)(j.MenuItem,{value:"",children:(0,i.jsx)("em",{children:"Unassign"})}),l.map(e=>(0,i.jsxs)(j.MenuItem,{value:e.id,children:[e.name," ",e.is_admin?"(Admin)":""]},e.id))]})}),_[e.id]&&(0,i.jsx)(b.CircularProgress,{size:16,sx:{ml:1}})]})]},e.id)),0===N.length&&(0,i.jsx)(g.TableRow,{children:(0,i.jsx)(p.TableCell,{colSpan:a?5:4,align:"center",sx:{py:4},children:(0,i.jsx)(w.Typography,{variant:"body2",color:"text.secondary",children:"No client records found."})})})]})]})]}),(0,i.jsxs)(c.DialogActions,{children:[(0,i.jsx)(u.Button,{onClick:F,disabled:E,children:"Refresh"}),(0,i.jsx)(u.Button,{onClick:s,children:"Close"})]})]})}e.s(["default",()=>T],268914)},335303,(e,t,s)=>{"use strict";var r=e.r(991074);Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=r(e.r(764800)),l=e.r(444855);s.default=(0,a.default)((0,l.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"}),"RestartAlt")},907693,e=>{"use strict";var t=e.i(896335),s=e.i(444855),r=e.i(958891),a=e.i(574614),l=e.i(715915),i=e.i(65790),n=e.i(415708),o=e.i(910251),d=e.i(975557),c=e.i(39972),u=e.i(920161),h=e.i(683161),f=e.i(647617),p=e.i(809109),m=e.i(86012),g=e.i(192378),x=e.i(732327),y=e.i(454385),j=e.i(633948),b=e.i(718295),v=e.i(92279),S=e.i(147379),w=e.i(337025),C=e.i(905456),T=e.i(18394),k=e.i(424918),P=e.i(335303),_=e.i(235134),I=e.i(888522),E=e.i(560472),B=e.i(310600),M=e.i(154959),A=e.i(820887),F=e.i(21504),O=e.i(505385),R=e.i(513654),N=e.i(268914),L=e.i(983344);function $(){(0,L.useRouter)();let{settings:e,updateDashboardSettings:F,updateApiKeys:$,resetSettings:W}=(0,O.useSettings)(),[D,U]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let e=(0,R.getBackendUrl)();console.log("[Settings] Fetching profile from:",`${e}/api/profile`);let t=await fetch(`${e}/api/profile`,{credentials:"include"});if(console.log("[Settings] Profile response status:",t.status),t.ok){let e=await t.json();console.log("[Settings] Profile data received:",e),U(e)}else{let e=`HTTP ${t.status}`;try{let s=await t.json();e=s.error||s.message||e}catch(s){let e=await t.text();console.error("[Settings] Failed to fetch profile (non-JSON):",t.status,e.substring(0,200))}console.error("[Settings] Failed to fetch user profile:",e)}}catch(e){console.error("[Settings] Error fetching user profile:",e)}})()},[]);let[z,J]=(0,r.useState)(!1),[V,K]=(0,r.useState)(!1),[H,G]=(0,r.useState)(null),[X,q]=(0,r.useState)(null),Y=async()=>{K(!0),q(null),G(null);try{let e=t.default.env.NEXT_PUBLIC_WORDPRESS_URL||"https://blog.isharehow.app",s=`${e}/wp-json/wp/v2`,r=await fetch(`${s}/posts?_embed&per_page=100&status=publish&orderby=date&order=desc`);if(!r.ok)throw Error(`WordPress API error: ${r.status} ${r.statusText}`);let a=(await r.json()).map(e=>{let t=null;if(e.featured_media&&e.featured_media>0){let s=e._embedded?.["wp:featuredmedia"]?.[0];s&&(t=s.source_url||s.media_details?.sizes?.full?.source_url||null)}let s=[];e._embedded?.["wp:term"]?.[0]&&e._embedded["wp:term"][0].forEach(e=>{"category"===e.taxonomy&&e.name&&s.push(e.name)}),e._embedded?.["wp:term"]?.[1]&&e._embedded["wp:term"][1].forEach(e=>{"post_tag"===e.taxonomy&&e.name&&s.push(e.name)});let r=[];if(e._embedded?.author?.[0]){let t=e._embedded.author[0];r.push(t.slug||`author-${t.id}`)}let a="";e.excerpt?.rendered&&(a=e.excerpt.rendered.replace(/<[^>]*>/g,"").trim()).length>200&&(a=a.substring(0,200).trim()+"...");let l={slug:e.slug,title:e.title?.rendered||e.title||"",description:a,date:e.date||e.modified,tags:s,authors:r.length>0?r:["isharehow"],content:e.content?.rendered||e.content};return t&&(l.image=t),l}),l={};a.forEach(e=>{e.tags.forEach(e=>{l[e]=(l[e]||0)+1})}),localStorage.setItem("blogPosts",JSON.stringify(a)),localStorage.setItem("blogTagInfo",JSON.stringify(l)),localStorage.setItem("blogPostsLastRefresh",new Date().toISOString()),window.dispatchEvent(new Event("blogPostsRefreshed")),G(`Successfully refreshed ${a.length} blog posts!`),setTimeout(()=>G(null),5e3)}catch(e){console.error("Error refreshing blog posts:",e),q(e.message||"Failed to refresh blog posts"),setTimeout(()=>q(null),5e3)}finally{K(!1)}},Q=async()=>{if(!ea.trim()||!ei.trim())return void em("Title and message are required");eu(!0),em(null),ef(null);try{let e=(0,R.getBackendUrl)();if("all"===eo){let t=await fetch(`${e}/api/notifications/broadcast`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:es,title:ea,message:ei,metadata:{admin:!0,sentBy:D?.username||"admin"}})});if(!t.ok){let e=await t.json().catch(()=>({error:"Failed to send notification"}));throw Error(e.error||"Failed to send notification")}ef("Notification sent to all users successfully!")}else{let t=await fetch(`${e}/api/notifications`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:es,title:ea,message:ei,metadata:{admin:!0,sentBy:D?.username||"admin"}})});if(!t.ok){let e=await t.json().catch(()=>({error:"Failed to send notification"}));throw Error(e.error||"Failed to send notification")}ef("Notification sent successfully!")}el(""),en("")}catch(e){em(e.message||"Failed to send notification")}finally{eu(!1)}},Z=D?.isAdmin||D?.patreonId===0x36255b0||D?.username==="isharehow"||D?.id==="isharehow"||D?.id==="admin"||D?.username==="admin"||D?.email==="jeliyah@isharehowlabs.com"||D?.username&&"isharehow"===D.username.toLowerCase()||D?.id&&"isharehow"===String(D.id).toLowerCase()||D?.id&&"admin"===String(D.id).toLowerCase(),[ee,et]=(0,r.useState)(0),[es,er]=(0,r.useState)("admin"),[ea,el]=(0,r.useState)(""),[ei,en]=(0,r.useState)(""),[eo,ed]=(0,r.useState)("self"),[ec,eu]=(0,r.useState)(!1),[eh,ef]=(0,r.useState)(null),[ep,em]=(0,r.useState)(null),[eg,ex]=(0,r.useState)([]),[ey,ej]=(0,r.useState)(!1),[eb,ev]=(0,r.useState)(null),[eS,ew]=(0,r.useState)(!1),[eC,eT]=(0,r.useState)(!1),[ek,eP]=(0,r.useState)(null),[e_,eI]=(0,r.useState)(""),[eE,eB]=(0,r.useState)(""),[eM,eA]=(0,r.useState)(!1),[eF,eO]=(0,r.useState)(null);(0,r.useEffect)(()=>{Z&&2===ee&&eR()},[Z,ee]);let eR=async()=>{ej(!0),ev(null);try{let e=(0,R.getBackendUrl)(),t=await fetch(`${e}/api/admin/users`,{credentials:"include"});if(t.ok){let e=await t.json();ex(e.users||[])}else{let e=await t.json().catch(()=>({error:`HTTP ${t.status}`}));ev(e.error||`Failed to load users (${t.status})`)}}catch(e){console.error("Error fetching employees:",e),ev(e.message||"Failed to load users")}finally{ej(!1)}},eN=()=>{eT(!1),eP(null),eI(""),eB(""),eO(null)},eL=async()=>{if(ek){if(!e_||e_.length<6)return void eO("Password must be at least 6 characters");if(e_!==eE)return void eO("Passwords do not match");eA(!0),eO(null);try{let e=(0,R.getBackendUrl)(),t=ek.id||ek.username||ek.user_id,s=encodeURIComponent(t),r=await fetch(`${e}/api/admin/users/${s}/password`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e_})});if(r.ok)alert(`Password changed successfully for ${ek.name||ek.username||ek.email}`),eN();else{let e=await r.json();eO(e.error||"Failed to change password")}}catch(e){eO(e.message||"Failed to change password")}finally{eA(!1)}}};return(0,s.jsxs)(A.default,{active:"settings",children:[(0,s.jsxs)(a.Box,{sx:{maxWidth:1e3,mx:"auto"},children:[(0,s.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:4},children:[(0,s.jsx)(C.default,{sx:{fontSize:40,color:"primary.main"}}),(0,s.jsx)(l.Typography,{variant:"h4",sx:{fontWeight:700,background:"linear-gradient(45deg, #9146FF, #ff6b6b, #4ecdc4)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Settings"})]}),z&&(0,s.jsx)(p.Alert,{severity:"success",sx:{mb:3},onClose:()=>J(!1),children:"Settings have been reset to default values."}),(0,s.jsx)(i.Paper,{elevation:2,sx:{mb:3},children:(0,s.jsxs)(x.Tabs,{value:ee,onChange:(e,t)=>et(t),children:[(0,s.jsx)(y.Tab,{label:"General",icon:(0,s.jsx)(C.default,{}),iconPosition:"start"}),Z&&(0,s.jsx)(y.Tab,{label:"Admin",icon:(0,s.jsx)(_.default,{}),iconPosition:"start"})]})}),0===ee&&(0,s.jsxs)(a.Box,{children:[(0,s.jsxs)(i.Paper,{elevation:2,sx:{p:4,mb:3},children:[(0,s.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,s.jsx)(T.default,{color:"primary"}),(0,s.jsx)(l.Typography,{variant:"h6",sx:{fontWeight:600},children:"Dashboard Settings"})]}),(0,s.jsx)(o.Divider,{sx:{mb:3}}),(0,s.jsxs)(n.Stack,{spacing:3,children:[(0,s.jsxs)(h.FormControl,{fullWidth:!0,children:[(0,s.jsx)(f.InputLabel,{children:"Default Tab"}),(0,s.jsxs)(c.Select,{value:e.dashboard.defaultTab,label:"Default Tab",onChange:e=>F({defaultTab:Number(e.target.value)}),children:[(0,s.jsx)(u.MenuItem,{value:0,children:"Streaming"}),(0,s.jsx)(u.MenuItem,{value:1,children:"Designs & Code"}),(0,s.jsx)(u.MenuItem,{value:2,children:"Documents"}),(0,s.jsx)(u.MenuItem,{value:3,children:"Learning Hub"})]})]}),(0,s.jsxs)(h.FormControl,{fullWidth:!0,children:[(0,s.jsx)(f.InputLabel,{children:"Layout Style"}),(0,s.jsxs)(c.Select,{value:e.dashboard.layout,label:"Layout Style",onChange:e=>F({layout:e.target.value}),children:[(0,s.jsx)(u.MenuItem,{value:"grid",children:"Grid"}),(0,s.jsx)(u.MenuItem,{value:"list",children:"List"})]})]})]})]}),(0,s.jsxs)(i.Paper,{elevation:2,sx:{p:3,mb:3},children:[(0,s.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[(0,s.jsx)(M.default,{color:"primary"}),(0,s.jsx)(l.Typography,{variant:"h6",sx:{fontWeight:600},children:"Blog Management"})]}),(0,s.jsx)(o.Divider,{sx:{mb:2}}),H&&(0,s.jsx)(p.Alert,{severity:"success",sx:{mb:2},onClose:()=>G(null),children:H}),X&&(0,s.jsx)(p.Alert,{severity:"error",sx:{mb:2},onClose:()=>q(null),children:X}),(0,s.jsxs)(n.Stack,{spacing:2,children:[(0,s.jsxs)(a.Box,{children:[(0,s.jsx)(l.Typography,{variant:"body1",sx:{fontWeight:600,mb:1},children:"Refresh Blog Posts"}),(0,s.jsx)(l.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Manually fetch the latest blog posts from WordPress without rebuilding the site. The refreshed posts will be available immediately on the blog page."}),(0,s.jsx)(d.Button,{variant:"contained",color:"primary",startIcon:V?(0,s.jsx)(w.CircularProgress,{size:20}):(0,s.jsx)(k.default,{}),onClick:Y,disabled:V,children:V?"Refreshing...":"Refresh Blog Posts"})]}),localStorage.getItem("blogPostsLastRefresh")&&(0,s.jsxs)(l.Typography,{variant:"caption",color:"text.secondary",children:["Last refreshed: ",new Date(localStorage.getItem("blogPostsLastRefresh")||"").toLocaleString()]})]})]}),(0,s.jsx)(i.Paper,{elevation:2,sx:{p:3,mb:3},children:(0,s.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsxs)(a.Box,{children:[(0,s.jsx)(l.Typography,{variant:"h6",sx:{fontWeight:600,mb:1},children:"Reset Settings"}),(0,s.jsx)(l.Typography,{variant:"body2",color:"text.secondary",children:"Restore all settings to their default values"})]}),(0,s.jsx)(d.Button,{variant:"outlined",color:"error",startIcon:(0,s.jsx)(P.default,{}),onClick:()=>{W(),J(!0),setTimeout(()=>J(!1),3e3)},children:"Reset to Defaults"})]})})]}),1===ee&&Z&&(0,s.jsx)(a.Box,{children:(0,s.jsxs)(i.Paper,{elevation:3,sx:{p:4,mb:3,border:"2px solid gold"},children:[(0,s.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,s.jsx)(I.default,{sx:{color:"gold",fontSize:32}}),(0,s.jsx)(l.Typography,{variant:"h6",sx:{fontWeight:700,color:"gold"},children:"Send Notification"})]}),(0,s.jsx)(o.Divider,{sx:{mb:3,borderColor:"gold"}}),eh&&(0,s.jsx)(p.Alert,{severity:"success",sx:{mb:3},onClose:()=>ef(null),children:eh}),ep&&(0,s.jsx)(p.Alert,{severity:"error",sx:{mb:3},onClose:()=>em(null),children:ep}),(0,s.jsxs)(n.Stack,{spacing:3,children:[(0,s.jsxs)(h.FormControl,{fullWidth:!0,children:[(0,s.jsx)(f.InputLabel,{children:"Notification Type"}),(0,s.jsxs)(c.Select,{value:es,label:"Notification Type",onChange:e=>er(e.target.value),children:[(0,s.jsx)(u.MenuItem,{value:"admin",children:"Admin"}),(0,s.jsx)(u.MenuItem,{value:"system",children:"System"}),(0,s.jsx)(u.MenuItem,{value:"live-update",children:"Live Update"}),(0,s.jsx)(u.MenuItem,{value:"board",children:"Board"}),(0,s.jsx)(u.MenuItem,{value:"timer",children:"Timer"}),(0,s.jsx)(u.MenuItem,{value:"twitch",children:"Twitch"})]})]}),(0,s.jsxs)(h.FormControl,{fullWidth:!0,children:[(0,s.jsx)(f.InputLabel,{children:"Target"}),(0,s.jsxs)(c.Select,{value:eo,label:"Target",onChange:e=>ed(e.target.value),children:[(0,s.jsx)(u.MenuItem,{value:"self",children:"Send to Myself (Test)"}),(0,s.jsx)(u.MenuItem,{value:"all",children:"Send to All Users"})]})]}),(0,s.jsx)(g.TextField,{fullWidth:!0,label:"Title",value:ea,onChange:e=>el(e.target.value),placeholder:"Enter notification title",required:!0}),(0,s.jsx)(g.TextField,{fullWidth:!0,label:"Message",value:ei,onChange:e=>en(e.target.value),placeholder:"Enter notification message",multiline:!0,rows:4,required:!0}),(0,s.jsx)(d.Button,{variant:"contained",color:"primary",size:"large",startIcon:(0,s.jsx)(I.default,{}),onClick:Q,disabled:ec||!ea.trim()||!ei.trim(),sx:{alignSelf:"flex-start"},children:ec?"Sending...":"Send Notification"})]})]})})]}),(0,s.jsx)(N.default,{open:eS,onClose:()=>ew(!1),currentUser:D,isAdminView:Z}),(0,s.jsxs)(j.Dialog,{open:eC,onClose:eN,maxWidth:"sm",fullWidth:!0,children:[(0,s.jsx)(b.DialogTitle,{children:(0,s.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsxs)(n.Stack,{direction:"row",spacing:1,alignItems:"center",children:[(0,s.jsx)(E.default,{}),(0,s.jsx)(l.Typography,{variant:"h6",children:"Change Password"})]}),(0,s.jsx)(m.IconButton,{onClick:eN,size:"small",children:(0,s.jsx)(B.default,{})})]})}),(0,s.jsxs)(v.DialogContent,{children:[ek&&(0,s.jsxs)(a.Box,{sx:{mb:3},children:[(0,s.jsx)(l.Typography,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Changing password for:"}),(0,s.jsx)(l.Typography,{variant:"body1",fontWeight:600,children:ek.name||ek.username||ek.email}),ek.email&&(0,s.jsx)(l.Typography,{variant:"body2",color:"text.secondary",children:ek.email})]}),eF&&(0,s.jsx)(p.Alert,{severity:"error",sx:{mb:2},onClose:()=>eO(null),children:eF}),(0,s.jsxs)(n.Stack,{spacing:2,sx:{mt:1},children:[(0,s.jsx)(g.TextField,{fullWidth:!0,type:"password",label:"New Password",value:e_,onChange:e=>eI(e.target.value),placeholder:"Enter new password (min 6 characters)",disabled:eM,helperText:"Password must be at least 6 characters long"}),(0,s.jsx)(g.TextField,{fullWidth:!0,type:"password",label:"Confirm Password",value:eE,onChange:e=>eB(e.target.value),placeholder:"Confirm new password",disabled:eM,error:""!==eE&&e_!==eE,helperText:""!==eE&&e_!==eE?"Passwords do not match":""})]})]}),(0,s.jsxs)(S.DialogActions,{children:[(0,s.jsx)(d.Button,{onClick:eN,disabled:eM,children:"Cancel"}),(0,s.jsx)(d.Button,{onClick:eL,variant:"contained",disabled:eM||!e_||!eE||e_!==eE||e_.length<6,startIcon:eM?(0,s.jsx)(w.CircularProgress,{size:20}):(0,s.jsx)(E.default,{}),children:eM?"Changing...":"Change Password"})]})]})]})}e.s(["default",0,function(){return(0,s.jsx)(F.default,{children:(0,s.jsx)($,{})})}])},889419,(e,t,s)=>{let r="/settings";(window.__NEXT_P=window.__NEXT_P||[]).push([r,()=>e.r(907693)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([r])})},609781,e=>{e.v(t=>Promise.all(["static/chunks/77e64bebeb31771c.js"].map(t=>e.l(t))).then(()=>t(94246)))},590413,e=>{e.v(t=>Promise.all(["static/chunks/71fa757b12be6d50.js"].map(t=>e.l(t))).then(()=>t(618636)))}]);