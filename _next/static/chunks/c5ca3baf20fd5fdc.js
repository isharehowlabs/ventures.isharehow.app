(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35303,(e,t,s)=>{"use strict";var a=e.r(91074);Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=a(e.r(64800)),r=e.r(44855);s.default=(0,l.default)((0,r.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"}),"RestartAlt")},35134,(e,t,s)=>{"use strict";var a=e.r(91074);Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=a(e.r(64800)),r=e.r(44855);s.default=(0,l.default)([(0,r.jsx)("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),(0,r.jsx)("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings")},31862,(e,t,s)=>{"use strict";var a=e.r(91074);Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=a(e.r(64800)),r=e.r(44855);s.default=(0,l.default)((0,r.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment")},60472,(e,t,s)=>{"use strict";var a=e.r(91074);Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=a(e.r(64800)),r=e.r(44855);s.default=(0,l.default)((0,r.jsx)("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"VpnKey")},7693,e=>{"use strict";var t=e.i(96335),s=e.i(44855),a=e.i(58891),l=e.i(74614),r=e.i(15915),i=e.i(65790),n=e.i(15708),o=e.i(10251),d=e.i(75557),c=e.i(39972),u=e.i(20161),h=e.i(83161),m=e.i(47617),g=e.i(9109),x=e.i(86012),p=e.i(92378),f=e.i(32327),j=e.i(54385),y=e.i(33948),b=e.i(18295),v=e.i(92279),w=e.i(47379),S=e.i(37025),T=e.i(5456),C=e.i(18394),k=e.i(24918),P=e.i(35303),I=e.i(35134),E=e.i(88522),_=e.i(31862),B=e.i(60472),F=e.i(10600),M=e.i(54959),W=e.i(20887),A=e.i(21504),$=e.i(5385),L=e.i(13654),N=e.i(94367),O=e.i(87225),R=e.i(33932),D=e.i(7656),U=e.i(50723);function z({open:e,onClose:t,currentUser:i,isAdminView:n}){let[o,m]=(0,a.useState)([]),[x,p]=(0,a.useState)([]),[f,j]=(0,a.useState)({}),[T,C]=(0,a.useState)(!0),[k,P]=(0,a.useState)(null);(0,a.useEffect)(()=>{e&&I()},[e]);let I=async()=>{C(!0),P(null);try{let e=(0,L.getBackendUrl)(),t=await fetch(`${e}/api/creative/employees`,{credentials:"include"});if(!t.ok){let e=await t.json().catch(()=>({error:`HTTP ${t.status}`}));throw Error(e.error||`Failed to fetch employees (${t.status})`)}let s=await t.json();m(s.employees||[]);let a=await fetch(`${e}/api/creative/clients`,{credentials:"include"});if(!a.ok){let e=await a.json().catch(()=>({error:`HTTP ${a.status}`}));throw Error(e.error||`Failed to fetch clients (${a.status})`)}let l=await a.json();p(l.clients||[])}catch(e){console.error("Error fetching data:",e),P(e.message||"Failed to load data")}finally{C(!1)}},E=(0,a.useCallback)(e=>{if(!e)return"(unassigned)";let t=o.find(t=>t.id===Number(e));return t?t.name:"(unassigned)"},[o]),_=async(e,t)=>{j(t=>({...t,[e]:!0})),P(null);try{let s=(0,L.getBackendUrl)(),a=null;if(t){let e=o.find(e=>e.id===t);a=e?e.name:null}let l=await fetch(`${s}/api/creative/clients/${e}/assign-employee`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({employee_id:t,employee_name:a})});if(!l.ok){let e=await l.json().catch(()=>({error:"Failed to assign employee"}));throw Error(e.error||"Failed to assign employee")}p(s=>s.map(s=>s.id===e?{...s,assignedEmployee:a||void 0,assignedEmployeeId:t||void 0}:s))}catch(e){console.error("Error assigning employee:",e),P(e.message||"Failed to assign employee")}finally{j(t=>({...t,[e]:!1}))}},B=n?x:x.filter(e=>!!i?.id&&(e.assignedEmployeeId===i.id||e.assignedEmployee===i.name||e.assignedEmployee===i.username));return(0,s.jsxs)(y.Dialog,{open:e,onClose:t,maxWidth:"md",fullWidth:!0,children:[(0,s.jsx)(b.DialogTitle,{children:n?"Admin Client Assignment":"Your Clients"}),(0,s.jsxs)(v.DialogContent,{children:[k&&(0,s.jsx)(g.Alert,{severity:"error",onClose:()=>P(null),sx:{mb:2},children:k}),T?(0,s.jsx)(l.Box,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,s.jsx)(S.CircularProgress,{})}):(0,s.jsxs)(N.Table,{children:[(0,s.jsx)(D.TableHead,{children:(0,s.jsxs)(U.TableRow,{children:[(0,s.jsx)(R.TableCell,{children:"Client Name"}),(0,s.jsx)(R.TableCell,{children:"Company"}),(0,s.jsx)(R.TableCell,{children:"Email"}),(0,s.jsx)(R.TableCell,{children:"Assigned Employee"}),n&&(0,s.jsx)(R.TableCell,{children:"Change Assignment"})]})}),(0,s.jsxs)(O.TableBody,{children:[B.map(e=>(0,s.jsxs)(U.TableRow,{children:[(0,s.jsx)(R.TableCell,{children:e.name}),(0,s.jsx)(R.TableCell,{children:e.company}),(0,s.jsx)(R.TableCell,{children:e.email}),(0,s.jsx)(R.TableCell,{children:E(e.assignedEmployeeId)}),n&&(0,s.jsxs)(R.TableCell,{children:[(0,s.jsx)(h.FormControl,{variant:"standard",size:"small",fullWidth:!0,children:(0,s.jsxs)(c.Select,{value:e.assignedEmployeeId||"",onChange:t=>_(e.id,t.target.value?Number(t.target.value):null),disabled:!!f[e.id],children:[(0,s.jsx)(u.MenuItem,{value:"",children:(0,s.jsx)("em",{children:"Unassign"})}),o.map(e=>(0,s.jsxs)(u.MenuItem,{value:e.id,children:[e.name," ",e.is_admin?"(Admin)":""]},e.id))]})}),f[e.id]&&(0,s.jsx)(S.CircularProgress,{size:16,sx:{ml:1}})]})]},e.id)),0===B.length&&(0,s.jsx)(U.TableRow,{children:(0,s.jsx)(R.TableCell,{colSpan:n?5:4,align:"center",sx:{py:4},children:(0,s.jsx)(r.Typography,{variant:"body2",color:"text.secondary",children:"No client records found."})})})]})]})]}),(0,s.jsxs)(w.DialogActions,{children:[(0,s.jsx)(d.Button,{onClick:I,disabled:T,children:"Refresh"}),(0,s.jsx)(d.Button,{onClick:t,children:"Close"})]})]})}var H=e.i(83344);function J(){(0,H.useRouter)();let{settings:e,updateDashboardSettings:A,updateApiKeys:N,resetSettings:O}=(0,$.useSettings)(),[R,D]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{let e=(0,L.getBackendUrl)();console.log("[Settings] Fetching profile from:",`${e}/api/profile`);let t=await fetch(`${e}/api/profile`,{credentials:"include"});if(console.log("[Settings] Profile response status:",t.status),t.ok){let e=await t.json();console.log("[Settings] Profile data received:",e),D(e)}else{let e=`HTTP ${t.status}`;try{let s=await t.json();e=s.error||s.message||e}catch(s){let e=await t.text();console.error("[Settings] Failed to fetch profile (non-JSON):",t.status,e.substring(0,200))}console.error("[Settings] Failed to fetch user profile:",e)}}catch(e){console.error("[Settings] Error fetching user profile:",e)}})()},[]);let[U,J]=(0,a.useState)(!1),[V,X]=(0,a.useState)(!1),[q,K]=(0,a.useState)(null),[G,Y]=(0,a.useState)(null),[Q,Z]=(0,a.useState)(!1),[ee,et]=(0,a.useState)(null),[es,ea]=(0,a.useState)(null),el=async()=>{Z(!0),ea(null),et(null);try{let e=(0,L.getBackendUrl)(),t=await fetch(`${e}/api/admin/tasks/link-to-user`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:"isharehow"})});if(!t.ok){let e=await t.json().catch(()=>({error:"Failed to link tasks"}));throw Error(e.error||e.message||"Failed to link tasks")}let s=await t.json();et(s.message||`Successfully linked ${s.linkedCount||0} tasks to isharehow user!`),setTimeout(()=>et(null),5e3)}catch(e){console.error("Error linking tasks:",e),ea(e.message||"Failed to link tasks"),setTimeout(()=>ea(null),5e3)}finally{Z(!1)}},er=async()=>{X(!0),Y(null),K(null);try{let e=t.default.env.NEXT_PUBLIC_WORDPRESS_URL||"https://blog.isharehow.app",s=`${e}/wp-json/wp/v2`,a=await fetch(`${s}/posts?_embed&per_page=100&status=publish&orderby=date&order=desc`);if(!a.ok)throw Error(`WordPress API error: ${a.status} ${a.statusText}`);let l=(await a.json()).map(e=>{let t=null;if(e.featured_media&&e.featured_media>0){let s=e._embedded?.["wp:featuredmedia"]?.[0];s&&(t=s.source_url||s.media_details?.sizes?.full?.source_url||null)}let s=[];e._embedded?.["wp:term"]?.[0]&&e._embedded["wp:term"][0].forEach(e=>{"category"===e.taxonomy&&e.name&&s.push(e.name)}),e._embedded?.["wp:term"]?.[1]&&e._embedded["wp:term"][1].forEach(e=>{"post_tag"===e.taxonomy&&e.name&&s.push(e.name)});let a=[];if(e._embedded?.author?.[0]){let t=e._embedded.author[0];a.push(t.slug||`author-${t.id}`)}let l="";e.excerpt?.rendered&&(l=e.excerpt.rendered.replace(/<[^>]*>/g,"").trim()).length>200&&(l=l.substring(0,200).trim()+"...");let r={slug:e.slug,title:e.title?.rendered||e.title||"",description:l,date:e.date||e.modified,tags:s,authors:a.length>0?a:["isharehow"],content:e.content?.rendered||e.content};return t&&(r.image=t),r}),r={};l.forEach(e=>{e.tags.forEach(e=>{r[e]=(r[e]||0)+1})}),localStorage.setItem("blogPosts",JSON.stringify(l)),localStorage.setItem("blogTagInfo",JSON.stringify(r)),localStorage.setItem("blogPostsLastRefresh",new Date().toISOString()),window.dispatchEvent(new Event("blogPostsRefreshed")),K(`Successfully refreshed ${l.length} blog posts!`),setTimeout(()=>K(null),5e3)}catch(e){console.error("Error refreshing blog posts:",e),Y(e.message||"Failed to refresh blog posts"),setTimeout(()=>Y(null),5e3)}finally{X(!1)}},ei=async()=>{if(!eh.trim()||!eg.trim())return void eS("Title and message are required");ey(!0),eS(null),ev(null);try{let e=(0,L.getBackendUrl)();if("all"===ep){let t=await fetch(`${e}/api/notifications/broadcast`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:ec,title:eh,message:eg,metadata:{admin:!0,sentBy:R?.username||"admin"}})});if(!t.ok){let e=await t.json().catch(()=>({error:"Failed to send notification"}));throw Error(e.error||"Failed to send notification")}ev("Notification sent to all users successfully!")}else{let t=await fetch(`${e}/api/notifications`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:ec,title:eh,message:eg,metadata:{admin:!0,sentBy:R?.username||"admin"}})});if(!t.ok){let e=await t.json().catch(()=>({error:"Failed to send notification"}));throw Error(e.error||"Failed to send notification")}ev("Notification sent successfully!")}em(""),ex("")}catch(e){eS(e.message||"Failed to send notification")}finally{ey(!1)}},en=R?.isAdmin||R?.patreonId===0x36255b0||R?.username==="isharehow"||R?.id==="isharehow"||R?.id==="admin"||R?.username==="admin"||R?.email==="jeliyah@isharehowlabs.com"||R?.username&&"isharehow"===R.username.toLowerCase()||R?.id&&"isharehow"===String(R.id).toLowerCase()||R?.id&&"admin"===String(R.id).toLowerCase(),[eo,ed]=(0,a.useState)(0),[ec,eu]=(0,a.useState)("admin"),[eh,em]=(0,a.useState)(""),[eg,ex]=(0,a.useState)(""),[ep,ef]=(0,a.useState)("self"),[ej,ey]=(0,a.useState)(!1),[eb,ev]=(0,a.useState)(null),[ew,eS]=(0,a.useState)(null),[eT,eC]=(0,a.useState)([]),[ek,eP]=(0,a.useState)(!1),[eI,eE]=(0,a.useState)(null),[e_,eB]=(0,a.useState)(!1),[eF,eM]=(0,a.useState)(!1),[eW,eA]=(0,a.useState)(null),[e$,eL]=(0,a.useState)(""),[eN,eO]=(0,a.useState)(""),[eR,eD]=(0,a.useState)(!1),[eU,ez]=(0,a.useState)(null);(0,a.useEffect)(()=>{en&&2===eo&&eH()},[en,eo]);let eH=async()=>{eP(!0),eE(null);try{let e=(0,L.getBackendUrl)(),t=await fetch(`${e}/api/admin/users`,{credentials:"include"});if(t.ok){let e=await t.json();eC(e.users||[])}else{let e=await t.json().catch(()=>({error:`HTTP ${t.status}`}));eE(e.error||`Failed to load users (${t.status})`)}}catch(e){console.error("Error fetching employees:",e),eE(e.message||"Failed to load users")}finally{eP(!1)}},eJ=()=>{eM(!1),eA(null),eL(""),eO(""),ez(null)},eV=async()=>{if(eW){if(!e$||e$.length<6)return void ez("Password must be at least 6 characters");if(e$!==eN)return void ez("Passwords do not match");eD(!0),ez(null);try{let e=(0,L.getBackendUrl)(),t=eW.id||eW.username||eW.user_id,s=encodeURIComponent(t),a=await fetch(`${e}/api/admin/users/${s}/password`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e$})});if(a.ok)alert(`Password changed successfully for ${eW.name||eW.username||eW.email}`),eJ();else{let e=await a.json();ez(e.error||"Failed to change password")}}catch(e){ez(e.message||"Failed to change password")}finally{eD(!1)}}};return(0,s.jsxs)(W.default,{active:"settings",children:[(0,s.jsxs)(l.Box,{sx:{maxWidth:1e3,mx:"auto"},children:[(0,s.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:4},children:[(0,s.jsx)(T.default,{sx:{fontSize:40,color:"primary.main"}}),(0,s.jsx)(r.Typography,{variant:"h4",sx:{fontWeight:700,background:"linear-gradient(45deg, #9146FF, #ff6b6b, #4ecdc4)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Settings"})]}),U&&(0,s.jsx)(g.Alert,{severity:"success",sx:{mb:3},onClose:()=>J(!1),children:"Settings have been reset to default values."}),(0,s.jsx)(i.Paper,{elevation:2,sx:{mb:3},children:(0,s.jsxs)(f.Tabs,{value:eo,onChange:(e,t)=>ed(t),children:[(0,s.jsx)(j.Tab,{label:"General",icon:(0,s.jsx)(T.default,{}),iconPosition:"start"}),en&&(0,s.jsx)(j.Tab,{label:"Admin",icon:(0,s.jsx)(I.default,{}),iconPosition:"start"})]})}),0===eo&&(0,s.jsxs)(l.Box,{children:[(0,s.jsxs)(i.Paper,{elevation:2,sx:{p:4,mb:3},children:[(0,s.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,s.jsx)(C.default,{color:"primary"}),(0,s.jsx)(r.Typography,{variant:"h6",sx:{fontWeight:600},children:"Dashboard Settings"})]}),(0,s.jsx)(o.Divider,{sx:{mb:3}}),(0,s.jsxs)(n.Stack,{spacing:3,children:[(0,s.jsxs)(h.FormControl,{fullWidth:!0,children:[(0,s.jsx)(m.InputLabel,{children:"Default Tab"}),(0,s.jsxs)(c.Select,{value:e.dashboard.defaultTab,label:"Default Tab",onChange:e=>A({defaultTab:Number(e.target.value)}),children:[(0,s.jsx)(u.MenuItem,{value:0,children:"Streaming"}),(0,s.jsx)(u.MenuItem,{value:1,children:"Designs & Code"}),(0,s.jsx)(u.MenuItem,{value:2,children:"Documents"}),(0,s.jsx)(u.MenuItem,{value:3,children:"Learning Hub"})]})]}),(0,s.jsxs)(h.FormControl,{fullWidth:!0,children:[(0,s.jsx)(m.InputLabel,{children:"Layout Style"}),(0,s.jsxs)(c.Select,{value:e.dashboard.layout,label:"Layout Style",onChange:e=>A({layout:e.target.value}),children:[(0,s.jsx)(u.MenuItem,{value:"grid",children:"Grid"}),(0,s.jsx)(u.MenuItem,{value:"list",children:"List"})]})]})]})]}),(0,s.jsxs)(i.Paper,{elevation:2,sx:{p:3,mb:3},children:[(0,s.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[(0,s.jsx)(M.default,{color:"primary"}),(0,s.jsx)(r.Typography,{variant:"h6",sx:{fontWeight:600},children:"Blog Management"})]}),(0,s.jsx)(o.Divider,{sx:{mb:2}}),q&&(0,s.jsx)(g.Alert,{severity:"success",sx:{mb:2},onClose:()=>K(null),children:q}),G&&(0,s.jsx)(g.Alert,{severity:"error",sx:{mb:2},onClose:()=>Y(null),children:G}),(0,s.jsxs)(n.Stack,{spacing:2,children:[(0,s.jsxs)(l.Box,{children:[(0,s.jsx)(r.Typography,{variant:"body1",sx:{fontWeight:600,mb:1},children:"Refresh Blog Posts"}),(0,s.jsx)(r.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Manually fetch the latest blog posts from WordPress without rebuilding the site. The refreshed posts will be available immediately on the blog page."}),(0,s.jsx)(d.Button,{variant:"contained",color:"primary",startIcon:V?(0,s.jsx)(S.CircularProgress,{size:20}):(0,s.jsx)(k.default,{}),onClick:er,disabled:V,children:V?"Refreshing...":"Refresh Blog Posts"})]}),localStorage.getItem("blogPostsLastRefresh")&&(0,s.jsxs)(r.Typography,{variant:"caption",color:"text.secondary",children:["Last refreshed: ",new Date(localStorage.getItem("blogPostsLastRefresh")||"").toLocaleString()]})]})]}),(0,s.jsx)(i.Paper,{elevation:2,sx:{p:3,mb:3},children:(0,s.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsxs)(l.Box,{children:[(0,s.jsx)(r.Typography,{variant:"h6",sx:{fontWeight:600,mb:1},children:"Reset Settings"}),(0,s.jsx)(r.Typography,{variant:"body2",color:"text.secondary",children:"Restore all settings to their default values"})]}),(0,s.jsx)(d.Button,{variant:"outlined",color:"error",startIcon:(0,s.jsx)(P.default,{}),onClick:()=>{O(),J(!0),setTimeout(()=>J(!1),3e3)},children:"Reset to Defaults"})]})})]}),1===eo&&en&&(0,s.jsxs)(l.Box,{children:[(0,s.jsxs)(i.Paper,{elevation:3,sx:{p:4,mb:3,border:"2px solid gold"},children:[(0,s.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,s.jsx)(E.default,{sx:{color:"gold",fontSize:32}}),(0,s.jsx)(r.Typography,{variant:"h6",sx:{fontWeight:700,color:"gold"},children:"Send Notification"})]}),(0,s.jsx)(o.Divider,{sx:{mb:3,borderColor:"gold"}}),eb&&(0,s.jsx)(g.Alert,{severity:"success",sx:{mb:3},onClose:()=>ev(null),children:eb}),ew&&(0,s.jsx)(g.Alert,{severity:"error",sx:{mb:3},onClose:()=>eS(null),children:ew}),(0,s.jsxs)(n.Stack,{spacing:3,children:[(0,s.jsxs)(h.FormControl,{fullWidth:!0,children:[(0,s.jsx)(m.InputLabel,{children:"Notification Type"}),(0,s.jsxs)(c.Select,{value:ec,label:"Notification Type",onChange:e=>eu(e.target.value),children:[(0,s.jsx)(u.MenuItem,{value:"admin",children:"Admin"}),(0,s.jsx)(u.MenuItem,{value:"system",children:"System"}),(0,s.jsx)(u.MenuItem,{value:"live-update",children:"Live Update"}),(0,s.jsx)(u.MenuItem,{value:"board",children:"Board"}),(0,s.jsx)(u.MenuItem,{value:"timer",children:"Timer"}),(0,s.jsx)(u.MenuItem,{value:"twitch",children:"Twitch"})]})]}),(0,s.jsxs)(h.FormControl,{fullWidth:!0,children:[(0,s.jsx)(m.InputLabel,{children:"Target"}),(0,s.jsxs)(c.Select,{value:ep,label:"Target",onChange:e=>ef(e.target.value),children:[(0,s.jsx)(u.MenuItem,{value:"self",children:"Send to Myself (Test)"}),(0,s.jsx)(u.MenuItem,{value:"all",children:"Send to All Users"})]})]}),(0,s.jsx)(p.TextField,{fullWidth:!0,label:"Title",value:eh,onChange:e=>em(e.target.value),placeholder:"Enter notification title",required:!0}),(0,s.jsx)(p.TextField,{fullWidth:!0,label:"Message",value:eg,onChange:e=>ex(e.target.value),placeholder:"Enter notification message",multiline:!0,rows:4,required:!0}),(0,s.jsx)(d.Button,{variant:"contained",color:"primary",size:"large",startIcon:(0,s.jsx)(E.default,{}),onClick:ei,disabled:ej||!eh.trim()||!eg.trim(),sx:{alignSelf:"flex-start"},children:ej?"Sending...":"Send Notification"})]})]}),(0,s.jsxs)(i.Paper,{elevation:3,sx:{p:4,mb:3,border:"2px solid gold"},children:[(0,s.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[(0,s.jsx)(_.default,{sx:{color:"gold",fontSize:32}}),(0,s.jsx)(r.Typography,{variant:"h6",sx:{fontWeight:700,color:"gold"},children:"Task Management"})]}),(0,s.jsx)(o.Divider,{sx:{mb:3,borderColor:"gold"}}),ee&&(0,s.jsx)(g.Alert,{severity:"success",sx:{mb:3},onClose:()=>et(null),children:ee}),es&&(0,s.jsx)(g.Alert,{severity:"error",sx:{mb:3},onClose:()=>ea(null),children:es}),(0,s.jsx)(n.Stack,{spacing:3,children:(0,s.jsxs)(l.Box,{children:[(0,s.jsx)(r.Typography,{variant:"body1",sx:{fontWeight:600,mb:1},children:"Link Old Tasks to isharehow User"}),(0,s.jsx)(r.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Link all old tasks in the database that don't have a creator assigned to the isharehow user account. This will make them visible again in your task lists."}),(0,s.jsx)(d.Button,{variant:"contained",color:"primary",startIcon:Q?(0,s.jsx)(S.CircularProgress,{size:20}):(0,s.jsx)(_.default,{}),onClick:el,disabled:Q,children:Q?"Linking Tasks...":"Link Old Tasks to isharehow"})]})})]})]})]}),(0,s.jsx)(z,{open:e_,onClose:()=>eB(!1),currentUser:R,isAdminView:en}),(0,s.jsxs)(y.Dialog,{open:eF,onClose:eJ,maxWidth:"sm",fullWidth:!0,children:[(0,s.jsx)(b.DialogTitle,{children:(0,s.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsxs)(n.Stack,{direction:"row",spacing:1,alignItems:"center",children:[(0,s.jsx)(B.default,{}),(0,s.jsx)(r.Typography,{variant:"h6",children:"Change Password"})]}),(0,s.jsx)(x.IconButton,{onClick:eJ,size:"small",children:(0,s.jsx)(F.default,{})})]})}),(0,s.jsxs)(v.DialogContent,{children:[eW&&(0,s.jsxs)(l.Box,{sx:{mb:3},children:[(0,s.jsx)(r.Typography,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Changing password for:"}),(0,s.jsx)(r.Typography,{variant:"body1",fontWeight:600,children:eW.name||eW.username||eW.email}),eW.email&&(0,s.jsx)(r.Typography,{variant:"body2",color:"text.secondary",children:eW.email})]}),eU&&(0,s.jsx)(g.Alert,{severity:"error",sx:{mb:2},onClose:()=>ez(null),children:eU}),(0,s.jsxs)(n.Stack,{spacing:2,sx:{mt:1},children:[(0,s.jsx)(p.TextField,{fullWidth:!0,type:"password",label:"New Password",value:e$,onChange:e=>eL(e.target.value),placeholder:"Enter new password (min 6 characters)",disabled:eR,helperText:"Password must be at least 6 characters long"}),(0,s.jsx)(p.TextField,{fullWidth:!0,type:"password",label:"Confirm Password",value:eN,onChange:e=>eO(e.target.value),placeholder:"Confirm new password",disabled:eR,error:""!==eN&&e$!==eN,helperText:""!==eN&&e$!==eN?"Passwords do not match":""})]})]}),(0,s.jsxs)(w.DialogActions,{children:[(0,s.jsx)(d.Button,{onClick:eJ,disabled:eR,children:"Cancel"}),(0,s.jsx)(d.Button,{onClick:eV,variant:"contained",disabled:eR||!e$||!eN||e$!==eN||e$.length<6,startIcon:eR?(0,s.jsx)(S.CircularProgress,{size:20}):(0,s.jsx)(B.default,{}),children:eR?"Changing...":"Change Password"})]})]})]})}e.s(["default",0,function(){return(0,s.jsx)(A.default,{children:(0,s.jsx)(J,{})})}],7693)},89419,(e,t,s)=>{let a="/settings";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(7693)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})}]);