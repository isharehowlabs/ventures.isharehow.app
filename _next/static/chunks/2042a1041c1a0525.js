(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,12895,(e,r,t)=>{"use strict";var i=e.r(91074);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(e.r(64800)),n=e.r(44855);t.default=(0,a.default)((0,n.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email")},52377,(e,r,t)=>{"use strict";var i=e.r(91074);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(e.r(64800)),n=e.r(44855);t.default=(0,a.default)((0,n.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")},54704,e=>{"use strict";e.i(96335);var r=e.i(80622),t=e.i(84933),i=e.i(58891),a=e.i(81706),n=e.i(69631),s=e.i(66188),o=e.i(15127),l=e.i(95262),c=e.i(96861),d=e.i(2844);let p=i.createContext();var h=e.i(51480),x=e.i(13740);function u(e){return(0,x.default)("MuiGrid",e)}let m=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],y=(0,h.default)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map(e=>`spacing-xs-${e}`),...["column-reverse","column","row-reverse","row"].map(e=>`direction-xs-${e}`),...["nowrap","wrap-reverse","wrap"].map(e=>`wrap-xs-${e}`),...m.map(e=>`grid-xs-${e}`),...m.map(e=>`grid-sm-${e}`),...m.map(e=>`grid-md-${e}`),...m.map(e=>`grid-lg-${e}`),...m.map(e=>`grid-xl-${e}`)]);var f=e.i(44855);let g=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function b(e){let r=parseFloat(e);return`${r}${String(e).replace(String(r),"")||"px"}`}function j({breakpoints:e,values:r}){let t="";Object.keys(r).forEach(e=>{""===t&&0!==r[e]&&(t=e)});let i=Object.keys(e).sort((r,t)=>e[r]-e[t]);return i.slice(0,i.indexOf(t))}let v=(0,l.default)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,r)=>{let{ownerState:t}=e,{container:i,direction:a,item:n,spacing:s,wrap:o,zeroMinWidth:l,breakpoints:c}=t,d=[];i&&(d=function(e,r,t={}){if(!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return[t[`spacing-xs-${String(e)}`]];let i=[];return r.forEach(r=>{let a=e[r];Number(a)>0&&i.push(t[`spacing-${r}-${String(a)}`])}),i}(s,c,r));let p=[];return c.forEach(e=>{let i=t[e];i&&p.push(r[`grid-${e}-${String(i)}`])}),[r.root,i&&r.container,n&&r.item,l&&r.zeroMinWidth,...d,"row"!==a&&r[`direction-xs-${String(a)}`],"wrap"!==o&&r[`wrap-xs-${String(o)}`],...p]}})(({ownerState:e})=>(0,t.default)({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},"wrap"!==e.wrap&&{flexWrap:e.wrap}),function({theme:e,ownerState:r}){let t=(0,n.resolveBreakpointValues)({values:r.direction,breakpoints:e.breakpoints.values});return(0,n.handleBreakpoints)({theme:e},t,e=>{let r={flexDirection:e};return 0===e.indexOf("column")&&(r[`& > .${y.item}`]={maxWidth:"none"}),r})},function({theme:e,ownerState:r}){let{container:t,rowSpacing:i}=r,a={};if(t&&0!==i){let r,t=(0,n.resolveBreakpointValues)({values:i,breakpoints:e.breakpoints.values});"object"==typeof t&&(r=j({breakpoints:e.breakpoints.values,values:t})),a=(0,n.handleBreakpoints)({theme:e},t,(t,i)=>{var a;let n=e.spacing(t);return"0px"!==n?{marginTop:`-${b(n)}`,[`& > .${y.item}`]:{paddingTop:b(n)}}:null!=(a=r)&&a.includes(i)?{}:{marginTop:0,[`& > .${y.item}`]:{paddingTop:0}}})}return a},function({theme:e,ownerState:r}){let{container:t,columnSpacing:i}=r,a={};if(t&&0!==i){let r,t=(0,n.resolveBreakpointValues)({values:i,breakpoints:e.breakpoints.values});"object"==typeof t&&(r=j({breakpoints:e.breakpoints.values,values:t})),a=(0,n.handleBreakpoints)({theme:e},t,(t,i)=>{var a;let n=e.spacing(t);return"0px"!==n?{width:`calc(100% + ${b(n)})`,marginLeft:`-${b(n)}`,[`& > .${y.item}`]:{paddingLeft:b(n)}}:null!=(a=r)&&a.includes(i)?{}:{width:"100%",marginLeft:0,[`& > .${y.item}`]:{paddingLeft:0}}})}return a},function({theme:e,ownerState:r}){let i;return e.breakpoints.keys.reduce((a,s)=>{let o={};if(r[s]&&(i=r[s]),!i)return a;if(!0===i)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===i)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{let l=(0,n.resolveBreakpointValues)({values:r.columns,breakpoints:e.breakpoints.values}),c="object"==typeof l?l[s]:l;if(null==c)return a;let d=`${Math.round(i/c*1e8)/1e6}%`,p={};if(r.container&&r.item&&0!==r.columnSpacing){let t=e.spacing(r.columnSpacing);if("0px"!==t){let e=`calc(${d} + ${b(t)})`;p={flexBasis:e,maxWidth:e}}}o=(0,t.default)({flexBasis:d,flexGrow:0,maxWidth:d},p)}return 0===e.breakpoints.values[s]?Object.assign(a,o):a[e.breakpoints.up(s)]=o,a},{})}),k=i.forwardRef(function(e,n){let l=(0,c.useDefaultProps)({props:e,name:"MuiGrid"}),{breakpoints:h}=(0,d.default)(),x=(0,s.extendSxProp)(l),{className:m,columns:y,columnSpacing:b,component:j="div",container:k=!1,direction:S="row",item:w=!1,rowSpacing:T,spacing:P=0,wrap:$="wrap",zeroMinWidth:B=!1}=x,C=(0,r.default)(x,g),A=T||P,E=b||P,z=i.useContext(p),W=k?y||12:z,I={},N=(0,t.default)({},C);h.keys.forEach(e=>{null!=C[e]&&(I[e]=C[e],delete N[e])});let M=(0,t.default)({},x,{columns:W,container:k,direction:S,item:w,rowSpacing:A,columnSpacing:E,wrap:$,zeroMinWidth:B,spacing:P},I,{breakpoints:h.keys}),H=(e=>{let{classes:r,container:t,direction:i,item:a,spacing:n,wrap:s,zeroMinWidth:l,breakpoints:c}=e,d=[];t&&(d=function(e,r){if(!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return[`spacing-xs-${String(e)}`];let t=[];return r.forEach(r=>{let i=e[r];if(Number(i)>0){let e=`spacing-${r}-${String(i)}`;t.push(e)}}),t}(n,c));let p=[];c.forEach(r=>{let t=e[r];t&&p.push(`grid-${r}-${String(t)}`)});let h={root:["root",t&&"container",a&&"item",l&&"zeroMinWidth",...d,"row"!==i&&`direction-xs-${String(i)}`,"wrap"!==s&&`wrap-xs-${String(s)}`,...p]};return(0,o.default)(h,u,r)})(M);return(0,f.jsx)(p.Provider,{value:W,children:(0,f.jsx)(v,(0,t.default)({ownerState:M,className:(0,a.default)(H.root,m),as:j,ref:n},N))})});e.s(["Grid",0,k],54704)},72695,(e,r,t)=>{"use strict";var i=e.r(91074);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(e.r(64800)),n=e.r(44855);t.default=(0,a.default)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},95532,(e,r,t)=>{"use strict";var i=e.r(91074);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(e.r(64800)),n=e.r(44855);t.default=(0,a.default)((0,n.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},47288,(e,r,t)=>{"use strict";var i=e.r(91074);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(e.r(64800)),n=e.r(44855);t.default=(0,a.default)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle")},38222,(e,r,t)=>{"use strict";var i=e.r(91074);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(e.r(64800)),n=e.r(44855);t.default=(0,a.default)((0,n.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew")},13075,e=>{"use strict";var r=e.i(44855),t=e.i(74614),i=e.i(15915),a=e.i(65790),n=e.i(62992),s=e.i(15708),o=e.i(10251),l=e.i(1051),c=e.i(75557),d=e.i(9109),p=e.i(92378),h=e.i(86012),x=e.i(90598),u=e.i(54704),m=e.i(28810),y=e.i(12895),f=e.i(47288),g=e.i(45063),b=e.i(5456),j=e.i(95532),v=e.i(47212),k=e.i(10600),S=e.i(24918),w=e.i(38222),T=e.i(52377),P=e.i(72695),$=e.i(20887),B=e.i(21504),C=e.i(15254),A=e.i(83344),E=e.i(58891),z=e.i(13654);function W(){let{user:e,logout:B}=(0,C.useAuth)(),W=(0,A.useRouter)(),[I,N]=(0,E.useState)(null),[M,H]=(0,E.useState)(!0),[F,V]=(0,E.useState)(null),[D,U]=(0,E.useState)(!1),[_,L]=(0,E.useState)(""),[O,R]=(0,E.useState)(!1),[G,X]=(0,E.useState)(!1),[Y,J]=(0,E.useState)(!1),[K,q]=(0,E.useState)(null),[Q,Z]=(0,E.useState)(null),[ee,er]=(0,E.useState)([]),[et,ei]=(0,E.useState)(null),[ea,en]=(0,E.useState)(!0),[es,eo]=(0,E.useState)(null);(0,E.useEffect)(()=>{let r=async()=>{try{let e=(0,z.getBackendUrl)();console.log("[Profile] Fetching profile from:",`${e}/api/profile`);let r=await fetch(`${e}/api/profile`,{credentials:"include"});if(console.log("[Profile] Response status:",r.status),r.ok){let e=await r.json();console.log("[Profile] Profile data received:",e),N(e),V(null),H(!1)}else{let e=`HTTP ${r.status}`;try{let t=await r.json();e=t.error||t.message||e,console.error("[Profile] Failed to fetch profile:",r.status,t),404===r.status?(console.log("[Profile] User not found in profile endpoint, using authUser data"),V(null),N(null)):V(e)}catch(t){let e=await r.text();console.error("[Profile] Failed to fetch profile (non-JSON response):",r.status,e.substring(0,200)),404===r.status?V(null):V(`Server error: ${r.status}`)}H(!1)}}catch(e){console.error("[Profile] Error fetching profile:",e),V(e.message||"Failed to load profile"),H(!1)}};e?r():H(!1)},[e]),(0,E.useEffect)(()=>{let r=async()=>{en(!0),eo(null);let e=(0,z.getBackendUrl)();try{try{let r=await fetch(`${e}/api/web3/balance`,{credentials:"include"});if(r.ok){let e=await r.json();Z(e.balance)}}catch(e){console.error("Failed to load balance:",e)}try{let r=await fetch(`${e}/api/web3/transactions`,{credentials:"include"});if(r.ok){let e=await r.json();er(e.transactions||[])}}catch(e){console.error("Failed to load transactions:",e)}try{let r=await fetch(`${e}/api/web3/price`,{credentials:"include"});if(r.ok){let e=await r.json();ei(e.price)}}catch(e){console.error("Failed to load price:",e)}}catch(e){eo(e.message||"Failed to load Web3 data")}finally{en(!1)}};e&&r()},[e]),(0,E.useEffect)(()=>{I?.email?L(I.email):e?.email&&L(e.email)},[I,e]);let el=async()=>{if(!_.trim()||!_.includes("@"))return void alert("Please enter a valid email address");if(!e)return void alert("You must be logged in to update your email");R(!0);try{let r=(0,z.getBackendUrl)();console.log("Updating email:",_.trim()),console.log("Backend URL:",r),console.log("User authenticated:",!!e);let t=await fetch(`${r}/api/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:_.trim()})});if(console.log("Response status:",t.status),console.log("Response headers:",Object.fromEntries(t.headers.entries())),t.ok){let e=await t.json();console.log("Updated profile:",e),N(e),U(!1),alert("Email updated successfully!")}else{let e="Unknown error";try{let r=await t.json();e=r.error||r.message||`HTTP ${t.status}`,console.error("Server error:",r)}catch(r){console.error("Failed to parse error response:",r),e=`HTTP ${t.status}: ${t.statusText}`}alert(`Failed to update email: ${e}`)}}catch(e){console.error("Network error updating email:",e),alert(`Network error: ${e.message||"Failed to connect to server. Please check your connection and try again."}`)}finally{R(!1)}},ec=async()=>{await B(),W.push("/")},ed=async(e,r)=>{try{await navigator.clipboard.writeText(e),q(r),setTimeout(()=>q(null),2e3)}catch(e){console.error("Failed to copy:",e)}},ep=async()=>{J(!0);try{let e=(0,z.getBackendUrl)(),r=await fetch(`${e}/api/profile/verify-ens`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(r.ok){await r.json();let t=await fetch(`${e}/api/profile`,{credentials:"include"});if(t.ok){let e=await t.json();N(e)}alert("ENS data refreshed successfully!")}else{let e=await r.json();alert(`Failed to verify ENS: ${e.error||e.message||"Unknown error"}`)}}catch(e){console.error("Error verifying ENS:",e),alert(`Error: ${e.message||"Failed to verify ENS data"}`)}finally{J(!1)}},eh=async()=>{X(!0);try{let e=(0,z.getBackendUrl)(),r=await fetch(`${e}/api/subscriptions/verify`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(r.ok){await r.json();let t=await fetch(`${e}/api/profile`,{credentials:"include"});if(t.ok){let e=await t.json();N(e)}alert("Subscription status updated successfully!")}else{let e=await r.json();alert(`Failed to verify subscription: ${e.error||e.message||"Unknown error"}`)}}catch(e){console.error("Error verifying subscription:",e),alert(`Error: ${e.message||"Failed to verify subscription status"}`)}finally{X(!1)}};if(!e)return(0,r.jsx)($.default,{active:"profile",children:(0,r.jsx)(t.Box,{sx:{p:4,textAlign:"center"},children:(0,r.jsx)(d.Alert,{severity:"info",children:"Please log in to view your profile."})})});if(M)return(0,r.jsx)($.default,{active:"profile",children:(0,r.jsx)(t.Box,{sx:{p:4,textAlign:"center"},children:(0,r.jsx)(i.Typography,{children:"Loading profile..."})})});if(F&&!e)return(0,r.jsx)($.default,{active:"profile",children:(0,r.jsxs)(t.Box,{sx:{p:4,textAlign:"center"},children:[(0,r.jsx)(d.Alert,{severity:"error",sx:{mb:2},children:F}),(0,r.jsx)(c.Button,{variant:"contained",onClick:()=>W.push("/"),children:"Go Home"})]})});let ex={...e,...I||{},id:I?.id||e?.id,createdAt:I?.createdAt||e?.createdAt,email:I?.email||e?.email,name:I?.name||e?.name,avatar:I?.avatar||I?.avatarUrl||e?.avatar,isPaidMember:I?.isPaidMember??e?.isPaidMember,isEmployee:I?.isEmployee??e?.isEmployee??!1,isAdmin:I?.isAdmin??e?.isAdmin??!1,boldSubscriptionId:I?.boldSubscriptionId||e?.boldSubscriptionId,shopifyCustomerId:I?.shopifyCustomerId||e?.shopifyCustomerId,subscriptionUpdateActive:I?.subscriptionUpdateActive??e?.subscriptionUpdateActive??!1,membershipPaid:I?.membershipPaid??e?.membershipPaid??!1,ethPaymentVerified:I?.ethPaymentVerified??e?.ethPaymentVerified??!1,ethPaymentAmount:I?.ethPaymentAmount||e?.ethPaymentAmount,ethPaymentTxHash:I?.ethPaymentTxHash||e?.ethPaymentTxHash,ethPaymentDate:I?.ethPaymentDate||e?.ethPaymentDate,lastChecked:I?.lastChecked||e?.lastChecked,ensName:I?.ensName||e?.ensName,cryptoAddress:I?.cryptoAddress||e?.cryptoAddress,contentHash:I?.contentHash||e?.contentHash};return(0,r.jsx)($.default,{active:"profile",children:(0,r.jsxs)(t.Box,{sx:{maxWidth:800,mx:"auto"},children:[F&&e&&(0,r.jsxs)(d.Alert,{severity:"warning",sx:{mb:3},children:[F," - Showing limited profile information from authentication data."]}),(0,r.jsx)(i.Typography,{variant:"h4",sx:{fontWeight:700,mb:4,background:"linear-gradient(45deg, #9146FF, #ff6b6b, #4ecdc4)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Profile"}),(0,r.jsxs)(a.Paper,{elevation:2,sx:{p:4,mb:3},children:[(0,r.jsxs)(s.Stack,{direction:"row",spacing:3,alignItems:"center",sx:{mb:4},children:[(0,r.jsx)(n.Avatar,{src:ex.avatar,sx:{width:100,height:100,bgcolor:"primary.main",fontSize:"2.5rem"},children:ex.name?.charAt(0).toUpperCase()||(0,r.jsx)(f.default,{})}),(0,r.jsxs)(t.Box,{sx:{flex:1},children:[(0,r.jsx)(i.Typography,{variant:"h5",sx:{fontWeight:600,mb:1},children:ex.name||"User"}),D?(0,r.jsxs)(t.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,r.jsx)(p.TextField,{size:"small",type:"email",value:_,onChange:e=>L(e.target.value),placeholder:"Enter your email",disabled:O,sx:{minWidth:200}}),(0,r.jsx)(h.IconButton,{size:"small",onClick:el,disabled:O,color:"primary",children:(0,r.jsx)(v.default,{})}),(0,r.jsx)(h.IconButton,{size:"small",onClick:()=>{U(!1),I?.email?L(I.email):e?.email&&L(e.email)},disabled:O,color:"error",children:(0,r.jsx)(k.default,{})})]}):(0,r.jsxs)(t.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,r.jsx)(i.Typography,{variant:"body2",color:"text.secondary",children:ex.email||"Not provided"}),(0,r.jsx)(h.IconButton,{size:"small",onClick:()=>{U(!0)},children:(0,r.jsx)(j.default,{fontSize:"small"})})]})]}),(0,r.jsx)(c.Button,{variant:"outlined",startIcon:(0,r.jsx)(b.default,{}),onClick:()=>W.push("/settings"),children:"Settings"})]}),(0,r.jsx)(o.Divider,{sx:{my:3}}),(0,r.jsxs)(s.Stack,{spacing:3,children:[(0,r.jsxs)(t.Box,{children:[(0,r.jsxs)(s.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:1},children:[(0,r.jsx)(m.default,{color:"action"}),(0,r.jsx)(i.Typography,{variant:"subtitle2",color:"text.secondary",sx:{textTransform:"uppercase",letterSpacing:1},children:"Account Information"})]}),(0,r.jsx)(t.Box,{sx:{pl:5},children:(0,r.jsxs)(s.Stack,{spacing:2,children:[(0,r.jsxs)(t.Box,{sx:{p:2,borderRadius:2,bgcolor:"primary.light",background:"linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)",border:"1px solid",borderColor:"primary.main"},children:[(0,r.jsxs)(s.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{mb:2},children:[(0,r.jsx)(i.Typography,{variant:"h6",sx:{fontWeight:600,color:"primary.main"},children:"Web3 Identity"}),(0,r.jsx)(c.Button,{variant:"outlined",size:"small",startIcon:(0,r.jsx)(S.default,{}),onClick:ep,disabled:Y,sx:{textTransform:"none"},children:Y?"Verifying...":"Verify ENS"})]}),!(ex.ensName||ex.cryptoAddress||ex.contentHash)&&(0,r.jsx)(d.Alert,{severity:"info",sx:{mb:2},children:'Your Web3 identity will appear here after you verify your ENS domain. Click "Verify ENS" to resolve your domain.'}),ex.ensName&&(0,r.jsxs)(t.Box,{sx:{mb:2},children:[(0,r.jsxs)(s.Stack,{direction:"row",spacing:1,alignItems:"center",sx:{mb:.5},children:[(0,r.jsx)(i.Typography,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:"ENS Domain"}),(0,r.jsx)(h.IconButton,{size:"small",onClick:()=>ed(ex.ensName,"ens"),sx:{p:.5},children:"ens"===K?(0,r.jsx)(P.default,{fontSize:"small",color:"success"}):(0,r.jsx)(T.default,{fontSize:"small"})}),(0,r.jsx)(x.Link,{href:`https://app.ens.domains/name/${ex.ensName}`,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",textDecoration:"none"},children:(0,r.jsx)(w.default,{fontSize:"small",sx:{ml:.5,color:"primary.main"}})})]}),(0,r.jsx)(l.Chip,{label:ex.ensName,color:"primary",sx:{fontFamily:"monospace",fontWeight:600}}),(0,r.jsx)(i.Typography,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:"Your Web3 identity on the Ethereum blockchain"})]}),ex.cryptoAddress&&(0,r.jsxs)(t.Box,{sx:{mb:2},children:[(0,r.jsxs)(s.Stack,{direction:"row",spacing:1,alignItems:"center",sx:{mb:.5},children:[(0,r.jsx)(i.Typography,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:"Ethereum Address"}),(0,r.jsx)(h.IconButton,{size:"small",onClick:()=>ed(ex.cryptoAddress,"address"),sx:{p:.5},children:"address"===K?(0,r.jsx)(P.default,{fontSize:"small",color:"success"}):(0,r.jsx)(T.default,{fontSize:"small"})}),(0,r.jsx)(x.Link,{href:`https://etherscan.io/address/${ex.cryptoAddress}`,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",textDecoration:"none"},children:(0,r.jsx)(w.default,{fontSize:"small",sx:{ml:.5,color:"primary.main"}})})]}),(0,r.jsx)(i.Typography,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem",wordBreak:"break-all",bgcolor:"background.paper",p:1,borderRadius:1},children:ex.cryptoAddress}),(0,r.jsx)(i.Typography,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:"Resolved from your ENS domain"})]}),ex.contentHash&&(0,r.jsxs)(t.Box,{children:[(0,r.jsxs)(s.Stack,{direction:"row",spacing:1,alignItems:"center",sx:{mb:.5},children:[(0,r.jsx)(i.Typography,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:"IPFS Content Hash"}),(0,r.jsx)(h.IconButton,{size:"small",onClick:()=>ed(ex.contentHash,"hash"),sx:{p:.5},children:"hash"===K?(0,r.jsx)(P.default,{fontSize:"small",color:"success"}):(0,r.jsx)(T.default,{fontSize:"small"})}),ex.contentHash&&!ex.contentHash.startsWith("ipfs://")&&(0,r.jsx)(x.Link,{href:`https://ipfs.io/ipfs/${ex.contentHash.replace("0x","")}`,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",textDecoration:"none"},children:(0,r.jsx)(w.default,{fontSize:"small",sx:{ml:.5,color:"primary.main"}})})]}),(0,r.jsx)(i.Typography,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem",wordBreak:"break-all",bgcolor:"background.paper",p:1,borderRadius:1},children:ex.contentHash}),(0,r.jsx)(i.Typography,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:"Points to decentralized storage on IPFS"})]})]}),(0,r.jsxs)(t.Box,{sx:{mt:3},children:[(0,r.jsx)(i.Typography,{variant:"h6",sx:{fontWeight:700,mb:2,color:"primary.main"},children:"Web3 Token Trackers"}),(0,r.jsxs)(u.Grid,{container:!0,spacing:2,children:[(0,r.jsx)(u.Grid,{item:!0,xs:12,sm:4,children:(0,r.jsxs)(a.Paper,{elevation:2,sx:{p:2,textAlign:"center"},children:[(0,r.jsx)(i.Typography,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Current Price"}),null!==et?(0,r.jsxs)(i.Typography,{variant:"h5",color:"primary",sx:{fontWeight:700},children:["$",et.toFixed(2)]}):ea?(0,r.jsx)(i.Typography,{variant:"body2",color:"text.secondary",children:"Loading..."}):(0,r.jsx)(i.Typography,{variant:"body2",color:"text.secondary",children:"N/A"})]})}),(0,r.jsx)(u.Grid,{item:!0,xs:12,sm:4,children:(0,r.jsxs)(a.Paper,{elevation:2,sx:{p:2,textAlign:"center"},children:[(0,r.jsx)(i.Typography,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Crypto Balance"}),null!==Q?(0,r.jsxs)(i.Typography,{variant:"h5",color:"primary",sx:{fontWeight:700},children:[Q," ETH"]}):ea?(0,r.jsx)(i.Typography,{variant:"body2",color:"text.secondary",children:"Loading..."}):(0,r.jsx)(i.Typography,{variant:"body2",color:"text.secondary",children:"N/A"})]})}),(0,r.jsx)(u.Grid,{item:!0,xs:12,sm:4,children:(0,r.jsxs)(a.Paper,{elevation:2,sx:{p:2,textAlign:"center"},children:[(0,r.jsx)(i.Typography,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Recent Transactions"}),(0,r.jsx)(i.Typography,{variant:"h5",color:"primary",sx:{fontWeight:700},children:ee.length}),(0,r.jsx)(i.Typography,{variant:"caption",color:"text.secondary",children:"Total"})]})})]})]}),ee.length>0&&(0,r.jsxs)(t.Box,{sx:{mt:3},children:[(0,r.jsx)(i.Typography,{variant:"h6",sx:{fontWeight:700,mb:2,color:"primary.main"},children:"Recent Transactions"}),(0,r.jsx)(s.Stack,{spacing:2,children:ee.slice(0,5).map((e,n)=>(0,r.jsx)(a.Paper,{variant:"outlined",sx:{p:2},children:(0,r.jsxs)(s.Stack,{spacing:1,children:[e.hash&&(0,r.jsxs)(t.Box,{children:[(0,r.jsx)(i.Typography,{variant:"caption",color:"text.secondary",children:"Hash:"}),(0,r.jsx)(i.Typography,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem",wordBreak:"break-all"},children:e.hash})]}),e.amount&&(0,r.jsxs)(i.Typography,{variant:"body2",children:[(0,r.jsx)("strong",{children:"Amount:"})," ",e.amount," ETH"]}),e.to&&(0,r.jsxs)(t.Box,{children:[(0,r.jsx)(i.Typography,{variant:"caption",color:"text.secondary",children:"To:"}),(0,r.jsx)(i.Typography,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem",wordBreak:"break-all"},children:e.to})]}),e.date&&(0,r.jsxs)(i.Typography,{variant:"body2",color:"text.secondary",children:[(0,r.jsx)("strong",{children:"Date:"})," ",new Date(e.date).toLocaleString()]})]})},n))})]}),(0,r.jsxs)(t.Box,{children:[(0,r.jsx)(i.Typography,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Member Since"}),(0,r.jsx)(i.Typography,{variant:"body1",sx:{fontWeight:500},children:ex.createdAt?new Date(ex.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Not available"})]}),(0,r.jsxs)(t.Box,{children:[(0,r.jsx)(i.Typography,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Role"}),(0,r.jsxs)(s.Stack,{direction:"row",spacing:1,alignItems:"center",flexWrap:"wrap",gap:1,children:[ex.isEmployee&&(0,r.jsx)(l.Chip,{label:"Employee",color:"secondary",variant:"filled",size:"small"}),ex.isAdmin&&(0,r.jsx)(l.Chip,{label:"Admin",color:"error",variant:"filled",size:"small"}),(0,r.jsx)(l.Chip,{label:ex.isAdmin?"Super Admin":ex.isEmployee?"Staff":"Community Member",color:ex.isAdmin?"error":ex.isEmployee?"warning":"primary",variant:ex.isAdmin||ex.isEmployee?"filled":"outlined",size:"small"})]})]})]})})]}),(0,r.jsx)(o.Divider,{}),(0,r.jsxs)(t.Box,{children:[(0,r.jsxs)(s.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[(0,r.jsx)(y.default,{color:"action"}),(0,r.jsx)(i.Typography,{variant:"h6",sx:{fontWeight:600},children:"Membership Information"})]}),(0,r.jsx)(t.Box,{sx:{pl:5},children:(0,r.jsxs)(s.Stack,{spacing:2,children:[(0,r.jsxs)(t.Box,{children:[(0,r.jsxs)(s.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{mb:1},children:[(0,r.jsx)(i.Typography,{variant:"body2",color:"text.secondary",children:"Membership Status"}),(0,r.jsx)(c.Button,{variant:"outlined",size:"small",onClick:eh,disabled:G,sx:{textTransform:"none"},children:G?"Verifying...":"Refresh Subscription Status"})]}),(0,r.jsxs)(s.Stack,{direction:"row",spacing:1,alignItems:"center",flexWrap:"wrap",children:[ex.isEmployee&&(0,r.jsx)(l.Chip,{label:"Employee Access",color:"warning",variant:"filled",size:"small"}),(0,r.jsx)(l.Chip,{label:ex.isPaidMember?"Active Paid Member":"Free Member",color:ex.isPaidMember?"success":"default",size:"small"}),ex.boldSubscriptionId&&(0,r.jsx)(l.Chip,{label:"Shopify Subscription",color:"primary",variant:"outlined",size:"small"}),ex.ethPaymentVerified&&(0,r.jsx)(l.Chip,{label:"ETH Payment Verified",color:"success",variant:"outlined",size:"small"})]}),ex.lastChecked&&(0,r.jsxs)(i.Typography,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:["Last checked: ",new Date(ex.lastChecked).toLocaleString()]}),!ex.isPaidMember&&(0,r.jsxs)(t.Box,{sx:{mt:2},children:[(0,r.jsx)(d.Alert,{severity:"info",sx:{mb:2},children:"Subscribe to access all dashboards and features. Monthly subscription: $17.77/month via Shopify, or send $20 ETH to isharehow.eth"}),(0,r.jsxs)(s.Stack,{direction:"row",spacing:2,flexWrap:"wrap",children:[(0,r.jsx)(c.Button,{variant:"contained",onClick:()=>{window.location.href="https://shop.isharehow.app/pages/manage-subscriptions"},sx:{bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"},textTransform:"none",fontWeight:600},children:"Subscribe via Shopify"}),(0,r.jsx)(c.Button,{variant:"outlined",onClick:()=>{W.push("/link-wallet")},sx:{textTransform:"none",fontWeight:600},children:"Pay with ETH"})]})]}),ex.boldSubscriptionId&&(0,r.jsx)(t.Box,{sx:{mt:2},children:(0,r.jsxs)(d.Alert,{severity:"success",sx:{mb:1},children:[(0,r.jsx)(i.Typography,{variant:"body2",sx:{fontWeight:600,mb:.5},children:"Shopify Subscription Active"}),(0,r.jsxs)(i.Typography,{variant:"caption",color:"text.secondary",children:["Subscription ID: ",ex.boldSubscriptionId,ex.shopifyCustomerId&&` • Customer ID: ${ex.shopifyCustomerId}`]})]})}),ex.ethPaymentVerified&&(0,r.jsx)(t.Box,{sx:{mt:2},children:(0,r.jsxs)(d.Alert,{severity:"success",sx:{mb:1},children:[(0,r.jsx)(i.Typography,{variant:"body2",sx:{fontWeight:600,mb:.5},children:"ETH Payment Verified"}),(0,r.jsxs)(i.Typography,{variant:"caption",color:"text.secondary",children:[ex.ethPaymentAmount&&`Amount: ${ex.ethPaymentAmount} ETH`,ex.ethPaymentTxHash&&(0,r.jsxs)(r.Fragment,{children:[" • ",(0,r.jsx)(x.Link,{href:`https://etherscan.io/tx/${ex.ethPaymentTxHash}`,target:"_blank",rel:"noopener noreferrer",sx:{color:"inherit",textDecoration:"underline"},children:"View Transaction"})]}),ex.ethPaymentDate&&` • Date: ${new Date(ex.ethPaymentDate).toLocaleDateString()}`]})]})})]}),(0,r.jsxs)(t.Box,{children:[(0,r.jsx)(i.Typography,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Membership Tier"}),(0,r.jsx)(i.Typography,{variant:"body1",sx:{fontWeight:ex.membershipTier?500:400},children:ex.membershipTier?ex.membershipTier.charAt(0).toUpperCase()+ex.membershipTier.slice(1):"Not set"})]})]})})]}),(0,r.jsx)(o.Divider,{}),(0,r.jsx)(t.Box,{children:(0,r.jsx)(c.Button,{variant:"outlined",color:"error",startIcon:(0,r.jsx)(g.default,{}),onClick:ec,sx:{mt:2},children:"Sign Out"})})]})]})]})})}e.s(["default",0,function(){return(0,r.jsx)(B.default,{children:(0,r.jsx)(W,{})})}])},82937,(e,r,t)=>{let i="/profile";(window.__NEXT_P=window.__NEXT_P||[]).push([i,()=>e.r(13075)]),r.hot&&r.hot.dispose(function(){window.__NEXT_P.push([i])})},9781,e=>{e.v(r=>Promise.all(["static/chunks/d62b89fe821ade37.js"].map(r=>e.l(r))).then(()=>r(94246)))},90413,e=>{e.v(r=>Promise.all(["static/chunks/1b9991f459e98f67.js"].map(r=>e.l(r))).then(()=>r(18636)))}]);