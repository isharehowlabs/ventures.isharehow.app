(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,47288,(e,t,r)=>{"use strict";var a=e.r(91074);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e.r(64800)),s=e.r(44855);r.default=(0,i.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle")},38222,(e,t,r)=>{"use strict";var a=e.r(91074);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e.r(64800)),s=e.r(44855);r.default=(0,i.default)((0,s.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew")},13075,e=>{"use strict";var t=e.i(44855),r=e.i(74614),a=e.i(15915),i=e.i(65790),s=e.i(62992),n=e.i(15708),o=e.i(10251),l=e.i(1051),c=e.i(75557),d=e.i(9109),h=e.i(92378),p=e.i(86012),x=e.i(90598),m=e.i(54704),y=e.i(45162),u=e.i(3430),f=e.i(72204),j=e.i(32327),g=e.i(54385),b=e.i(28810),v=e.i(12895),S=e.i(47288),T=e.i(45063),k=e.i(5456),w=e.i(95532),C=e.i(47212),P=e.i(10600),A=e.i(24918),B=e.i(38222),I=e.i(52377),E=e.i(72695),z=e.i(60472),$=e.i(94009),N=e.i(90379),W=e.i(20887),H=e.i(21504),F=e.i(15254),U=e.i(83344),D=e.i(58891),M=e.i(13654);e.s(["default",0,function(){let{user:e,logout:_}=(0,F.useAuth)(),V=(0,U.useRouter)(),[R,L]=(0,D.useState)(null),[O,G]=(0,D.useState)(!0),[J,X]=(0,D.useState)(null),[Y,K]=(0,D.useState)(!1),[q,Q]=(0,D.useState)(!1),[Z,ee]=(0,D.useState)(""),[et,er]=(0,D.useState)(""),[ea,ei]=(0,D.useState)(!1),[es,en]=(0,D.useState)(!1),[eo,el]=(0,D.useState)(!1),[ec,ed]=(0,D.useState)(!1),[eh,ep]=(0,D.useState)(null),[ex,em]=(0,D.useState)(0),[ey,eu]=(0,D.useState)(null),[ef,ej]=(0,D.useState)([]),[eg,eb]=(0,D.useState)(null),[ev,eS]=(0,D.useState)(!0),[eT,ek]=(0,D.useState)(null);(0,D.useEffect)(()=>{let t=async()=>{try{let e=(0,M.getBackendUrl)();console.log("[Profile] Fetching profile from:",`${e}/api/profile`);let t=await fetch(`${e}/api/profile`,{credentials:"include"});if(console.log("[Profile] Response status:",t.status),t.ok){let e=await t.json();console.log("[Profile] Profile data received:",e),L(e),X(null),G(!1)}else{let e=`HTTP ${t.status}`;try{let r=await t.json();e=r.error||r.message||e,console.error("[Profile] Failed to fetch profile:",t.status,r),404===t.status?(console.log("[Profile] User not found in profile endpoint, using authUser data"),X(null),L(null)):X(e)}catch(r){let e=await t.text();console.error("[Profile] Failed to fetch profile (non-JSON response):",t.status,e.substring(0,200)),404===t.status?X(null):X(`Server error: ${t.status}`)}G(!1)}}catch(e){console.error("[Profile] Error fetching profile:",e),X(e.message||"Failed to load profile"),G(!1)}};e?t():G(!1)},[e]),(0,D.useEffect)(()=>{let t=async()=>{eS(!0),ek(null);let e=(0,M.getBackendUrl)();try{try{let t=await fetch(`${e}/api/web3/balance`,{credentials:"include"});if(t.ok){let e=await t.json();eu(e.balance)}}catch(e){console.error("Failed to load balance:",e)}try{let t=await fetch(`${e}/api/web3/transactions`,{credentials:"include"});if(t.ok){let e=await t.json();ej(e.transactions||[])}}catch(e){console.error("Failed to load transactions:",e)}try{let t=await fetch(`${e}/api/web3/price`,{credentials:"include"});if(t.ok){let e=await t.json();eb(e.price)}}catch(e){console.error("Failed to load price:",e)}}catch(e){ek(e.message||"Failed to load Web3 data")}finally{eS(!1)}};e&&t()},[e]),(0,D.useEffect)(()=>{R?.email?ee(R.email):e?.email&&ee(e.email)},[R,e]),(0,D.useEffect)(()=>{R?.name?er(R.name):e?.name&&er(e.name||"")},[R,e]);let ew=async()=>{if(!Z.trim()||!Z.includes("@"))return void alert("Please enter a valid email address");if(!e)return void alert("You must be logged in to update your email");ei(!0);try{let e=(0,M.getBackendUrl)(),t=await fetch(`${e}/api/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:Z.trim()})});if(t.ok){let e=await t.json();L(e),K(!1),alert("Email updated successfully!")}else{let e="Unknown error";try{let r=await t.json();e=r.error||r.message||`HTTP ${t.status}`}catch(r){e=`HTTP ${t.status}: ${t.statusText}`}alert(`Failed to update email: ${e}`)}}catch(e){console.error("Network error updating email:",e),alert(`Network error: ${e.message||"Failed to connect to server. Please check your connection and try again."}`)}finally{ei(!1)}},eC=async()=>{if(!et.trim())return void alert("Please enter a name");if(!e)return void alert("You must be logged in to update your name");en(!0);try{let e=(0,M.getBackendUrl)(),t=await fetch(`${e}/api/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:et.trim()})});if(t.ok){let e=await t.json();L(e),Q(!1),alert("Name updated successfully!")}else{let e="Unknown error";try{let r=await t.json();e=r.error||r.message||`HTTP ${t.status}`}catch(r){e=`HTTP ${t.status}: ${t.statusText}`}alert(`Failed to update name: ${e}`)}}catch(e){console.error("Network error updating name:",e),alert(`Network error: ${e.message||"Failed to connect to server. Please check your connection and try again."}`)}finally{en(!1)}},eP=async()=>{await _(),V.push("/")},eA=async(e,t)=>{try{await navigator.clipboard.writeText(e),ep(t),setTimeout(()=>ep(null),2e3)}catch(e){console.error("Failed to copy:",e)}},eB=async()=>{ed(!0);try{let e=(0,M.getBackendUrl)(),t=await fetch(`${e}/api/profile/verify-ens`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(t.ok){await t.json();let r=await fetch(`${e}/api/profile`,{credentials:"include"});if(r.ok){let e=await r.json();L(e)}alert("ENS data refreshed successfully!")}else{let e=await t.json();alert(`Failed to verify ENS: ${e.error||e.message||"Unknown error"}`)}}catch(e){console.error("Error verifying ENS:",e),alert(`Error: ${e.message||"Failed to verify ENS data"}`)}finally{ed(!1)}},eI=async()=>{el(!0);try{let e=(0,M.getBackendUrl)(),t=await fetch(`${e}/api/subscriptions/verify`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(t.ok){await t.json();let r=await fetch(`${e}/api/profile`,{credentials:"include"});if(r.ok){let e=await r.json();L(e)}alert("Subscription status updated successfully!")}else{let e=await t.json();alert(`Failed to verify subscription: ${e.error||e.message||"Unknown error"}`)}}catch(e){console.error("Error verifying subscription:",e),alert(`Error: ${e.message||"Failed to verify subscription status"}`)}finally{el(!1)}};if(!e)return(0,t.jsx)(W.default,{active:"profile",children:(0,t.jsx)(f.Container,{maxWidth:"lg",children:(0,t.jsx)(r.Box,{sx:{p:4,textAlign:"center"},children:(0,t.jsx)(d.Alert,{severity:"info",children:"Please log in to view your profile."})})})});if(O)return(0,t.jsx)(W.default,{active:"profile",children:(0,t.jsx)(f.Container,{maxWidth:"lg",children:(0,t.jsx)(r.Box,{sx:{p:4,textAlign:"center"},children:(0,t.jsx)(a.Typography,{children:"Loading profile..."})})})});if(J&&!e)return(0,t.jsx)(W.default,{active:"profile",children:(0,t.jsx)(f.Container,{maxWidth:"lg",children:(0,t.jsxs)(r.Box,{sx:{p:4,textAlign:"center"},children:[(0,t.jsx)(d.Alert,{severity:"error",sx:{mb:2},children:J}),(0,t.jsx)(c.Button,{variant:"contained",onClick:()=>V.push("/"),children:"Go Home"})]})})});let eE={...e,...R||{},id:R?.id||e?.id,createdAt:R?.createdAt||e?.createdAt,email:R?.email||e?.email,name:R?.name||e?.name,avatar:R?.avatar||R?.avatarUrl||e?.avatar,isPaidMember:R?.isPaidMember??e?.isPaidMember,isEmployee:R?.isEmployee??e?.isEmployee??!1,isAdmin:R?.isAdmin??e?.isAdmin??!1,boldSubscriptionId:R?.boldSubscriptionId||e?.boldSubscriptionId,shopifyCustomerId:R?.shopifyCustomerId||e?.shopifyCustomerId,subscriptionUpdateActive:R?.subscriptionUpdateActive??e?.subscriptionUpdateActive??!1,membershipPaid:R?.membershipPaid??e?.membershipPaid??!1,ethPaymentVerified:R?.ethPaymentVerified??e?.ethPaymentVerified??!1,ethPaymentAmount:R?.ethPaymentAmount||e?.ethPaymentAmount,ethPaymentTxHash:R?.ethPaymentTxHash||e?.ethPaymentTxHash,ethPaymentDate:R?.ethPaymentDate||e?.ethPaymentDate,lastChecked:R?.lastChecked||e?.lastChecked,ensName:R?.ensName||e?.ensName,cryptoAddress:R?.cryptoAddress||e?.cryptoAddress,contentHash:R?.contentHash||e?.contentHash};return(0,t.jsx)(H.default,{children:(0,t.jsx)(W.default,{active:"profile",children:(0,t.jsx)(r.Box,{sx:{flexGrow:1,bgcolor:"background.default",minHeight:"100vh"},children:(0,t.jsxs)(f.Container,{maxWidth:"lg",sx:{py:4},children:[J&&e&&(0,t.jsxs)(d.Alert,{severity:"warning",sx:{mb:3},onClose:()=>X(null),children:[J," - Showing limited profile information from authentication data."]}),(0,t.jsx)(i.Paper,{elevation:0,sx:{p:4,mb:3,borderRadius:2},children:(0,t.jsxs)(n.Stack,{direction:"row",spacing:3,alignItems:"center",children:[(0,t.jsx)(s.Avatar,{src:eE.avatar,sx:{width:80,height:80,bgcolor:"primary.main",fontSize:"2rem"},children:eE.name?.charAt(0).toUpperCase()||(0,t.jsx)(S.default,{})}),(0,t.jsxs)(r.Box,{sx:{flex:1},children:[q?(0,t.jsxs)(n.Stack,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[(0,t.jsx)(h.TextField,{size:"small",value:et,onChange:e=>er(e.target.value),placeholder:"Enter your name",disabled:es,sx:{minWidth:200}}),(0,t.jsx)(p.IconButton,{size:"small",onClick:eC,disabled:es,color:"primary",children:(0,t.jsx)(C.default,{})}),(0,t.jsx)(p.IconButton,{size:"small",onClick:()=>{Q(!1),R?.name?er(R.name):e?.name&&er(e.name||"")},disabled:es,color:"error",children:(0,t.jsx)(P.default,{})})]}):(0,t.jsxs)(n.Stack,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[(0,t.jsx)(a.Typography,{variant:"h4",fontWeight:600,children:eE.name||"User"}),(0,t.jsx)(p.IconButton,{size:"small",onClick:()=>{Q(!0)},children:(0,t.jsx)(w.default,{fontSize:"small"})})]}),Y?(0,t.jsxs)(n.Stack,{direction:"row",spacing:1,alignItems:"center",children:[(0,t.jsx)(h.TextField,{size:"small",type:"email",value:Z,onChange:e=>ee(e.target.value),placeholder:"Enter your email",disabled:ea,sx:{minWidth:250}}),(0,t.jsx)(p.IconButton,{size:"small",onClick:ew,disabled:ea,color:"primary",children:(0,t.jsx)(C.default,{})}),(0,t.jsx)(p.IconButton,{size:"small",onClick:()=>{K(!1),R?.email?ee(R.email):e?.email&&ee(e.email)},disabled:ea,color:"error",children:(0,t.jsx)(P.default,{})})]}):(0,t.jsxs)(n.Stack,{direction:"row",spacing:1,alignItems:"center",children:[(0,t.jsx)(v.default,{fontSize:"small",color:"action"}),(0,t.jsx)(a.Typography,{variant:"body1",color:"text.secondary",children:eE.email||"Not provided"}),(0,t.jsx)(p.IconButton,{size:"small",onClick:()=>{K(!0)},children:(0,t.jsx)(w.default,{fontSize:"small"})})]}),(0,t.jsxs)(n.Stack,{direction:"row",spacing:1,sx:{mt:2},flexWrap:"wrap",gap:1,children:[eE.isEmployee&&(0,t.jsx)(l.Chip,{label:"Employee",color:"secondary",size:"small"}),eE.isAdmin&&(0,t.jsx)(l.Chip,{label:"Admin",color:"error",size:"small"}),(0,t.jsx)(l.Chip,{label:eE.isAdmin?"Super Admin":eE.isEmployee?"Staff":"Community Member",color:eE.isAdmin?"error":eE.isEmployee?"warning":"primary",variant:eE.isAdmin||eE.isEmployee?"filled":"outlined",size:"small"})]})]}),(0,t.jsx)(c.Button,{variant:"outlined",startIcon:(0,t.jsx)(k.default,{}),onClick:()=>V.push("/settings"),children:"Settings"})]})}),(0,t.jsx)(i.Paper,{elevation:0,sx:{mb:3,borderRadius:2},children:(0,t.jsxs)(j.Tabs,{value:ex,onChange:(e,t)=>em(t),children:[(0,t.jsx)(g.Tab,{icon:(0,t.jsx)(b.default,{}),iconPosition:"start",label:"Profile"}),(0,t.jsx)(g.Tab,{icon:(0,t.jsx)(z.default,{}),iconPosition:"start",label:"Web3 Identity"}),(0,t.jsx)(g.Tab,{icon:(0,t.jsx)($.default,{}),iconPosition:"start",label:"Membership"}),(0,t.jsx)(g.Tab,{icon:(0,t.jsx)(N.default,{}),iconPosition:"start",label:"Account"})]})}),0===ex&&(0,t.jsx)(y.Card,{elevation:0,sx:{borderRadius:2},children:(0,t.jsxs)(u.CardContent,{sx:{p:4},children:[(0,t.jsx)(a.Typography,{variant:"h6",fontWeight:600,gutterBottom:!0,sx:{mb:3},children:"Personal Information"}),(0,t.jsxs)(n.Stack,{spacing:3,children:[(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Member Since"}),(0,t.jsx)(a.Typography,{variant:"body1",fontWeight:500,children:eE.createdAt?new Date(eE.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not available"})]}),(0,t.jsx)(o.Divider,{}),(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"User ID"}),(0,t.jsx)(a.Typography,{variant:"body1",sx:{fontFamily:"monospace",fontSize:"0.875rem"},children:eE.id||"Not available"})]})]})]})}),1===ex&&(0,t.jsx)(y.Card,{elevation:0,sx:{borderRadius:2},children:(0,t.jsxs)(u.CardContent,{sx:{p:4},children:[(0,t.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{mb:3},children:[(0,t.jsx)(a.Typography,{variant:"h6",fontWeight:600,children:"Web3 Identity"}),(0,t.jsx)(c.Button,{variant:"outlined",size:"small",startIcon:(0,t.jsx)(A.default,{}),onClick:eB,disabled:ec,children:ec?"Verifying...":"Verify ENS"})]}),!(eE.ensName||eE.cryptoAddress||eE.contentHash)&&(0,t.jsx)(d.Alert,{severity:"info",sx:{mb:3},children:'Your Web3 identity will appear here after you verify your ENS domain. Click "Verify ENS" to resolve your domain.'}),(0,t.jsxs)(n.Stack,{spacing:3,children:[eE.ensName&&(0,t.jsxs)(r.Box,{children:[(0,t.jsxs)(n.Stack,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",fontWeight:500,children:"ENS Domain"}),(0,t.jsx)(p.IconButton,{size:"small",onClick:()=>eA(eE.ensName,"ens"),children:"ens"===eh?(0,t.jsx)(E.default,{fontSize:"small",color:"success"}):(0,t.jsx)(I.default,{fontSize:"small"})}),(0,t.jsx)(x.Link,{href:`https://app.ens.domains/name/${eE.ensName}`,target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)(B.default,{fontSize:"small"})})]}),(0,t.jsx)(l.Chip,{label:eE.ensName,color:"primary",sx:{fontFamily:"monospace",fontWeight:600}})]}),eE.cryptoAddress&&(0,t.jsxs)(r.Box,{children:[(0,t.jsxs)(n.Stack,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",fontWeight:500,children:"Ethereum Address"}),(0,t.jsx)(p.IconButton,{size:"small",onClick:()=>eA(eE.cryptoAddress,"address"),children:"address"===eh?(0,t.jsx)(E.default,{fontSize:"small",color:"success"}):(0,t.jsx)(I.default,{fontSize:"small"})}),(0,t.jsx)(x.Link,{href:`https://etherscan.io/address/${eE.cryptoAddress}`,target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)(B.default,{fontSize:"small"})})]}),(0,t.jsx)(a.Typography,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem",wordBreak:"break-all",bgcolor:"background.paper",p:1.5,borderRadius:1,border:"1px solid",borderColor:"divider"},children:eE.cryptoAddress})]}),eE.contentHash&&(0,t.jsxs)(r.Box,{children:[(0,t.jsxs)(n.Stack,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",fontWeight:500,children:"IPFS Content Hash"}),(0,t.jsx)(p.IconButton,{size:"small",onClick:()=>eA(eE.contentHash,"hash"),children:"hash"===eh?(0,t.jsx)(E.default,{fontSize:"small",color:"success"}):(0,t.jsx)(I.default,{fontSize:"small"})}),eE.contentHash&&!eE.contentHash.startsWith("ipfs://")&&(0,t.jsx)(x.Link,{href:`https://ipfs.io/ipfs/${eE.contentHash.replace("0x","")}`,target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)(B.default,{fontSize:"small"})})]}),(0,t.jsx)(a.Typography,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem",wordBreak:"break-all",bgcolor:"background.paper",p:1.5,borderRadius:1,border:"1px solid",borderColor:"divider"},children:eE.contentHash})]}),(0,t.jsx)(o.Divider,{}),(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(a.Typography,{variant:"h6",fontWeight:600,sx:{mb:2},children:"Token Information"}),(0,t.jsxs)(m.Grid,{container:!0,spacing:2,children:[(0,t.jsx)(m.Grid,{item:!0,xs:12,sm:4,children:(0,t.jsxs)(i.Paper,{variant:"outlined",sx:{p:2,textAlign:"center"},children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Current Price"}),null!==eg?(0,t.jsxs)(a.Typography,{variant:"h6",color:"primary",fontWeight:700,children:["$",eg.toFixed(2)]}):ev?(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",children:"Loading..."}):(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",children:"N/A"})]})}),(0,t.jsx)(m.Grid,{item:!0,xs:12,sm:4,children:(0,t.jsxs)(i.Paper,{variant:"outlined",sx:{p:2,textAlign:"center"},children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Crypto Balance"}),null!==ey?(0,t.jsxs)(a.Typography,{variant:"h6",color:"primary",fontWeight:700,children:[ey," ETH"]}):ev?(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",children:"Loading..."}):(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",children:"N/A"})]})}),(0,t.jsx)(m.Grid,{item:!0,xs:12,sm:4,children:(0,t.jsxs)(i.Paper,{variant:"outlined",sx:{p:2,textAlign:"center"},children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Transactions"}),(0,t.jsx)(a.Typography,{variant:"h6",color:"primary",fontWeight:700,children:ef.length}),(0,t.jsx)(a.Typography,{variant:"caption",color:"text.secondary",children:"Total"})]})})]})]}),ef.length>0&&(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(a.Typography,{variant:"h6",fontWeight:600,sx:{mb:2},children:"Recent Transactions"}),(0,t.jsx)(n.Stack,{spacing:2,children:ef.slice(0,5).map((e,s)=>(0,t.jsx)(i.Paper,{variant:"outlined",sx:{p:2},children:(0,t.jsxs)(n.Stack,{spacing:1,children:[e.hash&&(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(a.Typography,{variant:"caption",color:"text.secondary",children:"Hash:"}),(0,t.jsx)(a.Typography,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem",wordBreak:"break-all"},children:e.hash})]}),e.amount&&(0,t.jsxs)(a.Typography,{variant:"body2",children:[(0,t.jsx)("strong",{children:"Amount:"})," ",e.amount," ETH"]}),e.to&&(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(a.Typography,{variant:"caption",color:"text.secondary",children:"To:"}),(0,t.jsx)(a.Typography,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem",wordBreak:"break-all"},children:e.to})]}),e.date&&(0,t.jsxs)(a.Typography,{variant:"body2",color:"text.secondary",children:[(0,t.jsx)("strong",{children:"Date:"})," ",new Date(e.date).toLocaleString()]})]})},s))})]})]})]})}),2===ex&&(0,t.jsx)(y.Card,{elevation:0,sx:{borderRadius:2},children:(0,t.jsxs)(u.CardContent,{sx:{p:4},children:[(0,t.jsxs)(n.Stack,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{mb:3},children:[(0,t.jsx)(a.Typography,{variant:"h6",fontWeight:600,children:"Membership Information"}),(0,t.jsx)(c.Button,{variant:"outlined",size:"small",onClick:eI,disabled:eo,children:eo?"Verifying...":"Refresh Status"})]}),(0,t.jsxs)(n.Stack,{spacing:3,children:[(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Membership Status"}),(0,t.jsxs)(n.Stack,{direction:"row",spacing:1,flexWrap:"wrap",gap:1,sx:{mt:1},children:[eE.isEmployee&&(0,t.jsx)(l.Chip,{label:"Employee Access",color:"warning",size:"small"}),(0,t.jsx)(l.Chip,{label:eE.isPaidMember?"Active Paid Member":"Free Member",color:eE.isPaidMember?"success":"default",size:"small"}),eE.boldSubscriptionId&&(0,t.jsx)(l.Chip,{label:"Shopify Subscription",color:"primary",variant:"outlined",size:"small"}),eE.ethPaymentVerified&&(0,t.jsx)(l.Chip,{label:"ETH Payment Verified",color:"success",variant:"outlined",size:"small"})]}),eE.lastChecked&&(0,t.jsxs)(a.Typography,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:["Last checked: ",new Date(eE.lastChecked).toLocaleString()]})]}),!eE.isPaidMember&&(0,t.jsxs)(d.Alert,{severity:"info",children:[(0,t.jsx)(a.Typography,{variant:"body2",sx:{mb:2},children:"Subscribe to access all dashboards and features. Monthly subscription: $17.77/month via Shopify, or send $20 ETH to isharehow.eth"}),(0,t.jsxs)(n.Stack,{direction:"row",spacing:2,flexWrap:"wrap",children:[(0,t.jsx)(c.Button,{variant:"contained",onClick:()=>{window.location.href="https://shop.isharehow.app/pages/manage-subscriptions"},children:"Subscribe via Shopify"}),(0,t.jsx)(c.Button,{variant:"outlined",onClick:()=>V.push("/link-wallet"),children:"Pay with ETH"})]})]}),eE.boldSubscriptionId&&(0,t.jsxs)(d.Alert,{severity:"success",children:[(0,t.jsx)(a.Typography,{variant:"body2",fontWeight:600,sx:{mb:.5},children:"Shopify Subscription Active"}),(0,t.jsxs)(a.Typography,{variant:"caption",color:"text.secondary",children:["Subscription ID: ",eE.boldSubscriptionId,eE.shopifyCustomerId&&` • Customer ID: ${eE.shopifyCustomerId}`]})]}),eE.ethPaymentVerified&&(0,t.jsxs)(d.Alert,{severity:"success",children:[(0,t.jsx)(a.Typography,{variant:"body2",fontWeight:600,sx:{mb:.5},children:"ETH Payment Verified"}),(0,t.jsxs)(a.Typography,{variant:"caption",color:"text.secondary",children:[eE.ethPaymentAmount&&`Amount: ${eE.ethPaymentAmount} ETH`,eE.ethPaymentTxHash&&(0,t.jsxs)(t.Fragment,{children:[" • ",(0,t.jsx)(x.Link,{href:`https://etherscan.io/tx/${eE.ethPaymentTxHash}`,target:"_blank",rel:"noopener noreferrer",sx:{color:"inherit",textDecoration:"underline"},children:"View Transaction"})]}),eE.ethPaymentDate&&` • Date: ${new Date(eE.ethPaymentDate).toLocaleDateString()}`]})]}),(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Membership Tier"}),(0,t.jsx)(a.Typography,{variant:"body1",fontWeight:eE.membershipTier?500:400,children:eE.membershipTier?eE.membershipTier.charAt(0).toUpperCase()+eE.membershipTier.slice(1):"Not set"})]})]})]})}),3===ex&&(0,t.jsx)(y.Card,{elevation:0,sx:{borderRadius:2},children:(0,t.jsxs)(u.CardContent,{sx:{p:4},children:[(0,t.jsx)(a.Typography,{variant:"h6",fontWeight:600,gutterBottom:!0,sx:{mb:3},children:"Account Settings"}),(0,t.jsx)(n.Stack,{spacing:3,children:(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Account Actions"}),(0,t.jsxs)(n.Stack,{spacing:2,children:[(0,t.jsx)(c.Button,{variant:"outlined",startIcon:(0,t.jsx)(k.default,{}),onClick:()=>V.push("/settings"),fullWidth:!0,sx:{justifyContent:"flex-start"},children:"Go to Settings"}),(0,t.jsx)(c.Button,{variant:"outlined",color:"error",startIcon:(0,t.jsx)(T.default,{}),onClick:eP,fullWidth:!0,sx:{justifyContent:"flex-start"},children:"Sign Out"})]})]})})]})})]})})})})}])},82937,(e,t,r)=>{let a="/profile";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(13075)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})}]);