(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,68213,(e,t,a)=>{"use strict";var l=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=l(e.r(64800)),r=e.r(44855);a.default=(0,n.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddCircle")},69783,(e,t,a)=>{"use strict";var l=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=l(e.r(64800)),r=e.r(44855);a.default=(0,n.default)((0,r.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2zm-9-2h10V8H12zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"AccountBalanceWallet")},76497,(e,t,a)=>{"use strict";var l=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=l(e.r(64800)),r=e.r(44855);a.default=(0,n.default)([(0,r.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,r.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"CameraAlt")},57664,e=>{"use strict";var t,a,l=e.i(44855),n=e.i(58891),r=e.i(62865),i=e.i(74614),s=e.i(72204),o=e.i(15915),c=e.i(32327),d=e.i(54385),u=e.i(65790),h=e.i(54704),x=e.i(45162),p=e.i(3430),m=e.i(75557),g=e.i(92378);e.i(96335);var j=e.i(80622),y=e.i(84933),f=e.i(81706),b=e.i(15127),v=e.i(18420),C=e.i(88795),T=e.i(68418),P=e.i(85760),A=e.i(95262),w=e.i(51480),S=e.i(13740);function I(e){return(0,S.default)("MuiInputAdornment",e)}let k=(0,w.default)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var B=e.i(96861);let E=["children","className","component","disablePointerEvents","disableTypography","position","variant"],R=(0,A.default)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[`position${(0,v.default)(a.position)}`],!0===a.disablePointerEvents&&t.disablePointerEvents,t[a.variant]]}})(({theme:e,ownerState:t})=>(0,y.default)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${k.positionStart}&:not(.${k.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})),D=n.forwardRef(function(e,a){let r=(0,B.useDefaultProps)({props:e,name:"MuiInputAdornment"}),{children:i,className:s,component:o="div",disablePointerEvents:c=!1,disableTypography:d=!1,position:u,variant:h}=r,x=(0,j.default)(r,E),p=(0,P.default)()||{},m=h;h&&p.variant,p&&!m&&(m=p.variant);let g=(0,y.default)({},r,{hiddenLabel:p.hiddenLabel,size:p.size,disablePointerEvents:c,position:u,variant:m}),A=(e=>{let{classes:t,disablePointerEvents:a,hiddenLabel:l,position:n,size:r,variant:i}=e,s={root:["root",a&&"disablePointerEvents",n&&`position${(0,v.default)(n)}`,i,l&&"hiddenLabel",r&&`size${(0,v.default)(r)}`]};return(0,b.default)(s,I,t)})(g);return(0,l.jsx)(T.default.Provider,{value:null,children:(0,l.jsx)(R,(0,y.default)({as:o,ownerState:g,className:(0,f.default)(A.root,s),ref:a},x,{children:"string"!=typeof i||d?(0,l.jsxs)(n.Fragment,{children:["start"===u?t||(t=(0,l.jsx)("span",{className:"notranslate",children:"​"})):null,i]}):(0,l.jsx)(C.default,{color:"text.secondary",children:i})}))})});var L=e.i(94367),O=e.i(87225),M=e.i(33932),N=e.i(63104),W=e.i(7656),z=e.i(50723),_=e.i(77072),F=e.i(48246),$=e.i(93703),G=e.i(95996),K=e.i(23913),V=e.i(15226),U=e.i(71880),H=e.i(76710),q=e.i(13216),X=e.i(795),Z=e.i(7997),J=e.i(35017);let Y=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],Q=n.forwardRef(function(e,t){var a,n,r,i,s,o,c,d;let{backIconButtonProps:u,count:h,disabled:x=!1,getItemAriaLabel:p,nextIconButtonProps:m,onPageChange:g,page:f,rowsPerPage:b,showFirstButton:v,showLastButton:C,slots:T={},slotProps:P={}}=e,A=(0,j.default)(e,Y),w=(0,U.useRtl)(),S=null!=(a=T.firstButton)?a:X.default,I=null!=(n=T.lastButton)?n:X.default,k=null!=(r=T.nextButton)?r:X.default,B=null!=(i=T.previousButton)?i:X.default,E=null!=(s=T.firstButtonIcon)?s:J.default,R=null!=(o=T.lastButtonIcon)?o:Z.default,D=null!=(c=T.nextButtonIcon)?c:q.default,L=null!=(d=T.previousButtonIcon)?d:H.default,O=w?I:S,M=w?k:B,N=w?B:k,W=w?S:I,z=w?P.lastButton:P.firstButton,_=w?P.nextButton:P.previousButton,F=w?P.previousButton:P.nextButton,$=w?P.firstButton:P.lastButton;return(0,l.jsxs)("div",(0,y.default)({ref:t},A,{children:[v&&(0,l.jsx)(O,(0,y.default)({onClick:e=>{g(e,0)},disabled:x||0===f,"aria-label":p("first",f),title:p("first",f)},z,{children:w?(0,l.jsx)(R,(0,y.default)({},P.lastButtonIcon)):(0,l.jsx)(E,(0,y.default)({},P.firstButtonIcon))})),(0,l.jsx)(M,(0,y.default)({onClick:e=>{g(e,f-1)},disabled:x||0===f,color:"inherit","aria-label":p("previous",f),title:p("previous",f)},null!=_?_:u,{children:w?(0,l.jsx)(D,(0,y.default)({},P.nextButtonIcon)):(0,l.jsx)(L,(0,y.default)({},P.previousButtonIcon))})),(0,l.jsx)(N,(0,y.default)({onClick:e=>{g(e,f+1)},disabled:x||-1!==h&&f>=Math.ceil(h/b)-1,color:"inherit","aria-label":p("next",f),title:p("next",f)},null!=F?F:m,{children:w?(0,l.jsx)(L,(0,y.default)({},P.previousButtonIcon)):(0,l.jsx)(D,(0,y.default)({},P.nextButtonIcon))})),C&&(0,l.jsx)(W,(0,y.default)({onClick:e=>{g(e,Math.max(0,Math.ceil(h/b)-1))},disabled:x||f>=Math.ceil(h/b)-1,"aria-label":p("last",f),title:p("last",f)},$,{children:w?(0,l.jsx)(E,(0,y.default)({},P.firstButtonIcon)):(0,l.jsx)(R,(0,y.default)({},P.lastButtonIcon))}))]}))});var ee=e.i(18104);function et(e){return(0,S.default)("MuiTablePagination",e)}let ea=(0,w.default)("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),el=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"],en=(0,A.default)(K.default,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}})),er=(0,A.default)(V.default,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>(0,y.default)({[`& .${ea.actions}`]:t.actions},t.toolbar)})(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${ea.actions}`]:{flexShrink:0,marginLeft:20}})),ei=(0,A.default)("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})({flex:"1 1 100%"}),es=(0,A.default)("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,t)=>t.selectLabel})(({theme:e})=>(0,y.default)({},e.typography.body2,{flexShrink:0})),eo=(0,A.default)(G.default,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>(0,y.default)({[`& .${ea.selectIcon}`]:t.selectIcon,[`& .${ea.select}`]:t.select},t.input,t.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${ea.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),ec=(0,A.default)($.default,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})({}),ed=(0,A.default)("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,t)=>t.displayedRows})(({theme:e})=>(0,y.default)({},e.typography.body2,{flexShrink:0}));function eu({from:e,to:t,count:a}){return`${e}–${t} of ${-1!==a?a:`more than ${t}`}`}function eh(e){return`Go to ${e} page`}let ex=n.forwardRef(function(e,t){var r;let i,s=(0,B.useDefaultProps)({props:e,name:"MuiTablePagination"}),{ActionsComponent:o=Q,backIconButtonProps:c,className:d,colSpan:u,component:h=K.default,count:x,disabled:p=!1,getItemAriaLabel:m=eh,labelDisplayedRows:g=eu,labelRowsPerPage:v="Rows per page:",nextIconButtonProps:C,onPageChange:T,onRowsPerPageChange:P,page:A,rowsPerPage:w,rowsPerPageOptions:S=[10,25,50,100],SelectProps:I={},showFirstButton:k=!1,showLastButton:E=!1,slotProps:R={},slots:D={}}=s,L=(0,j.default)(s,el),O=(e=>{let{classes:t}=e;return(0,b.default)({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},et,t)})(s),M=null!=(r=null==R?void 0:R.select)?r:I,N=M.native?"option":ec;(h===K.default||"td"===h)&&(i=u||1e3);let W=(0,ee.default)(M.id),z=(0,ee.default)(M.labelId);return(0,l.jsx)(en,(0,y.default)({colSpan:i,ref:t,as:h,ownerState:s,className:(0,f.default)(O.root,d)},L,{children:(0,l.jsxs)(er,{className:O.toolbar,children:[(0,l.jsx)(ei,{className:O.spacer}),S.length>1&&(0,l.jsx)(es,{className:O.selectLabel,id:z,children:v}),S.length>1&&(0,l.jsx)(eo,(0,y.default)({variant:"standard"},!M.variant&&{input:a||(a=(0,l.jsx)(F.default,{}))},{value:w,onChange:P,id:W,labelId:z},M,{classes:(0,y.default)({},M.classes,{root:(0,f.default)(O.input,O.selectRoot,(M.classes||{}).root),select:(0,f.default)(O.select,(M.classes||{}).select),icon:(0,f.default)(O.selectIcon,(M.classes||{}).icon)}),disabled:p,children:S.map(e=>(0,n.createElement)(N,(0,y.default)({},!(0,_.default)(N)&&{ownerState:s},{className:O.menuItem,key:e.label?e.label:e,value:e.value?e.value:e}),e.label?e.label:e))})),(0,l.jsx)(ed,{className:O.displayedRows,children:g({from:0===x?0:A*w+1,to:-1===x?(A+1)*w:-1===w?x:Math.min(x,(A+1)*w),count:-1===x?-1:x,page:A})}),(0,l.jsx)(o,{className:O.actions,backIconButtonProps:c,count:x,nextIconButtonProps:C,onPageChange:T,page:A,rowsPerPage:w,showFirstButton:k,showLastButton:E,slotProps:R.actions,slots:D.actions,getItemAriaLabel:m,disabled:p})]})}))});var ep=e.i(86012),em=e.i(92297),eg=e.i(20161),ej=e.i(21089),ey=e.i(59129),ef=e.i(1051),eb=e.i(62992),ev=e.i(83161),eC=e.i(47617),eT=e.i(39972),eP=e.i(37451),eA=e.i(9109),ew=e.i(37025),eS=e.i(15708),eI=e.i(10251),ek=e.i(83378),eB=e.i(29360),eE=e.i(34699),eR=e.i(26712),eD=e.i(95532),eL=e.i(94544),eO=e.i(85106),eM=e.i(98721),eN=e.i(13516),eW=e.i(62438),ez=e.i(31862),e_=e.i(24918),eF=e.i(58176),e$=e.i(72695),eG=e.i(9124),eK=e.i(68213),eV=e.i(69783),eU=e.i(87988),eH=e.i(79507),eq=e.i(71088),eX=e.i(25411),eZ=e.i(25806),eJ=e.i(19148),eY=e.i(40382),eQ=e.i(612),e0=e.i(21310),e2=e.i(79539),e1=e.i(79728),e5=e.i(61257),e4=e.i(34022),e6=e.i(75684),e8=e.i(58213),e3=e.i(68791);function e7(e){var t=(0,e8.useAppDispatch)();return(0,n.useEffect)(()=>{t((0,e3.updatePolarOptions)(e))},[t,e]),null}var e9=e.i(18779),te=e.i(92736),tt=["layout"];function ta(){return(ta=Object.assign.bind()).apply(null,arguments)}var tl={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},tn=(0,n.forwardRef)(function(e,t){var a,l=(0,te.resolveDefaultProps)(e.categoricalChartProps,tl),{layout:r}=l,i=function(e,t){if(null==e)return{};var a,l,n=function(e,t){if(null==e)return{};var a={};for(var l in e)if(({}).hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)a=r[l],-1===t.indexOf(a)&&({}).propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(l,tt),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=e;return n.createElement(e1.RechartsStoreProvider,{preloadedState:{options:{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0}},reduxStoreName:null!=(a=l.id)?a:s},n.createElement(e5.ChartDataContextProvider,{chartData:l.data}),n.createElement(e4.ReportMainChartProps,{layout:r,margin:l.margin}),n.createElement(e6.ReportChartProps,{baseValue:void 0,accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className,reverseStackOrder:l.reverseStackOrder}),n.createElement(e7,{cx:l.cx,cy:l.cy,startAngle:l.startAngle,endAngle:l.endAngle,innerRadius:l.innerRadius,outerRadius:l.outerRadius}),n.createElement(e9.CategoricalChart,ta({},i,{ref:t})))});function tr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,l)}return a}function ti(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(a),!0).forEach(function(t){var l,n,r;l=e,n=t,r=a[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in l?Object.defineProperty(l,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):l[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tr(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ts=["item"],to=ti(ti({},tl),{},{layout:"centric",startAngle:0,endAngle:360}),tc=(0,n.forwardRef)((e,t)=>{var a=(0,te.resolveDefaultProps)(e,to);return n.createElement(tn,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ts,tooltipPayloadSearcher:e2.arrayTooltipSearcher,categoricalChartProps:a,ref:t})}),td=e.i(3412),tu=e.i(35878),th=e.i(60924),tx=e.i(57679),tp=e.i(41888),tm=e.i(26607),tg=e.i(94418),tj=e.i(52492),ty=e.i(6603),tf=e.i(48747),tb=e=>e.graphicalItems.polarItems,tv=(0,tu.createSelector)([tj.pickAxisType,ty.pickAxisId],tm.itemAxisPredicate),tC=(0,tu.createSelector)([tb,tm.selectBaseAxis,tv],tm.combineGraphicalItemsSettings),tT=(0,tu.createSelector)([tC],tm.combineGraphicalItemsData),tP=(0,tu.createSelector)([tT,th.selectChartDataAndAlwaysIgnoreIndexes],tm.combineDisplayedData),tA=(0,tu.createSelector)([tP,tm.selectBaseAxis,tC],tm.combineAppliedValues);(0,tu.createSelector)([tP,tm.selectBaseAxis,tC],(e,t,a)=>a.length>0?e.flatMap(e=>a.flatMap(a=>{var l;return{value:(0,tp.getValueByDataKey)(e,null!=(l=t.dataKey)?l:a.dataKey),errorDomain:[]}})).filter(Boolean):(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:(0,tp.getValueByDataKey)(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})));var tw=()=>void 0,tS=(0,tu.createSelector)([tP,tm.selectBaseAxis,tC,tm.selectAllErrorBarSettings,tj.pickAxisType],tm.combineDomainOfAllAppliedNumericalValuesIncludingErrorValues),tI=(0,tu.createSelector)([tm.selectBaseAxis,tm.selectDomainDefinition,tm.selectDomainFromUserPreference,tw,tS,tw,tg.selectChartLayout,tj.pickAxisType],tm.combineNumericalDomain),tk=(0,tu.createSelector)([tm.selectBaseAxis,tg.selectChartLayout,tP,tA,tf.selectStackOffsetType,tj.pickAxisType,tI],tm.combineAxisDomain),tB=(0,tu.createSelector)([tk,tm.selectBaseAxis,tm.selectRealScaleType],tm.combineNiceTicks);function tE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,l)}return a}function tR(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tE(Object(a),!0).forEach(function(t){var l,n,r;l=e,n=t,r=a[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in l?Object.defineProperty(l,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):l[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tE(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}(0,tu.createSelector)([tm.selectBaseAxis,tk,tB,tj.pickAxisType],tm.combineAxisDomainWithNiceTicks);var tD=(0,tu.createSelector)([tb,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),tL=[],tO=(e,t,a)=>(null==a?void 0:a.length)===0?tL:a,tM=(0,tu.createSelector)([th.selectChartDataAndAlwaysIgnoreIndexes,tD,tO],(e,t,a)=>{var l,{chartData:n}=e;if(null!=t&&((l=(null==t?void 0:t.data)!=null&&t.data.length>0?t.data:n)&&l.length||null==a||(l=a.map(e=>tR(tR({},t.presentationProps),e.props))),null!=l))return l}),tN=(0,tu.createSelector)([tM,tD,tO],(e,t,a)=>{if(null!=e&&null!=t)return e.map((e,l)=>{var n,r,i=(0,tp.getValueByDataKey)(e,t.nameKey,t.name);return r=null!=a&&null!=(n=a[l])&&null!=(n=n.props)&&n.fill?a[l].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:(0,tp.getTooltipNameProp)(i,t.dataKey),color:r,payload:e,type:t.legendType}})}),tW=(0,tu.createSelector)([tM,tD,tO,tx.selectChartOffsetInternal],(e,t,a,l)=>{if(null!=t&&null!=e)return function(e){var t,a,l,{pieSettings:n,displayedData:r,cells:i,offset:s}=e,{cornerRadius:o,startAngle:c,endAngle:d,dataKey:u,nameKey:h,tooltipType:x}=n,p=Math.abs(n.minAngle),m=(0,tV.mathSign)(d-c)*Math.min(Math.abs(d-c),360),g=Math.abs(m),j=r.length<=1?0:null!=(t=n.paddingAngle)?t:0,y=r.filter(e=>0!==(0,tp.getValueByDataKey)(e,u,0)).length,f=g-y*p-(g>=360?y:y-1)*j,b=r.reduce((e,t)=>{var a=(0,tp.getValueByDataKey)(t,u,0);return e+((0,tV.isNumber)(a)?a:0)},0);return b>0&&(a=r.map((e,t)=>{var a,r=(0,tp.getValueByDataKey)(e,u,0),d=(0,tp.getValueByDataKey)(e,h,t),g=((e,t,a)=>{var l,{top:n,left:r,width:i,height:s}=t,o=(0,tK.getMaxRadius)(i,s),c=r+(0,tV.getPercentValue)(e.cx,i,i/2),d=n+(0,tV.getPercentValue)(e.cy,s,s/2),u=(0,tV.getPercentValue)(e.innerRadius,o,0);return{cx:c,cy:d,innerRadius:u,outerRadius:(l=e.outerRadius,"function"==typeof l?(0,tV.getPercentValue)(l(a),o,.8*o):(0,tV.getPercentValue)(l,o,.8*o)),maxRadius:e.maxRadius||Math.sqrt(i*i+s*s)/2}})(n,s,e),y=((0,tV.isNumber)(r)?r:0)/b,v=aa(aa({},e),i&&i[t]&&i[t].props),C=(a=t?l.endAngle+(0,tV.mathSign)(m)*j*(0!==r):c)+(0,tV.mathSign)(m)*((0!==r?p:0)+y*f),T=(a+C)/2,P=(g.innerRadius+g.outerRadius)/2,A=[{name:d,value:r,payload:v,dataKey:u,type:x}],w=(0,tK.polarToCartesian)(g.cx,g.cy,P,T);return l=aa(aa(aa(aa({},n.presentationProps),{},{percent:y,cornerRadius:"string"==typeof o?parseFloat(o):o,name:d,tooltipPayload:A,midAngle:T,middleRadius:P,tooltipPosition:w},v),g),{},{value:r,dataKey:u,startAngle:a,endAngle:C,payload:v,paddingAngle:(0,tV.mathSign)(m)*j})})),a}({offset:l,pieSettings:t,displayedData:e,cells:a})}),tz=e.i(28185),t_=e.i(77958),tF=e.i(81335),t$=e.i(84309),tG=e.i(93589),tK=e.i(72566),tV=e.i(35806),tU=e.i(68721),tH=e.i(95626),tq=e.i(67892),tX=e.i(37538),tZ=e.i(2321),tJ=e.i(54364),tY=e.i(75583),tQ=e.i(79823),t0=e.i(3142),t2=e.i(59271),t1=e.i(95584),t5=e.i(67438),t4=e.i(41184),t6=e.i(30193),t8=e.i(93941),t3=["key"],t7=["onMouseEnter","onClick","onMouseLeave"],t9=["id"],ae=["id"];function at(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,l)}return a}function aa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?at(Object(a),!0).forEach(function(t){var l,n,r;l=e,n=t,r=a[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in l?Object.defineProperty(l,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):l[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):at(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function al(){return(al=Object.assign.bind()).apply(null,arguments)}function an(e,t){if(null==e)return{};var a,l,n=function(e,t){if(null==e)return{};var a={};for(var l in e)if(({}).hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)a=r[l],-1===t.indexOf(a)&&({}).propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ar(e){var t=(0,n.useMemo)(()=>(0,tG.findAllByType)(e.children,t$.Cell),[e.children]),a=(0,e8.useAppSelector)(a=>tN(a,e.id,t));return null==a?null:n.createElement(tJ.SetPolarLegendPayload,{legendPayload:a})}var ai=n.memo(e=>{var{dataKey:t,nameKey:a,sectors:l,stroke:r,strokeWidth:i,fill:s,name:o,hide:c,tooltipType:d}=e,u={dataDefinedOnItem:l.map(e=>e.tooltipPayload),positions:l.map(e=>e.tooltipPosition),settings:{stroke:r,strokeWidth:i,fill:s,dataKey:t,nameKey:a,name:(0,tp.getTooltipNameProp)(o,t),hide:c,type:d,color:s,unit:""}};return n.createElement(tX.SetTooltipEntrySettings,{tooltipEntrySettings:u})});function as(e){var{sectors:t,props:a,showLabels:l}=e,{label:r,labelLine:i,dataKey:s}=a;if(!l||!r||!t)return null;var o=(0,t1.svgPropertiesNoEvents)(a),c=(0,t1.svgPropertiesNoEventsFromUnknown)(r),d=(0,t1.svgPropertiesNoEventsFromUnknown)(i),u="object"==typeof r&&"offsetRadius"in r&&"number"==typeof r.offsetRadius&&r.offsetRadius||20,h=t.map((e,t)=>{var a,l,h=(e.startAngle+e.endAngle)/2,x=(0,tK.polarToCartesian)(e.cx,e.cy,e.outerRadius+u,h),p=aa(aa(aa(aa({},o),e),{},{stroke:"none"},c),{},{index:t,textAnchor:(a=x.x)>(l=e.cx)?"start":a<l?"end":"middle"},x),m=aa(aa(aa(aa({},o),e),{},{fill:"none",stroke:e.fill},d),{},{index:t,points:[(0,tK.polarToCartesian)(e.cx,e.cy,e.outerRadius,h),x],key:"line"});return n.createElement(t6.ZIndexLayer,{zIndex:t8.DefaultZIndexes.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},n.createElement(tz.Layer,null,i&&((e,t)=>{if(n.isValidElement(e))return n.cloneElement(e,t);if("function"==typeof e)return e(t);var a=(0,f.clsx)("recharts-pie-label-line","boolean"!=typeof e?e.className:""),{key:l}=t,r=an(t,t3);return n.createElement(t_.Curve,al({},r,{type:"linear",className:a}))})(i,m),((e,t,a)=>{if(n.isValidElement(e))return n.cloneElement(e,t);var l=a;if("function"==typeof e&&(l=e(t),n.isValidElement(l)))return l;var r=(0,f.clsx)("recharts-pie-label-text",e&&"object"==typeof e&&"className"in e&&"string"==typeof e.className?e.className:"");return n.createElement(tF.Text,al({},t,{alignmentBaseline:"middle",className:r}),l)})(r,p,(0,tp.getValueByDataKey)(e,s))))});return n.createElement(tz.Layer,{className:"recharts-pie-labels"},h)}function ao(e){var{sectors:t,props:a,showLabels:l}=e,{label:r}=a;return"object"==typeof r&&null!=r&&"position"in r?n.createElement(t4.LabelListFromLabelProp,{label:r}):n.createElement(as,{sectors:t,props:a,showLabels:l})}function ac(e){var{sectors:t,activeShape:a,inactiveShape:l,allOtherPieProps:r,shape:i,id:s}=e,o=(0,e8.useAppSelector)(tZ.selectActiveTooltipIndex),c=(0,e8.useAppSelector)(tZ.selectActiveTooltipDataKey),d=(0,e8.useAppSelector)(tZ.selectActiveTooltipGraphicalItemId),{onMouseEnter:u,onClick:h,onMouseLeave:x}=r,p=an(r,t7),m=(0,tq.useMouseEnterItemDispatch)(u,r.dataKey,s),g=(0,tq.useMouseLeaveItemDispatch)(x),j=(0,tq.useMouseClickItemDispatch)(h,r.dataKey,s);return null==t||0===t.length?null:n.createElement(n.Fragment,null,t.map((e,u)=>{if((null==e?void 0:e.startAngle)===0&&(null==e?void 0:e.endAngle)===0&&1!==t.length)return null;var h=null==d||d===s,x=String(u)===o&&(null==c||r.dataKey===c)&&h,y=a&&x?a:o?l:null,f=aa(aa({},e),{},{stroke:e.stroke,tabIndex:-1,[tY.DATA_ITEM_INDEX_ATTRIBUTE_NAME]:u,[tY.DATA_ITEM_DATAKEY_ATTRIBUTE_NAME]:r.dataKey});return n.createElement(tz.Layer,al({key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(u),tabIndex:-1,className:"recharts-pie-sector"},(0,tU.adaptEventsOfChild)(p,e,u),{onMouseEnter:m(e,u),onMouseLeave:g(e,u),onClick:j(e,u)}),n.createElement(tH.Shape,al({option:null!=i?i:y,index:u,shapeType:"sector",isActive:x},f)))}))}function ad(e){var{showLabels:t,sectors:a,children:l}=e,r=(0,n.useMemo)(()=>t&&a?a.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[a,t]);return n.createElement(t4.PolarLabelListContextProvider,{value:t?r:void 0},l)}function au(e){var{props:t,previousSectorsRef:a,id:l}=e,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:c,activeShape:d,inactiveShape:u,onAnimationStart:h,onAnimationEnd:x}=t,p=(0,tQ.useAnimationId)(t,"recharts-pie-"),m=a.current,[g,j]=(0,n.useState)(!1),y=(0,n.useCallback)(()=>{"function"==typeof x&&x(),j(!1)},[x]),f=(0,n.useCallback)(()=>{"function"==typeof h&&h(),j(!0)},[h]);return n.createElement(ad,{showLabels:!g,sectors:r},n.createElement(t5.JavascriptAnimate,{animationId:p,begin:s,duration:o,isActive:i,easing:c,onAnimationStart:f,onAnimationEnd:y,key:p},e=>{var i=[],s=r&&r[0],o=null==s?void 0:s.startAngle;return null==r||r.forEach((t,a)=>{var l=m&&m[a],n=a>0?(0,td.default)(t,"paddingAngle",0):0;if(l){var r=(0,tV.interpolate)(l.endAngle-l.startAngle,t.endAngle-t.startAngle,e),s=aa(aa({},t),{},{startAngle:o+n,endAngle:o+r+n});i.push(s),o=s.endAngle}else{var{endAngle:c,startAngle:d}=t,u=(0,tV.interpolate)(0,c-d,e),h=aa(aa({},t),{},{startAngle:o+n,endAngle:o+u+n});i.push(h),o=h.endAngle}}),a.current=i,n.createElement(tz.Layer,null,n.createElement(ac,{sectors:i,activeShape:d,inactiveShape:u,allOtherPieProps:t,shape:t.shape,id:l}))}),n.createElement(ao,{showLabels:!g,sectors:r,props:t}),t.children)}var ah={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:t8.DefaultZIndexes.area};function ax(e){var{id:t}=e,a=an(e,t9),{hide:l,className:r,rootTabIndex:i}=e,s=(0,n.useMemo)(()=>(0,tG.findAllByType)(e.children,t$.Cell),[e.children]),o=(0,e8.useAppSelector)(e=>tW(e,t,s)),c=(0,n.useRef)(null),d=(0,f.clsx)("recharts-pie",r);return l||null==o?(c.current=null,n.createElement(tz.Layer,{tabIndex:i,className:d})):n.createElement(t6.ZIndexLayer,{zIndex:e.zIndex},n.createElement(ai,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),n.createElement(tz.Layer,{tabIndex:i,className:d},n.createElement(au,{props:aa(aa({},a),{},{sectors:o}),previousSectorsRef:c,id:t})))}function ap(e){var t=(0,te.resolveDefaultProps)(e,ah),{id:a}=t,l=an(t,ae),r=(0,t1.svgPropertiesNoEvents)(l);return n.createElement(t0.RegisterGraphicalItemId,{id:a,type:"pie"},e=>n.createElement(n.Fragment,null,n.createElement(t2.SetPolarGraphicalItem,{type:"pie",id:e,data:l.data,dataKey:l.dataKey,hide:l.hide,angleAxisId:0,radiusAxisId:0,name:l.name,nameKey:l.nameKey,tooltipType:l.tooltipType,legendType:l.legendType,fill:l.fill,cx:l.cx,cy:l.cy,startAngle:l.startAngle,endAngle:l.endAngle,paddingAngle:l.paddingAngle,minAngle:l.minAngle,innerRadius:l.innerRadius,outerRadius:l.outerRadius,cornerRadius:l.cornerRadius,presentationProps:r,maxRadius:t.maxRadius}),n.createElement(ar,al({},l,{id:e})),n.createElement(ax,al({},l,{id:e}))))}ap.displayName="Pie";var am=e.i(20887),ag=e.i(21504),aj=e.i(15254),ay=e.i(13654),af=e.i(33948),ab=e.i(18295),av=e.i(92279),aC=e.i(47379),aT=e.i(84579),aP=e.i(4591),aA=e.i(6909),aw=e.i(64321),aS=e.i(63640),aI=e.i(76497);let ak=["CRM","Analytics","Email Marketing","Project Management","Support Desk","Billing"];function aB({open:e,user:t,onClose:a,onSuccess:r,onError:s,availableClients:x}){let[p,j]=(0,n.useState)(0),[y,f]=(0,n.useState)(!1),[b,v]=(0,n.useState)(!1),[C,T]=(0,n.useState)({firstName:"",lastName:"",username:"",email:"",phone:"",zipcode:"",address:"",joiningDate:"",status:"active",isEmployee:!1,isAdmin:!1,isClient:!1,systemsConnected:[]}),[P,A]=(0,n.useState)([]),[w,S]=(0,n.useState)([]),[I,k]=(0,n.useState)([]),B=(0,ay.getBackendUrl)();(0,n.useEffect)(()=>{t&&e&&(T({firstName:t.first_name||"",lastName:t.last_name||"",username:t.username||"",email:t.email||"",phone:t.phone||"",zipcode:t.zipcode||"",address:t.address||"",joiningDate:t.joining_date||new Date().toISOString().split("T")[0],status:t.status||"active",isEmployee:t.is_employee||!1,isAdmin:t.is_admin||!1,isClient:t.is_client||!1,systemsConnected:[]}),j(0),E(t.id))},[t,e]);let E=async e=>{v(!0);try{let[t,a,l]=await Promise.all([fetch(`${B}/api/admin/users/${e}/clients`,{credentials:"include"}),fetch(`${B}/api/admin/users/${e}/tasks`,{credentials:"include"}),fetch(`${B}/api/admin/users/${e}/support-requests`,{credentials:"include"})]);if(t.ok){let e=await t.json();A(e.clients||[])}if(a.ok){let e=await a.json();S(e.tasks||[])}if(l.ok){let e=await l.json();k(e.requests||[])}}catch(e){console.error("Error fetching user data:",e)}finally{v(!1)}},R=async()=>{if(t){f(!0);try{let e=await fetch(`${B}/api/admin/users/${t.id}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:C.firstName,last_name:C.lastName,username:C.username,email:C.email,phone:C.phone,zipcode:C.zipcode,address:C.address,joining_date:C.joiningDate,status:C.status,is_admin:C.isAdmin,is_employee:C.isEmployee,is_client:C.isClient})});if(e.ok)r("User updated successfully"),a();else{let t=await e.json();s(t.error||"Failed to update user")}}catch(e){s("Failed to update user")}finally{f(!1)}}},D=async e=>{if(t)try{let a=await fetch(`${B}/api/admin/users/${t.id}/unassign-client/${e}`,{method:"DELETE",credentials:"include"});if(a.ok)r("Client unassigned successfully"),E(t.id);else{let e=await a.json();s(e.error||"Failed to unassign client")}}catch(e){s("Failed to unassign client")}};return t?(0,l.jsxs)(af.Dialog,{open:e,onClose:a,maxWidth:"md",fullWidth:!0,children:[(0,l.jsxs)(ab.DialogTitle,{children:[(0,l.jsx)(o.Typography,{variant:"h6",fontWeight:600,children:"Edit User"}),(0,l.jsx)(o.Typography,{variant:"body2",color:"text.secondary",children:"Manage user settings, permissions, and assignments"})]}),(0,l.jsxs)(av.DialogContent,{dividers:!0,children:[(0,l.jsx)(i.Box,{display:"flex",justifyContent:"center",mb:3,children:(0,l.jsxs)(i.Box,{position:"relative",children:[(0,l.jsx)(eb.Avatar,{src:t.profile_image,sx:{width:80,height:80},children:C.firstName?.[0]||t.username?.[0]}),(0,l.jsx)(ep.IconButton,{size:"small",sx:{position:"absolute",bottom:0,right:0,bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"}},children:(0,l.jsx)(aI.default,{fontSize:"small"})})]})}),(0,l.jsxs)(c.Tabs,{value:p,onChange:(e,t)=>j(t),sx:{borderBottom:1,borderColor:"divider",mb:3},children:[(0,l.jsx)(d.Tab,{label:"Personal Details"}),(0,l.jsx)(d.Tab,{label:`Assigned Clients (${P.length})`}),(0,l.jsx)(d.Tab,{label:`Tasks (${w.length})`}),(0,l.jsx)(d.Tab,{label:`Support (${I.length})`})]}),0===p&&(0,l.jsxs)(i.Box,{children:[(0,l.jsx)(o.Typography,{variant:"subtitle2",fontWeight:600,mb:2,children:"Personal Information"}),(0,l.jsxs)(h.Grid,{container:!0,spacing:2,children:[(0,l.jsx)(h.Grid,{item:!0,xs:6,children:(0,l.jsx)(g.TextField,{fullWidth:!0,label:"First Name",required:!0,value:C.firstName,onChange:e=>T({...C,firstName:e.target.value})})}),(0,l.jsx)(h.Grid,{item:!0,xs:6,children:(0,l.jsx)(g.TextField,{fullWidth:!0,label:"Last Name",required:!0,value:C.lastName,onChange:e=>T({...C,lastName:e.target.value})})}),(0,l.jsx)(h.Grid,{item:!0,xs:6,children:(0,l.jsx)(g.TextField,{fullWidth:!0,label:"Username",required:!0,value:C.username,onChange:e=>T({...C,username:e.target.value})})}),(0,l.jsx)(h.Grid,{item:!0,xs:6,children:(0,l.jsx)(g.TextField,{fullWidth:!0,label:"Email",required:!0,type:"email",value:C.email,onChange:e=>T({...C,email:e.target.value})})}),(0,l.jsx)(h.Grid,{item:!0,xs:6,children:(0,l.jsx)(g.TextField,{fullWidth:!0,label:"Phone",value:C.phone,onChange:e=>T({...C,phone:e.target.value})})}),(0,l.jsx)(h.Grid,{item:!0,xs:6,children:(0,l.jsx)(g.TextField,{fullWidth:!0,label:"Joining Date",type:"date",InputLabelProps:{shrink:!0},value:C.joiningDate,onChange:e=>T({...C,joiningDate:e.target.value})})}),(0,l.jsx)(h.Grid,{item:!0,xs:12,children:(0,l.jsx)(g.TextField,{fullWidth:!0,label:"Zip/Code",value:C.zipcode,onChange:e=>T({...C,zipcode:e.target.value})})}),(0,l.jsx)(h.Grid,{item:!0,xs:12,children:(0,l.jsx)(g.TextField,{fullWidth:!0,label:"Address",multiline:!0,rows:2,value:C.address,onChange:e=>T({...C,address:e.target.value})})})]}),(0,l.jsx)(o.Typography,{variant:"subtitle2",fontWeight:600,mt:3,mb:2,children:"Permissions"}),(0,l.jsxs)(eS.Stack,{spacing:2,children:[(0,l.jsx)(aT.FormControlLabel,{control:(0,l.jsx)(aP.Switch,{checked:C.isAdmin,onChange:e=>T({...C,isAdmin:e.target.checked})}),label:"Admin Access - Full system control and user management"}),(0,l.jsx)(aT.FormControlLabel,{control:(0,l.jsx)(aP.Switch,{checked:C.isEmployee,onChange:e=>T({...C,isEmployee:e.target.checked})}),label:"Employee Status - Can be assigned clients and tasks"}),(0,l.jsx)(aT.FormControlLabel,{control:(0,l.jsx)(aP.Switch,{checked:C.isClient,onChange:e=>T({...C,isClient:e.target.checked})}),label:"Client Status - External client with limited access"})]}),(0,l.jsx)(o.Typography,{variant:"subtitle2",fontWeight:600,mt:3,mb:2,children:"Account Status"}),(0,l.jsxs)(aw.RadioGroup,{row:!0,value:C.status,onChange:e=>T({...C,status:e.target.value}),children:[(0,l.jsx)(aT.FormControlLabel,{value:"active",control:(0,l.jsx)(aA.Radio,{}),label:"Active"}),(0,l.jsx)(aT.FormControlLabel,{value:"pending",control:(0,l.jsx)(aA.Radio,{}),label:"Pending"}),(0,l.jsx)(aT.FormControlLabel,{value:"reported",control:(0,l.jsx)(aA.Radio,{}),label:"Reported"}),(0,l.jsx)(aT.FormControlLabel,{value:"blocked",control:(0,l.jsx)(aA.Radio,{}),label:"Blocked"})]}),C.isClient&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.Typography,{variant:"subtitle2",fontWeight:600,mt:3,mb:2,children:"Systems Connected"}),(0,l.jsx)(aS.Autocomplete,{multiple:!0,options:ak,value:C.systemsConnected,onChange:(e,t)=>T({...C,systemsConnected:t}),renderInput:e=>(0,l.jsx)(g.TextField,{...e,label:"Select Systems"})})]})]}),1===p&&(0,l.jsx)(i.Box,{children:b?(0,l.jsx)(i.Box,{display:"flex",justifyContent:"center",py:4,children:(0,l.jsx)(ew.CircularProgress,{})}):0===P.length?(0,l.jsx)(eA.Alert,{severity:"info",children:"No clients assigned yet"}):(0,l.jsx)(eS.Stack,{spacing:1,children:P.map(e=>(0,l.jsxs)(u.Paper,{sx:{p:2,display:"flex",justifyContent:"space-between",alignItems:"center","&:hover":{bgcolor:"action.hover"}},children:[(0,l.jsxs)(i.Box,{children:[(0,l.jsx)(o.Typography,{variant:"body2",fontWeight:500,children:e.name}),(0,l.jsxs)(o.Typography,{variant:"caption",color:"text.secondary",children:[e.company," • ",e.email]}),(0,l.jsx)(i.Box,{mt:.5,children:(0,l.jsx)(ef.Chip,{label:e.status,size:"small",color:"active"===e.status?"success":"default",sx:{textTransform:"capitalize"}})})]}),(0,l.jsx)(ep.IconButton,{size:"small",color:"error",onClick:()=>D(e.id),children:(0,l.jsx)(eL.default,{})})]},e.id))})}),2===p&&(0,l.jsx)(i.Box,{children:b?(0,l.jsx)(i.Box,{display:"flex",justifyContent:"center",py:4,children:(0,l.jsx)(ew.CircularProgress,{})}):0===w.length?(0,l.jsx)(eA.Alert,{severity:"info",children:"No tasks assigned"}):(0,l.jsx)(N.TableContainer,{children:(0,l.jsxs)(L.Table,{size:"small",children:[(0,l.jsx)(W.TableHead,{children:(0,l.jsxs)(z.TableRow,{children:[(0,l.jsx)(M.TableCell,{children:"Task"}),(0,l.jsx)(M.TableCell,{children:"Client"}),(0,l.jsx)(M.TableCell,{children:"Status"}),(0,l.jsx)(M.TableCell,{children:"Priority"}),(0,l.jsx)(M.TableCell,{children:"Due Date"})]})}),(0,l.jsx)(O.TableBody,{children:w.map(e=>(0,l.jsxs)(z.TableRow,{hover:!0,children:[(0,l.jsxs)(M.TableCell,{children:[(0,l.jsx)(o.Typography,{variant:"body2",fontWeight:500,children:e.title}),e.description&&(0,l.jsxs)(o.Typography,{variant:"caption",color:"text.secondary",children:[e.description.substring(0,50),"..."]})]}),(0,l.jsx)(M.TableCell,{children:e.client_name||"N/A"}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(ef.Chip,{label:e.status,size:"small"})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(ef.Chip,{label:e.priority,size:"small",color:"high"===e.priority?"error":"medium"===e.priority?"warning":"default"})}),(0,l.jsx)(M.TableCell,{children:e.due_date?new Date(e.due_date).toLocaleDateString():"N/A"})]},e.id))})]})})}),3===p&&(0,l.jsx)(i.Box,{children:b?(0,l.jsx)(i.Box,{display:"flex",justifyContent:"center",py:4,children:(0,l.jsx)(ew.CircularProgress,{})}):0===I.length?(0,l.jsx)(eA.Alert,{severity:"info",children:"No support requests"}):(0,l.jsx)(N.TableContainer,{children:(0,l.jsxs)(L.Table,{size:"small",children:[(0,l.jsx)(W.TableHead,{children:(0,l.jsxs)(z.TableRow,{children:[(0,l.jsx)(M.TableCell,{children:"Subject"}),(0,l.jsx)(M.TableCell,{children:"Client"}),(0,l.jsx)(M.TableCell,{children:"Priority"}),(0,l.jsx)(M.TableCell,{children:"Status"}),(0,l.jsx)(M.TableCell,{children:"Created"})]})}),(0,l.jsx)(O.TableBody,{children:I.map(e=>(0,l.jsxs)(z.TableRow,{hover:!0,children:[(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(o.Typography,{variant:"body2",fontWeight:500,children:e.subject})}),(0,l.jsx)(M.TableCell,{children:e.client_name||"N/A"}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(ef.Chip,{label:e.priority,size:"small",color:"urgent"===e.priority?"error":"high"===e.priority?"warning":"default"})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(ef.Chip,{label:e.status,size:"small"})}),(0,l.jsx)(M.TableCell,{children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]})})})]}),(0,l.jsxs)(aC.DialogActions,{sx:{p:2},children:[(0,l.jsx)(m.Button,{onClick:a,disabled:y,children:"Cancel"}),(0,l.jsx)(m.Button,{variant:"contained",onClick:R,disabled:y,children:y?(0,l.jsx)(ew.CircularProgress,{size:24}):"Update User"})]})]}):null}var aE=e.i(8195);function aR(e){let{children:t,value:a,index:n,...r}=e;return(0,l.jsx)("div",{role:"tabpanel",hidden:a!==n,id:`crm-tabpanel-${n}`,"aria-labelledby":`crm-tab-${n}`,...r,children:a===n&&(0,l.jsx)(i.Box,{sx:{pt:3},children:t})})}function aD(){let e;(0,ek.useTheme)();let{user:t}=(0,aj.useAuth)(),[a,j]=(0,n.useState)(0),[y,f]=(0,n.useState)(!0),[b,v]=(0,n.useState)(null),[C,T]=(0,n.useState)(null),[P,A]=(0,n.useState)([]),[w,S]=(0,n.useState)([]),[I,k]=(0,n.useState)([]),[B,E]=(0,n.useState)(""),[R,_]=(0,n.useState)("all"),[F,$]=(0,n.useState)("all"),[G,K]=(0,n.useState)("month"),[V,U]=(0,n.useState)(0),[H,q]=(0,n.useState)(10),[X,Z]=(0,n.useState)(!1),[J,Y]=(0,n.useState)(!1),[Q,ee]=(0,n.useState)(null),[et,ea]=(0,n.useState)(null),[el,en]=(0,n.useState)(null),[er,ei]=(0,n.useState)(null),es=(0,ay.getBackendUrl)();(0,n.useEffect)(()=>{eo()},[]),(0,n.useEffect)(()=>{if(b||C){let e=setTimeout(()=>{v(null),T(null)},5e3);return()=>clearTimeout(e)}},[b,C]);let eo=async()=>{f(!0);try{await Promise.all([ec(),ed(),eu()])}finally{f(!1)}},ec=async()=>{try{let e=await fetch(`${es}/api/admin/users`,{credentials:"include"});if(e.ok){let t=await e.json();A(t.users||[])}}catch(e){console.error("Error fetching users:",e)}},ed=async()=>{try{let e=await fetch(`${es}/api/creative/clients`,{credentials:"include"});if(e.ok){let t=await e.json();S(t.clients||[])}}catch(e){console.error("Error fetching clients:",e)}},eu=async()=>{try{let e=await fetch(`${es}/api/shopify/customers`,{credentials:"include"});if(e.ok){let t=await e.json();k(t.customers||[])}else k([])}catch(e){console.error("Error fetching Shopify customers:",e),k([])}},eh=P.length,e2=w.filter(e=>"active"===e.status||"pending"===e.status).length,e1=w.filter(e=>"prospect"===e.status).length,e5=I.length;P.filter(e=>e.is_employee&&"active"===e.status).length;let e4=w.filter(e=>"prospect"===e.status||"pending"===e.status).length,e6=w.filter(e=>"active"===e.status).length,e8=e4>0?Math.round(e6/(e4+e6)*100):0,e3=w.filter(e=>{if(!e.createdAt)return!1;let t=new Date(e.createdAt),a=(Date.now()-t.getTime())/864e5;return("prospect"===e.status||"pending"===e.status)&&a<=7}).length,e7=w.filter(e=>"prospect"===e.status||"pending"===e.status).length,e9=w.filter(e=>"active"===e.status).length,te=w.filter(e=>"inactive"===e.status).length,tt=(()=>{let e=["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],t=[],a=new Date;for(let l=6;l>=0;l--){let n=new Date(a);n.setDate(n.getDate()-l);let r=e[n.getDay()],i=w.filter(e=>!!e.createdAt&&new Date(e.createdAt).toDateString()===n.toDateString()&&("prospect"===e.status||"pending"===e.status)).length,s=w.filter(e=>!!e.createdAt&&new Date(e.createdAt).toDateString()===n.toDateString()&&"active"===e.status).length;t.push({day:r,leads:i,customers:s})}return t})(),ta=[{name:"In Progress",value:w.filter(e=>"active"===e.status).length,color:"#9c27b0"},{name:"On Hold",value:w.filter(e=>"pending"===e.status).length,color:"#ffc107"},{name:"Upcoming",value:w.filter(e=>"prospect"===e.status).length,color:"#9e9e9e"},{name:"Completed",value:Math.floor(.2*e2),color:"#4caf50"}].filter(e=>e.value>0),tl=w.filter(e=>"active"===e.status).length,tn=(e=B.toLowerCase(),0===a?P.filter(t=>t.username?.toLowerCase().includes(e)||t.email?.toLowerCase().includes(e)||t.first_name?.toLowerCase().includes(e)||t.last_name?.toLowerCase().includes(e)):1===a?w.filter(t=>{let a=t.name?.toLowerCase().includes(e)||t.email?.toLowerCase().includes(e)||t.company?.toLowerCase().includes(e),l="all"===R||t.status===R,n="all"===F||"client"===F&&("active"===t.status||"pending"===t.status)||"prospect"===F&&"prospect"===t.status||"lead"===F&&"prospect"===t.status;return a&&l&&n}):2===a?w.filter(t=>{let a=t.name?.toLowerCase().includes(e)||t.email?.toLowerCase().includes(e)||t.company?.toLowerCase().includes(e);return("prospect"===t.status||"pending"===t.status)&&a}):I.filter(t=>t.email?.toLowerCase().includes(e)||t.firstName?.toLowerCase().includes(e)||t.lastName?.toLowerCase().includes(e))),tr=tn.slice(V*H,V*H+H),ti=(e,t,a)=>{en(e.currentTarget),ei(a),"user"===a?ee(t):ea(t)},ts=()=>{en(null),ei(null)},to=async()=>{if("user"===er&&Q)try{let e=await fetch(`${es}/api/admin/users/${Q.id}`,{method:"DELETE",credentials:"include"});if(e.ok)v("User deleted successfully"),ec();else{let t=await e.json();T(t.error||"Failed to delete user")}}catch(e){T("Failed to delete user")}else if("client"===er&&et)try{let e=await fetch(`${es}/api/creative/clients/${et.id}`,{method:"DELETE",credentials:"include"});if(e.ok)v("Client deleted successfully"),ed();else{let t=await e.json();T(t.error||"Failed to delete client")}}catch(e){T("Failed to delete client")}ts()},td=async(e,t)=>{if("client"===er&&et)try{let e=await fetch(`${es}/api/creative/clients/${et.id}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})});if(e.ok)v("Status updated successfully"),ed();else{let t=await e.json();T(t.error||"Failed to update status")}}catch(e){T("Failed to update status")}ts()},tu=e=>{switch(e){case"active":return"success";case"pending":return"warning";case"prospect":return"info";case"blocked":return"error";default:return"default"}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r.default,{children:[(0,l.jsx)("title",{children:"CRM Dashboard - iShareHow Labs"}),(0,l.jsx)("meta",{name:"description",content:"Manage users, clients, prospects, and Shopify data"})]}),(0,l.jsx)(ag.default,{children:(0,l.jsx)(am.default,{active:void 0,children:(0,l.jsxs)(s.Container,{maxWidth:"xl",sx:{py:4},children:[(0,l.jsxs)(i.Box,{sx:{mb:4},children:[(0,l.jsx)(o.Typography,{variant:"h4",fontWeight:800,gutterBottom:!0,children:"CRM Dashboard"}),(0,l.jsx)(o.Typography,{variant:"body1",color:"text.secondary",children:"Manage users, clients, prospects, and Shopify data all in one place"})]}),(0,l.jsxs)(h.Grid,{container:!0,spacing:3,sx:{mb:4},children:[(0,l.jsx)(h.Grid,{item:!0,xs:12,sm:6,md:3,children:(0,l.jsx)(x.Card,{elevation:2,children:(0,l.jsx)(p.CardContent,{children:(0,l.jsxs)(eS.Stack,{direction:"row",spacing:2,alignItems:"center",children:[(0,l.jsx)(eb.Avatar,{sx:{bgcolor:"primary.main",width:56,height:56},children:(0,l.jsx)(eW.default,{})}),(0,l.jsxs)(i.Box,{children:[(0,l.jsx)(o.Typography,{variant:"h4",fontWeight:700,children:eh}),(0,l.jsx)(o.Typography,{variant:"body2",color:"text.secondary",children:"Total Users"})]})]})})})}),(0,l.jsx)(h.Grid,{item:!0,xs:12,sm:6,md:3,children:(0,l.jsx)(x.Card,{elevation:2,children:(0,l.jsx)(p.CardContent,{children:(0,l.jsxs)(eS.Stack,{direction:"row",spacing:2,alignItems:"center",children:[(0,l.jsx)(eb.Avatar,{sx:{bgcolor:"success.main",width:56,height:56},children:(0,l.jsx)(eO.default,{})}),(0,l.jsxs)(i.Box,{children:[(0,l.jsx)(o.Typography,{variant:"h4",fontWeight:700,children:e2}),(0,l.jsx)(o.Typography,{variant:"body2",color:"text.secondary",children:"Active Clients"})]})]})})})}),(0,l.jsx)(h.Grid,{item:!0,xs:12,sm:6,md:3,children:(0,l.jsx)(x.Card,{elevation:2,children:(0,l.jsx)(p.CardContent,{children:(0,l.jsxs)(eS.Stack,{direction:"row",spacing:2,alignItems:"center",children:[(0,l.jsx)(eb.Avatar,{sx:{bgcolor:"info.main",width:56,height:56},children:(0,l.jsx)(eM.default,{})}),(0,l.jsxs)(i.Box,{children:[(0,l.jsx)(o.Typography,{variant:"h4",fontWeight:700,children:e1}),(0,l.jsx)(o.Typography,{variant:"body2",color:"text.secondary",children:"Prospects/Leads"})]})]})})})}),(0,l.jsx)(h.Grid,{item:!0,xs:12,sm:6,md:3,children:(0,l.jsx)(x.Card,{elevation:2,children:(0,l.jsx)(p.CardContent,{children:(0,l.jsxs)(eS.Stack,{direction:"row",spacing:2,alignItems:"center",children:[(0,l.jsx)(eb.Avatar,{sx:{bgcolor:"warning.main",width:56,height:56},children:(0,l.jsx)(eN.default,{})}),(0,l.jsxs)(i.Box,{children:[(0,l.jsx)(o.Typography,{variant:"h4",fontWeight:700,children:e5}),(0,l.jsx)(o.Typography,{variant:"body2",color:"text.secondary",children:"Shopify Customers"})]})]})})})})]}),b&&(0,l.jsx)(eA.Alert,{severity:"success",sx:{mb:3},onClose:()=>v(null),children:b}),C&&(0,l.jsx)(eA.Alert,{severity:"error",sx:{mb:3},onClose:()=>T(null),children:C}),(0,l.jsxs)(u.Paper,{elevation:2,sx:{borderRadius:3,overflow:"hidden"},children:[(0,l.jsx)(i.Box,{sx:{borderBottom:1,borderColor:"divider",px:2},children:(0,l.jsxs)(c.Tabs,{value:a,onChange:(e,t)=>{j(t),U(0),E(""),_("all"),$("all")},variant:"scrollable",scrollButtons:"auto",children:[(0,l.jsx)(d.Tab,{icon:(0,l.jsx)(eW.default,{}),iconPosition:"start",label:"Users & Employees",sx:{textTransform:"none",fontWeight:600}}),(0,l.jsx)(d.Tab,{icon:(0,l.jsx)(eO.default,{}),iconPosition:"start",label:"Clients & Customers",sx:{textTransform:"none",fontWeight:600}}),(0,l.jsx)(d.Tab,{icon:(0,l.jsx)(eM.default,{}),iconPosition:"start",label:"Prospects & Leads",sx:{textTransform:"none",fontWeight:600}}),(0,l.jsx)(d.Tab,{icon:(0,l.jsx)(eN.default,{}),iconPosition:"start",label:"Shopify Data",sx:{textTransform:"none",fontWeight:600}}),(0,l.jsx)(d.Tab,{icon:(0,l.jsx)(eF.default,{}),iconPosition:"start",label:"Analytics",sx:{textTransform:"none",fontWeight:600}})]})}),(0,l.jsxs)(i.Box,{sx:{p:3},children:[(0,l.jsxs)(i.Box,{sx:{mb:3,display:"flex",gap:2,flexWrap:"wrap",alignItems:"center"},children:[(0,l.jsx)(g.TextField,{placeholder:"Search...",value:B,onChange:e=>E(e.target.value),InputProps:{startAdornment:(0,l.jsx)(D,{position:"start",children:(0,l.jsx)(eB.default,{})})},sx:{flexGrow:1,maxWidth:400}}),(1===a||2===a)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(ev.FormControl,{size:"small",sx:{minWidth:150},children:[(0,l.jsx)(eC.InputLabel,{children:"Status"}),(0,l.jsxs)(eT.Select,{value:R,label:"Status",onChange:e=>_(e.target.value),children:[(0,l.jsx)(eg.MenuItem,{value:"all",children:"All Status"}),(0,l.jsx)(eg.MenuItem,{value:"active",children:"Active"}),(0,l.jsx)(eg.MenuItem,{value:"pending",children:"Pending"}),(0,l.jsx)(eg.MenuItem,{value:"prospect",children:"Prospect"}),(0,l.jsx)(eg.MenuItem,{value:"inactive",children:"Inactive"})]})]}),(0,l.jsxs)(ev.FormControl,{size:"small",sx:{minWidth:150},children:[(0,l.jsx)(eC.InputLabel,{children:"Type"}),(0,l.jsxs)(eT.Select,{value:F,label:"Type",onChange:e=>$(e.target.value),children:[(0,l.jsx)(eg.MenuItem,{value:"all",children:"All Types"}),(0,l.jsx)(eg.MenuItem,{value:"client",children:"Client"}),(0,l.jsx)(eg.MenuItem,{value:"prospect",children:"Prospect"}),(0,l.jsx)(eg.MenuItem,{value:"lead",children:"Lead"})]})]})]}),(0,l.jsx)(m.Button,{variant:"outlined",startIcon:(0,l.jsx)(e_.default,{}),onClick:eo,sx:{textTransform:"none"},children:"Refresh"}),(1===a||2===a)&&(0,l.jsxs)(m.Button,{variant:"contained",startIcon:(0,l.jsx)(eE.default,{}),onClick:()=>Z(!0),sx:{textTransform:"none"},children:["Add ",2===a?"Prospect":"Client"]})]}),(0,l.jsx)(aR,{value:a,index:0,children:y?(0,l.jsx)(i.Box,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,l.jsx)(ew.CircularProgress,{})}):(0,l.jsxs)(N.TableContainer,{children:[(0,l.jsxs)(L.Table,{children:[(0,l.jsx)(W.TableHead,{children:(0,l.jsxs)(z.TableRow,{children:[(0,l.jsx)(M.TableCell,{padding:"checkbox",children:(0,l.jsx)(eP.Checkbox,{})}),(0,l.jsx)(M.TableCell,{children:"Profile"}),(0,l.jsx)(M.TableCell,{children:"Email & Username"}),(0,l.jsx)(M.TableCell,{children:"Role"}),(0,l.jsx)(M.TableCell,{children:"Status"}),(0,l.jsx)(M.TableCell,{children:"Date"}),(0,l.jsx)(M.TableCell,{align:"right",children:"Actions"})]})}),(0,l.jsx)(O.TableBody,{children:tr.map(e=>(0,l.jsxs)(z.TableRow,{hover:!0,children:[(0,l.jsx)(M.TableCell,{padding:"checkbox",children:(0,l.jsx)(eP.Checkbox,{})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsxs)(i.Box,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[(0,l.jsx)(eb.Avatar,{src:e.profile_image,sx:{width:40,height:40},children:e.first_name?.[0]||e.username?.[0]}),(0,l.jsxs)(i.Box,{children:[(0,l.jsxs)(o.Typography,{variant:"body2",fontWeight:500,children:[e.first_name," ",e.last_name]}),(0,l.jsxs)(o.Typography,{variant:"caption",color:"text.secondary",children:["#",e.id]})]})]})}),(0,l.jsxs)(M.TableCell,{children:[(0,l.jsx)(o.Typography,{variant:"body2",children:e.email}),(0,l.jsx)(o.Typography,{variant:"caption",color:"text.secondary",children:e.username})]}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(ef.Chip,{label:e.is_admin?"Admin":e.is_employee?"Employee":e.is_client?"Client":"User",size:"small",color:"primary",variant:"outlined"})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(ef.Chip,{label:e.status||"Active",size:"small",color:tu(e.status),sx:{textTransform:"capitalize"}})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(o.Typography,{variant:"body2",children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"})}),(0,l.jsx)(M.TableCell,{align:"right",children:(0,l.jsx)(ep.IconButton,{size:"small",onClick:t=>ti(t,e,"user"),children:(0,l.jsx)(eR.default,{})})})]},e.id))})]}),(0,l.jsx)(ex,{rowsPerPageOptions:[5,10,25],component:"div",count:tn.length,rowsPerPage:H,page:V,onPageChange:(e,t)=>U(t),onRowsPerPageChange:e=>{q(parseInt(e.target.value,10)),U(0)}})]})}),(0,l.jsx)(aR,{value:a,index:1,children:y?(0,l.jsx)(i.Box,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,l.jsx)(ew.CircularProgress,{})}):(0,l.jsxs)(N.TableContainer,{children:[(0,l.jsxs)(L.Table,{children:[(0,l.jsx)(W.TableHead,{children:(0,l.jsxs)(z.TableRow,{children:[(0,l.jsx)(M.TableCell,{padding:"checkbox",children:(0,l.jsx)(eP.Checkbox,{})}),(0,l.jsx)(M.TableCell,{children:"Company & Contact"}),(0,l.jsx)(M.TableCell,{children:"Email & Phone"}),(0,l.jsx)(M.TableCell,{children:"Status"}),(0,l.jsx)(M.TableCell,{children:"Tier"}),(0,l.jsx)(M.TableCell,{children:"Assigned To"}),(0,l.jsx)(M.TableCell,{children:"Date"}),(0,l.jsx)(M.TableCell,{align:"right",children:"Actions"})]})}),(0,l.jsx)(O.TableBody,{children:tr.map(e=>(0,l.jsxs)(z.TableRow,{hover:!0,children:[(0,l.jsx)(M.TableCell,{padding:"checkbox",children:(0,l.jsx)(eP.Checkbox,{})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsxs)(i.Box,{children:[(0,l.jsx)(o.Typography,{variant:"body2",fontWeight:500,children:e.company||e.name}),(0,l.jsx)(o.Typography,{variant:"caption",color:"text.secondary",children:e.name})]})}),(0,l.jsxs)(M.TableCell,{children:[(0,l.jsx)(o.Typography,{variant:"body2",children:e.email}),(0,l.jsx)(o.Typography,{variant:"caption",color:"text.secondary",children:e.phone||"No phone"})]}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(ef.Chip,{label:e.status,size:"small",color:tu(e.status),sx:{textTransform:"capitalize"}})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(ef.Chip,{label:e.tier||"N/A",size:"small",variant:"outlined"})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(o.Typography,{variant:"body2",children:e.assignedEmployee||"Unassigned"})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(o.Typography,{variant:"body2",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})}),(0,l.jsx)(M.TableCell,{align:"right",children:(0,l.jsx)(ep.IconButton,{size:"small",onClick:t=>ti(t,e,"client"),children:(0,l.jsx)(eR.default,{})})})]},e.id))})]}),(0,l.jsx)(ex,{rowsPerPageOptions:[5,10,25],component:"div",count:tn.length,rowsPerPage:H,page:V,onPageChange:(e,t)=>U(t),onRowsPerPageChange:e=>{q(parseInt(e.target.value,10)),U(0)}})]})}),(0,l.jsx)(aR,{value:a,index:2,children:y?(0,l.jsx)(i.Box,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,l.jsx)(ew.CircularProgress,{})}):(0,l.jsxs)(N.TableContainer,{children:[(0,l.jsxs)(L.Table,{children:[(0,l.jsx)(W.TableHead,{children:(0,l.jsxs)(z.TableRow,{children:[(0,l.jsx)(M.TableCell,{padding:"checkbox",children:(0,l.jsx)(eP.Checkbox,{})}),(0,l.jsx)(M.TableCell,{children:"Contact Info"}),(0,l.jsx)(M.TableCell,{children:"Company"}),(0,l.jsx)(M.TableCell,{children:"Status"}),(0,l.jsx)(M.TableCell,{children:"Source"}),(0,l.jsx)(M.TableCell,{children:"Date"}),(0,l.jsx)(M.TableCell,{align:"right",children:"Actions"})]})}),(0,l.jsx)(O.TableBody,{children:tr.map(e=>(0,l.jsxs)(z.TableRow,{hover:!0,children:[(0,l.jsx)(M.TableCell,{padding:"checkbox",children:(0,l.jsx)(eP.Checkbox,{})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsxs)(i.Box,{children:[(0,l.jsx)(o.Typography,{variant:"body2",fontWeight:500,children:e.name}),(0,l.jsx)(o.Typography,{variant:"caption",color:"text.secondary",children:e.email})]})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(o.Typography,{variant:"body2",children:e.company||"N/A"})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(ef.Chip,{label:e.status,size:"small",color:tu(e.status),sx:{textTransform:"capitalize"}})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(ef.Chip,{label:"Demo Form",size:"small",variant:"outlined"})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(o.Typography,{variant:"body2",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})}),(0,l.jsx)(M.TableCell,{align:"right",children:(0,l.jsx)(ep.IconButton,{size:"small",onClick:t=>ti(t,e,"client"),children:(0,l.jsx)(eR.default,{})})})]},e.id))})]}),(0,l.jsx)(ex,{rowsPerPageOptions:[5,10,25],component:"div",count:tn.length,rowsPerPage:H,page:V,onPageChange:(e,t)=>U(t),onRowsPerPageChange:e=>{q(parseInt(e.target.value,10)),U(0)}})]})}),(0,l.jsx)(aR,{value:a,index:3,children:y?(0,l.jsx)(i.Box,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,l.jsx)(ew.CircularProgress,{})}):0===I.length?(0,l.jsxs)(i.Box,{sx:{textAlign:"center",py:6},children:[(0,l.jsx)(eN.default,{sx:{fontSize:64,color:"text.secondary",mb:2,opacity:.5}}),(0,l.jsx)(o.Typography,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No Shopify Data"}),(0,l.jsx)(o.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Shopify integration is not configured or no customers found."}),(0,l.jsx)(m.Button,{variant:"outlined",startIcon:(0,l.jsx)(e_.default,{}),onClick:eu,sx:{textTransform:"none"},children:"Refresh"})]}):(0,l.jsxs)(N.TableContainer,{children:[(0,l.jsxs)(L.Table,{children:[(0,l.jsx)(W.TableHead,{children:(0,l.jsxs)(z.TableRow,{children:[(0,l.jsx)(M.TableCell,{padding:"checkbox",children:(0,l.jsx)(eP.Checkbox,{})}),(0,l.jsx)(M.TableCell,{children:"Customer"}),(0,l.jsx)(M.TableCell,{children:"Email"}),(0,l.jsx)(M.TableCell,{children:"Phone"}),(0,l.jsx)(M.TableCell,{children:"Total Spent"}),(0,l.jsx)(M.TableCell,{children:"Orders"}),(0,l.jsx)(M.TableCell,{children:"Date"}),(0,l.jsx)(M.TableCell,{align:"right",children:"Actions"})]})}),(0,l.jsx)(O.TableBody,{children:tr.map(e=>(0,l.jsxs)(z.TableRow,{hover:!0,children:[(0,l.jsx)(M.TableCell,{padding:"checkbox",children:(0,l.jsx)(eP.Checkbox,{})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(i.Box,{children:(0,l.jsxs)(o.Typography,{variant:"body2",fontWeight:500,children:[e.firstName," ",e.lastName]})})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(o.Typography,{variant:"body2",children:e.email})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(o.Typography,{variant:"body2",children:e.phone||"N/A"})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsxs)(o.Typography,{variant:"body2",fontWeight:600,children:["$",e.totalSpent.toFixed(2)]})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(ef.Chip,{label:e.ordersCount,size:"small"})}),(0,l.jsx)(M.TableCell,{children:(0,l.jsx)(o.Typography,{variant:"body2",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})}),(0,l.jsx)(M.TableCell,{align:"right",children:(0,l.jsx)(ep.IconButton,{size:"small",children:(0,l.jsx)(eR.default,{})})})]},e.id))})]}),(0,l.jsx)(ex,{rowsPerPageOptions:[5,10,25],component:"div",count:tn.length,rowsPerPage:H,page:V,onPageChange:(e,t)=>U(t),onRowsPerPageChange:e=>{q(parseInt(e.target.value,10)),U(0)}})]})}),(0,l.jsx)(aR,{value:a,index:4,children:(0,l.jsxs)(i.Box,{children:[(0,l.jsxs)(h.Grid,{container:!0,spacing:3,sx:{mb:3},children:[(0,l.jsx)(h.Grid,{item:!0,xs:12,sm:6,md:3,children:(0,l.jsx)(x.Card,{elevation:2,sx:{borderRadius:2,height:"100%"},children:(0,l.jsxs)(p.CardContent,{children:[(0,l.jsx)(o.Typography,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Leads Converted"}),(0,l.jsxs)(o.Typography,{variant:"h3",fontWeight:700,sx:{color:"primary.main",mb:1},children:[e8,"%"]}),(0,l.jsxs)(o.Typography,{variant:"body2",color:"text.secondary",children:[e6," out of ",e4+e6]}),(0,l.jsx)(i.Box,{sx:{mt:2,display:"flex",justifyContent:"flex-end"},children:(0,l.jsx)(eb.Avatar,{sx:{bgcolor:"primary.main",width:56,height:56},children:(0,l.jsx)(eW.default,{})})})]})})}),(0,l.jsx)(h.Grid,{item:!0,xs:12,sm:6,md:3,children:(0,l.jsx)(x.Card,{elevation:2,sx:{borderRadius:2,height:"100%"},children:(0,l.jsxs)(p.CardContent,{children:[(0,l.jsxs)(eS.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:1},children:[(0,l.jsx)(eb.Avatar,{sx:{bgcolor:"primary.main",width:40,height:40},children:(0,l.jsx)(eV.default,{})}),(0,l.jsx)(o.Typography,{variant:"body2",color:"text.secondary",children:"Invoice Payments"})]}),(0,l.jsx)(o.Typography,{variant:"h4",fontWeight:700,children:10*e2})]})})}),(0,l.jsx)(h.Grid,{item:!0,xs:12,sm:6,md:3,children:(0,l.jsx)(x.Card,{elevation:2,sx:{borderRadius:2,height:"100%"},children:(0,l.jsxs)(p.CardContent,{children:[(0,l.jsxs)(eS.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:1},children:[(0,l.jsx)(eb.Avatar,{sx:{bgcolor:"primary.main",width:40,height:40},children:(0,l.jsx)(eU.default,{})}),(0,l.jsx)(o.Typography,{variant:"body2",color:"text.secondary",children:"Project In Progress"})]}),(0,l.jsx)(o.Typography,{variant:"h4",fontWeight:700,children:tl})]})})}),(0,l.jsx)(h.Grid,{item:!0,xs:12,sm:6,md:3,children:(0,l.jsx)(x.Card,{elevation:2,sx:{borderRadius:2,height:"100%"},children:(0,l.jsxs)(p.CardContent,{children:[(0,l.jsxs)(eS.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:1},children:[(0,l.jsx)(eb.Avatar,{sx:{bgcolor:"grey.700",width:40,height:40},children:(0,l.jsx)(ez.default,{})}),(0,l.jsx)(o.Typography,{variant:"body2",color:"text.secondary",children:"Task Not Finished"})]}),(0,l.jsx)(o.Typography,{variant:"h4",fontWeight:700,children:22})]})})})]}),(0,l.jsxs)(h.Grid,{container:!0,spacing:3,sx:{mb:3},children:[(0,l.jsx)(h.Grid,{item:!0,xs:12,md:8,children:(0,l.jsx)(x.Card,{elevation:2,sx:{borderRadius:2},children:(0,l.jsxs)(p.CardContent,{children:[(0,l.jsxs)(i.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,l.jsx)(o.Typography,{variant:"h6",fontWeight:600,children:"Leads VS Customers"}),(0,l.jsx)(ev.FormControl,{size:"small",sx:{minWidth:120},children:(0,l.jsxs)(eT.Select,{value:G,onChange:e=>K(e.target.value),sx:{textTransform:"none"},children:[(0,l.jsx)(eg.MenuItem,{value:"week",children:"Week"}),(0,l.jsx)(eg.MenuItem,{value:"month",children:"Month"}),(0,l.jsx)(eg.MenuItem,{value:"year",children:"Year"})]})})]}),(0,l.jsx)(e0.ResponsiveContainer,{width:"100%",height:300,children:(0,l.jsxs)(eH.LineChart,{data:tt,children:[(0,l.jsx)(eJ.CartesianGrid,{strokeDasharray:"3 3"}),(0,l.jsx)(eX.XAxis,{dataKey:"day"}),(0,l.jsx)(eZ.YAxis,{}),(0,l.jsx)(eY.Tooltip,{}),(0,l.jsx)(eQ.Legend,{}),(0,l.jsx)(eq.Line,{type:"monotone",dataKey:"leads",stroke:"#9c27b0",strokeWidth:2,name:"Leads"}),(0,l.jsx)(eq.Line,{type:"monotone",dataKey:"customers",stroke:"#ffc107",strokeWidth:2,name:"Customers"})]})})]})})}),(0,l.jsx)(h.Grid,{item:!0,xs:12,md:4,children:(0,l.jsx)(x.Card,{elevation:2,sx:{borderRadius:2},children:(0,l.jsxs)(p.CardContent,{children:[(0,l.jsx)(o.Typography,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Project Status"}),(0,l.jsx)(e0.ResponsiveContainer,{width:"100%",height:300,children:(0,l.jsxs)(tc,{children:[(0,l.jsx)(ap,{data:ta,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:ta.map((e,t)=>(0,l.jsx)(t$.Cell,{fill:e.color},`cell-${t}`))}),(0,l.jsx)(eY.Tooltip,{}),(0,l.jsx)(eQ.Legend,{verticalAlign:"bottom",height:36,formatter:e=>(0,l.jsx)("span",{style:{fontSize:"12px"},children:e})})]})})]})})})]}),(0,l.jsxs)(h.Grid,{container:!0,spacing:3,children:[(0,l.jsx)(h.Grid,{item:!0,xs:12,sm:6,md:3,children:(0,l.jsx)(x.Card,{elevation:2,sx:{borderRadius:2},children:(0,l.jsx)(p.CardContent,{children:(0,l.jsxs)(eS.Stack,{direction:"row",spacing:2,alignItems:"center",children:[(0,l.jsx)(eb.Avatar,{sx:{bgcolor:"primary.main",width:48,height:48},children:(0,l.jsx)(eK.default,{})}),(0,l.jsxs)(i.Box,{children:[(0,l.jsx)(o.Typography,{variant:"body2",color:"text.secondary",children:"New Leads"}),(0,l.jsx)(o.Typography,{variant:"h5",fontWeight:700,children:e3})]})]})})})}),(0,l.jsx)(h.Grid,{item:!0,xs:12,sm:6,md:3,children:(0,l.jsx)(x.Card,{elevation:2,sx:{borderRadius:2},children:(0,l.jsx)(p.CardContent,{children:(0,l.jsxs)(eS.Stack,{direction:"row",spacing:2,alignItems:"center",children:[(0,l.jsx)(eb.Avatar,{sx:{bgcolor:"warning.main",width:48,height:48},children:(0,l.jsx)(eW.default,{})}),(0,l.jsxs)(i.Box,{children:[(0,l.jsx)(o.Typography,{variant:"body2",color:"text.secondary",children:"Open Leads"}),(0,l.jsx)(o.Typography,{variant:"h5",fontWeight:700,children:e7})]})]})})})}),(0,l.jsx)(h.Grid,{item:!0,xs:12,sm:6,md:3,children:(0,l.jsx)(x.Card,{elevation:2,sx:{borderRadius:2},children:(0,l.jsx)(p.CardContent,{children:(0,l.jsxs)(eS.Stack,{direction:"row",spacing:2,alignItems:"center",children:[(0,l.jsx)(eb.Avatar,{sx:{bgcolor:"primary.main",width:48,height:48},children:(0,l.jsx)(e$.default,{})}),(0,l.jsxs)(i.Box,{children:[(0,l.jsx)(o.Typography,{variant:"body2",color:"text.secondary",children:"Won Leads"}),(0,l.jsx)(o.Typography,{variant:"h5",fontWeight:700,children:e9})]})]})})})}),(0,l.jsx)(h.Grid,{item:!0,xs:12,sm:6,md:3,children:(0,l.jsx)(x.Card,{elevation:2,sx:{borderRadius:2},children:(0,l.jsx)(p.CardContent,{children:(0,l.jsxs)(eS.Stack,{direction:"row",spacing:2,alignItems:"center",children:[(0,l.jsx)(eb.Avatar,{sx:{bgcolor:"error.main",width:48,height:48},children:(0,l.jsx)(eG.default,{})}),(0,l.jsxs)(i.Box,{children:[(0,l.jsx)(o.Typography,{variant:"body2",color:"text.secondary",children:"Lost Leads"}),(0,l.jsx)(o.Typography,{variant:"h5",fontWeight:700,children:te})]})]})})})})]})]})})]})]}),(0,l.jsxs)(em.Menu,{anchorEl:el,open:!!el,onClose:ts,children:[(0,l.jsxs)(eg.MenuItem,{onClick:()=>{"user"===er&&Q?Y(!0):"client"===er&&et&&Z(!0),ts()},children:[(0,l.jsx)(ej.ListItemIcon,{children:(0,l.jsx)(eD.default,{fontSize:"small"})}),(0,l.jsx)(ey.ListItemText,{children:"Edit"})]}),"client"===er&&et&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(eg.MenuItem,{onClick:()=>td(et,"active"),children:[(0,l.jsx)(ej.ListItemIcon,{children:(0,l.jsx)(eP.Checkbox,{checked:"active"===et.status})}),(0,l.jsx)(ey.ListItemText,{children:"Mark as Active"})]}),(0,l.jsxs)(eg.MenuItem,{onClick:()=>td(et,"prospect"),children:[(0,l.jsx)(ej.ListItemIcon,{children:(0,l.jsx)(eP.Checkbox,{checked:"prospect"===et.status})}),(0,l.jsx)(ey.ListItemText,{children:"Mark as Prospect"})]}),(0,l.jsx)(eI.Divider,{})]}),(0,l.jsxs)(eg.MenuItem,{onClick:to,children:[(0,l.jsx)(ej.ListItemIcon,{children:(0,l.jsx)(eL.default,{fontSize:"small",color:"error"})}),(0,l.jsx)(ey.ListItemText,{children:"Delete"})]})]}),(0,l.jsx)(aE.default,{open:X,onClose:()=>{Z(!1),ed()}}),(0,l.jsx)(aB,{open:J,user:Q,onClose:()=>{Y(!1),ee(null),ec()},onSuccess:v,onError:T,availableClients:w})]})})})]})}e.s(["default",()=>aD],57664)},47607,(e,t,a)=>{let l="/crm";(window.__NEXT_P=window.__NEXT_P||[]).push([l,()=>e.r(57664)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([l])})}]);