(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7950,(e,t,r)=>{"use strict";var a=e.r(91074);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e.r(64800)),i=e.r(44855);r.default=(0,o.default)((0,i.jsx)("path",{d:"M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11"}),"Extension")},7795,(e,t,r)=>{"use strict";var a=e.r(91074);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e.r(64800)),i=e.r(44855);r.default=(0,o.default)((0,i.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp")},34203,(e,t,r)=>{"use strict";var a=e.r(91074);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e.r(64800)),i=e.r(44855);r.default=(0,o.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear")},19250,e=>{"use strict";var t=e.i(44855),r=e.i(20887),a=e.i(58891),o=e.i(74614),i=e.i(72204),n=e.i(65790),s=e.i(15915),l=e.i(92378),d=e.i(75557),c=e.i(54704),u=e.i(9109),h=e.i(45162),x=e.i(3430),m=e.i(72992),p=e.i(10251),g=e.i(46153),f=e.i(55047),y=e.i(7950),v=e.i(34699),j=e.i(91554),b=e.i(75016);let C=()=>{let[e,t]=(0,a.useState)(null),[r,o]=(0,a.useState)([]),[i,n]=(0,a.useState)(!1),[s,l]=(0,a.useState)(null),d=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=(0,b.getSocket)();d.current=e;let r=()=>{n(!0),l(null)},a=()=>{n(!1)},i=e=>{l("Connection failed. Please check your internet connection."),console.error("Socket connection error:",e)},s=e=>{t(e.room),o(e.room.players),l(null)},c=e=>{t(e.room),o(e.room.players),l(null)},u=e=>{o(e.room.players),t(e.room)},h=e=>{o(e.room.players),t(e.room)},x=e=>{t(e.room)},m=e=>{t(e.room)},p=e=>{t(e.room)},g=e=>{t(e.room),e.result.scores&&o(t=>t.map(t=>{let r=e.result.scores.find(e=>e.playerId===t.id);return r?{...t,score:r.totalScore}:t}))},f=e=>{},y=e=>{l(e.message)};return e.on("connect",r),e.on("disconnect",a),e.on("connect_error",i),e.on("game:room-created",s),e.on("game:room-joined",c),e.on("game:player-joined",u),e.on("game:player-left",h),e.on("game:started",x),e.on("game:state-update",m),e.on("game:round-start",p),e.on("game:round-end",g),e.on("game:drawing-update",f),e.on("game:error",y),n(e.connected),()=>{e.off("connect",r),e.off("disconnect",a),e.off("connect_error",i),e.off("game:room-created",s),e.off("game:room-joined",c),e.off("game:player-joined",u),e.off("game:player-left",h),e.off("game:started",x),e.off("game:state-update",m),e.off("game:round-start",p),e.off("game:round-end",g),e.off("game:drawing-update",f),e.off("game:error",y)}},[]);let c=(0,a.useCallback)(e=>{d.current&&d.current.emit("game:create-room",e)},[]),u=(0,a.useCallback)(e=>{d.current&&d.current.emit("game:join-room",e)},[]),h=(0,a.useCallback)(()=>{d.current&&e&&(d.current.emit("game:leave-room",{roomCode:e.roomCode}),t(null),o([]))},[e]),x=(0,a.useCallback)(e=>{d.current&&d.current.emit("game:start-game",e)},[]),m=(0,a.useCallback)(e=>{d.current&&d.current.emit("game:submit-answer",e)},[]);return{gameRoom:e,players:r,isConnected:i,error:s,createRoom:c,joinRoom:u,leaveRoom:h,startGame:x,submitAnswer:m,sendDrawing:(0,a.useCallback)(e=>{d.current&&d.current.emit("game:draw",e)},[]),clearCanvas:(0,a.useCallback)(e=>{d.current&&d.current.emit("game:clear-canvas",{roomCode:e})},[])}};var T=e.i(15254),B=e.i(42281),w=e.i(50333),W=e.i(7200),R=e.i(52059),k=e.i(62992),z=e.i(1051),S=e.i(86012);e.i(96335);var A=e.i(80622),$=e.i(84933),P=e.i(81706),I=e.i(15127),G=e.i(65393),L=e.i(95262),F=e.i(96861),M=e.i(18420),E=e.i(51480),O=e.i(13740);function D(e){return(0,O.default)("MuiToggleButtonGroup",e)}let H=(0,E.default)("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),_=a.createContext({}),N=a.createContext(void 0);function U(e){return(0,O.default)("MuiToggleButton",e)}let V=(0,E.default)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Y=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],J=(0,L.default)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[{[`& .${H.grouped}`]:t.grouped},{[`& .${H.grouped}`]:t[`grouped${(0,M.default)(r.orientation)}`]},{[`& .${H.firstButton}`]:t.firstButton},{[`& .${H.lastButton}`]:t.lastButton},{[`& .${H.middleButton}`]:t.middleButton},t.root,"vertical"===r.orientation&&t.vertical,r.fullWidth&&t.fullWidth]}})(({ownerState:e,theme:t})=>(0,$.default)({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"vertical"===e.orientation&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${H.grouped}`]:(0,$.default)({},"horizontal"===e.orientation?{[`&.${H.selected} + .${H.grouped}.${H.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${H.selected} + .${H.grouped}.${H.selected}`]:{borderTop:0,marginTop:0}})},"horizontal"===e.orientation?{[`& .${H.firstButton},& .${H.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${H.lastButton},& .${H.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${H.firstButton},& .${H.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${H.lastButton},& .${H.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},"horizontal"===e.orientation?{[`& .${H.lastButton}.${V.disabled},& .${H.middleButton}.${V.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${H.lastButton}.${V.disabled},& .${H.middleButton}.${V.disabled}`]:{borderTop:"1px solid transparent"}})),K=a.forwardRef(function(e,r){let o=(0,F.useDefaultProps)({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:n,color:s="standard",disabled:l=!1,exclusive:d=!1,fullWidth:c=!1,onChange:u,orientation:h="horizontal",size:x="medium",value:m}=o,p=(0,A.default)(o,Y),g=(0,$.default)({},o,{disabled:l,fullWidth:c,orientation:h,size:x}),f=(e=>{let{classes:t,orientation:r,fullWidth:a,disabled:o}=e,i={root:["root","vertical"===r&&"vertical",a&&"fullWidth"],grouped:["grouped",`grouped${(0,M.default)(r)}`,o&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,I.default)(i,D,t)})(g),y=a.useCallback((e,t)=>{let r;if(!u)return;let a=m&&m.indexOf(t);m&&a>=0?(r=m.slice()).splice(a,1):r=m?m.concat(t):[t],u(e,r)},[u,m]),v=a.useCallback((e,t)=>{u&&u(e,m===t?null:t)},[u,m]),j=a.useMemo(()=>({className:f.grouped,onChange:d?v:y,value:m,size:x,fullWidth:c,color:s,disabled:l}),[f.grouped,d,v,y,m,x,c,s,l]),b=(0,G.default)(i),C=b.length;return(0,t.jsx)(J,(0,$.default)({role:"group",className:(0,P.default)(f.root,n),ref:r,ownerState:g},p,{children:(0,t.jsx)(_.Provider,{value:j,children:b.map((e,r)=>{let a,o;return(0,t.jsx)(N.Provider,{value:(a=0===r,o=r===C-1,a&&o?"":a?f.firstButton:o?f.lastButton:f.middleButton),children:e},r)})})}))});var q=e.i(65776),X=e.i(7356),Q=e.i(12396);let Z=["value"],ee=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],et=(0,L.default)(Q.default,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`size${(0,M.default)(r.size)}`]]}})(({theme:e,ownerState:t})=>{let r,a="standard"===t.color?e.palette.text.primary:e.palette[t.color].main;return e.vars&&(a="standard"===t.color?e.vars.palette.text.primary:e.vars.palette[t.color].main,r="standard"===t.color?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),(0,$.default)({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${V.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,X.alpha)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${V.selected}`]:{color:a,backgroundColor:e.vars?`rgba(${r} / ${e.vars.palette.action.selectedOpacity})`:(0,X.alpha)(a,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${r} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,X.alpha)(a,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${r} / ${e.vars.palette.action.selectedOpacity})`:(0,X.alpha)(a,e.palette.action.selectedOpacity)}}}},"small"===t.size&&{padding:7,fontSize:e.typography.pxToRem(13)},"large"===t.size&&{padding:15,fontSize:e.typography.pxToRem(15)})}),er=a.forwardRef(function(e,r){var o;let i=a.useContext(_),{value:n}=i,s=(0,A.default)(i,Z),l=a.useContext(N),d=(0,q.default)((0,$.default)({},s,{selected:(o=e.value,void 0!==n&&void 0!==o&&(Array.isArray(n)?n.indexOf(o)>=0:o===n))}),e),c=(0,F.useDefaultProps)({props:d,name:"MuiToggleButton"}),{children:u,className:h,color:x="standard",disabled:m=!1,disableFocusRipple:p=!1,fullWidth:g=!1,onChange:f,onClick:y,selected:v,size:j="medium",value:b}=c,C=(0,A.default)(c,ee),T=(0,$.default)({},c,{color:x,disabled:m,disableFocusRipple:p,fullWidth:g,size:j}),B=(e=>{let{classes:t,fullWidth:r,selected:a,disabled:o,size:i,color:n}=e,s={root:["root",a&&"selected",o&&"disabled",r&&"fullWidth",`size${(0,M.default)(i)}`,n]};return(0,I.default)(s,U,t)})(T);return(0,t.jsx)(et,(0,$.default)({className:(0,P.default)(s.className,B.root,h,l||""),disabled:m,focusRipple:!p,ref:r,onClick:e=>{y&&(y(e,b),e.defaultPrevented)||f&&f(e,b)},onChange:f,value:b,ownerState:T,"aria-pressed":v},C,{children:u}))});var ea=e.i(7795),eo=e.i(52377),ei=e.i(1911),en=e.i(87816),es=e.i(62555),el=e.i(24676),ed=e.i(7065);function ec(){let{gameRoom:e,players:r,submitAnswer:h}=C(),[x,m]=(0,a.useState)(""),[p,g]=(0,a.useState)(60),[f,y]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{if(e?.state==="playing"&&p>0){let e=setInterval(()=>{g(e=>Math.max(0,e-1))},1e3);return()=>clearInterval(e)}},[e?.state,p]),(0,a.useEffect)(()=>{e?.state==="playing"&&(g(60),y(!1),m(""))},[e?.currentRound]),!e)return null;let v=()=>{x.trim()&&(h({roomCode:e.roomCode,answer:x.trim()}),y(!0),m(""))},j=[...r].sort((e,t)=>t.score-e.score);return(0,t.jsx)(i.Container,{maxWidth:"lg",sx:{py:4},children:(0,t.jsxs)(c.Grid,{container:!0,spacing:3,children:[(0,t.jsx)(c.Grid,{item:!0,xs:12,md:8,children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3},children:[(0,t.jsxs)(o.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,t.jsxs)(s.Typography,{variant:"h5",fontWeight:"bold",children:["Round ",e.currentRound," of ",e.maxRounds]}),(0,t.jsx)(z.Chip,{icon:(0,t.jsx)(ed.default,{}),label:`${p}s`,color:p<10?"error":"primary",sx:{fontSize:"1.2rem",px:1}})]}),(0,t.jsx)(es.LinearProgress,{variant:"determinate",value:p/60*100,color:p<10?"error":"primary",sx:{height:8,borderRadius:1,mb:3}}),(0,t.jsxs)(n.Paper,{variant:"outlined",sx:{p:4,mb:3,textAlign:"center",bgcolor:"background.default"},children:[(0,t.jsx)(s.Typography,{variant:"h4",gutterBottom:!0,fontWeight:"bold",children:"ðŸ¤” Guess the Word!"}),(0,t.jsx)(s.Typography,{variant:"body1",color:"text.secondary",children:"The clue-giver is giving hints..."})]}),!f&&p>0?(0,t.jsxs)(o.Box,{display:"flex",gap:2,children:[(0,t.jsx)(l.TextField,{fullWidth:!0,variant:"outlined",placeholder:"Type your guess...",value:x,onChange:e=>m(e.target.value),onKeyPress:e=>{"Enter"!==e.key||f||v()},autoFocus:!0}),(0,t.jsx)(d.Button,{variant:"contained",endIcon:(0,t.jsx)(el.default,{}),onClick:v,disabled:!x.trim(),sx:{minWidth:120},children:"Submit"})]}):f?(0,t.jsx)(u.Alert,{severity:"success",children:"Your guess has been submitted! Waiting for round to end..."}):(0,t.jsx)(u.Alert,{severity:"info",children:"Time's up! Waiting for results..."})]})}),(0,t.jsx)(c.Grid,{item:!0,xs:12,md:4,children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3},children:[(0,t.jsx)(s.Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",children:"Scoreboard"}),(0,t.jsx)(B.List,{children:j.map((e,r)=>(0,t.jsxs)(w.ListItem,{children:[(0,t.jsxs)(W.ListItemAvatar,{children:[(0,t.jsx)(z.Chip,{label:r+1,size:"small",color:0===r?"primary":"default",sx:{mr:1}}),(0,t.jsx)(k.Avatar,{src:e.avatar,children:e.name.charAt(0).toUpperCase()})]}),(0,t.jsx)(R.ListItemText,{primary:e.name,secondary:`${e.score} pts`})]},e.id))})]})})]})})}var eu=e.i(34203);let eh=["#000000","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500"];function ex(){let{gameRoom:e,players:r,submitAnswer:h,sendDrawing:x,clearCanvas:m}=C(),[p,g]=(0,a.useState)(""),[y,v]=(0,a.useState)(90),[j,T]=(0,a.useState)(!1),[A,$]=(0,a.useState)("#000000"),[P,I]=(0,a.useState)(!1),G=(0,a.useRef)(null),L=(0,a.useRef)(null),F=L.current?.id||"",M=e?.currentDrawerId===F;(0,a.useEffect)(()=>{L.current=(0,b.getSocket)()},[]),(0,a.useEffect)(()=>{let e=L.current;if(!e)return;let t=e=>{if(!G.current||e.playerId===F)return;let t=G.current.getContext("2d");if(!t)return;let{stroke:r}=e;t.strokeStyle=r.color,t.lineWidth=r.width,t.lineCap="round",t.lineJoin="round",t.beginPath();for(let e=0;e<r.points.length-2;e+=2)t.moveTo(r.points[e],r.points[e+1]),e+2<r.points.length&&t.lineTo(r.points[e+2],r.points[e+3]);t.stroke()},r=()=>{if(!G.current)return;let e=G.current.getContext("2d");e&&e.clearRect(0,0,G.current.width,G.current.height)};return e.on("game:drawing-update",t),e.on("game:canvas-cleared",r),()=>{e.off("game:drawing-update",t),e.off("game:canvas-cleared",r)}},[F]),(0,a.useEffect)(()=>{if(e?.state==="playing"&&y>0){let e=setInterval(()=>{v(e=>Math.max(0,e-1))},1e3);return()=>clearInterval(e)}},[e?.state,y]),(0,a.useEffect)(()=>{if(e?.state==="playing"&&(v(90),T(!1),g(""),G.current)){let e=G.current.getContext("2d");e&&e.clearRect(0,0,G.current.width,G.current.height)}},[e?.currentRound]);let E=()=>{if(!G.current)return;let e=G.current.getContext("2d");e&&e.beginPath(),I(!1)},O=()=>{p.trim()&&e&&(h({roomCode:e.roomCode,answer:p.trim()}),T(!0),g(""))};if(!e)return null;let D=[...r].sort((e,t)=>t.score-e.score);return(0,t.jsx)(i.Container,{maxWidth:"lg",sx:{py:4},children:(0,t.jsxs)(c.Grid,{container:!0,spacing:3,children:[(0,t.jsx)(c.Grid,{item:!0,xs:12,md:8,children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3},children:[(0,t.jsxs)(o.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,t.jsxs)(s.Typography,{variant:"h5",fontWeight:"bold",children:["Round ",e.currentRound," of ",e.maxRounds]}),(0,t.jsx)(z.Chip,{icon:(0,t.jsx)(ed.default,{}),label:`${y}s`,color:y<10?"error":"primary",sx:{fontSize:"1.2rem",px:1}})]}),(0,t.jsx)(es.LinearProgress,{variant:"determinate",value:y/90*100,color:y<10?"error":"primary",sx:{height:8,borderRadius:1,mb:3}}),M?(0,t.jsxs)(u.Alert,{severity:"info",sx:{mb:2},children:[(0,t.jsx)("strong",{children:"You're drawing!"})," Word: ",e.currentWord||"..."]}):(0,t.jsx)(u.Alert,{severity:"success",sx:{mb:2},children:"Watch the drawing and guess the word!"}),(0,t.jsx)(o.Box,{sx:{mb:2,border:"2px solid",borderColor:"divider",borderRadius:1,bgcolor:"white"},children:(0,t.jsx)("canvas",{ref:G,width:600,height:400,onMouseDown:e=>{M&&I(!0)},onMouseMove:t=>{if(!P||!M||!G.current)return;let r=G.current,a=r.getContext("2d");if(!a)return;let o=r.getBoundingClientRect(),i=t.clientX-o.left,n=t.clientY-o.top;a.strokeStyle=A,a.lineWidth=3,a.lineCap="round",a.lineJoin="round",a.lineTo(i,n),a.stroke(),a.beginPath(),a.moveTo(i,n),e&&x({roomCode:e.roomCode,stroke:{points:[i,n],color:A,width:3},playerId:F})},onMouseUp:E,onMouseLeave:E,style:{display:"block",width:"100%",cursor:M?"crosshair":"default"}})}),M&&(0,t.jsxs)(o.Box,{display:"flex",gap:2,alignItems:"center",mb:2,children:[(0,t.jsx)(f.default,{}),(0,t.jsx)(K,{value:A,exclusive:!0,onChange:(e,t)=>t&&$(t),size:"small",children:eh.map(e=>(0,t.jsx)(er,{value:e,children:(0,t.jsx)(o.Box,{sx:{width:24,height:24,bgcolor:e,border:"1px solid #ccc"}})},e))}),(0,t.jsx)(S.IconButton,{onClick:()=>{if(!G.current||!e)return;let t=G.current.getContext("2d");t&&t.clearRect(0,0,G.current.width,G.current.height),m(e.roomCode)},color:"error",children:(0,t.jsx)(eu.default,{})})]}),!M&&(0,t.jsx)(t.Fragment,{children:!j&&y>0?(0,t.jsxs)(o.Box,{display:"flex",gap:2,children:[(0,t.jsx)(l.TextField,{fullWidth:!0,variant:"outlined",placeholder:"Type your guess...",value:p,onChange:e=>g(e.target.value),onKeyPress:e=>{"Enter"!==e.key||j||O()},autoFocus:!0}),(0,t.jsx)(d.Button,{variant:"contained",endIcon:(0,t.jsx)(el.default,{}),onClick:O,disabled:!p.trim(),sx:{minWidth:120},children:"Guess"})]}):j?(0,t.jsx)(u.Alert,{severity:"success",children:"Your guess has been submitted!"}):(0,t.jsx)(u.Alert,{severity:"info",children:"Time's up!"})})]})}),(0,t.jsx)(c.Grid,{item:!0,xs:12,md:4,children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3},children:[(0,t.jsx)(s.Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",children:"Scoreboard"}),(0,t.jsx)(B.List,{children:D.map((r,a)=>(0,t.jsxs)(w.ListItem,{children:[(0,t.jsxs)(W.ListItemAvatar,{children:[(0,t.jsx)(z.Chip,{label:a+1,size:"small",color:0===a?"primary":"default",sx:{mr:1}}),(0,t.jsx)(k.Avatar,{src:r.avatar,children:r.name.charAt(0).toUpperCase()})]}),(0,t.jsx)(R.ListItemText,{primary:r.name,secondary:`${r.score} pts`}),r.id===e.currentDrawerId&&(0,t.jsx)(z.Chip,{label:"Drawing",size:"small",color:"primary"})]},r.id))})]})})]})})}var em=e.i(72695);function ep(){let{gameRoom:e,players:r,submitAnswer:m}=C(),[p,g]=(0,a.useState)(""),[f,y]=(0,a.useState)(120),[v,j]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{if(e?.state==="playing"&&f>0){let e=setInterval(()=>{y(e=>Math.max(0,e-1))},1e3);return()=>clearInterval(e)}},[e?.state,f]),(0,a.useEffect)(()=>{e?.state==="playing"&&(y(120),j(!1),g(""))},[e?.currentRound]),!e)return null;let b=()=>{p.trim()&&(m({roomCode:e.roomCode,answer:p.trim()}),j(!0))},T=[...r].sort((e,t)=>t.score-e.score),S=[{question:"I speak without a mouth and hear without ears. I have no body, but I come alive with wind. What am I?",hint:"Think about sound..."},{question:"What has keys, but no locks; space, but no room; and you can enter, but can't go inside?",hint:"You use it every day..."},{question:"The more you take, the more you leave behind. What am I?",hint:"Think about walking..."}],A=S[(e.currentRound-1)%S.length];return(0,t.jsx)(i.Container,{maxWidth:"lg",sx:{py:4},children:(0,t.jsxs)(c.Grid,{container:!0,spacing:3,children:[(0,t.jsx)(c.Grid,{item:!0,xs:12,md:8,children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3},children:[(0,t.jsxs)(o.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,t.jsxs)(s.Typography,{variant:"h5",fontWeight:"bold",children:["Puzzle ",e.currentRound," of ",e.maxRounds]}),(0,t.jsx)(z.Chip,{icon:(0,t.jsx)(ed.default,{}),label:`${Math.floor(f/60)}:${(f%60).toString().padStart(2,"0")}`,color:f<30?"error":"primary",sx:{fontSize:"1.2rem",px:1}})]}),(0,t.jsx)(es.LinearProgress,{variant:"determinate",value:f/120*100,color:f<30?"error":"primary",sx:{height:8,borderRadius:1,mb:3}}),(0,t.jsx)(h.Card,{sx:{mb:3,bgcolor:"primary.main",color:"primary.contrastText"},children:(0,t.jsxs)(x.CardContent,{children:[(0,t.jsx)(s.Typography,{variant:"h6",gutterBottom:!0,children:"ðŸ§© Riddle Time!"}),(0,t.jsx)(s.Typography,{variant:"h5",sx:{my:3},children:A.question}),(0,t.jsxs)(u.Alert,{severity:"info",sx:{mt:2},children:[(0,t.jsx)("strong",{children:"Hint:"})," ",A.hint]})]})}),(0,t.jsxs)(n.Paper,{variant:"outlined",sx:{p:2,mb:3,bgcolor:"background.default"},children:[(0,t.jsx)(s.Typography,{variant:"subtitle2",gutterBottom:!0,color:"text.secondary",children:"ðŸ’¡ Team Discussion Area"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",children:"Work together with your team to solve the puzzle!"})]}),!v&&f>0?(0,t.jsxs)(o.Box,{children:[(0,t.jsx)(l.TextField,{fullWidth:!0,variant:"outlined",placeholder:"Type your answer...",value:p,onChange:e=>g(e.target.value),onKeyPress:e=>{"Enter"!==e.key||v||b()},multiline:!0,rows:2,sx:{mb:2}}),(0,t.jsx)(d.Button,{variant:"contained",size:"large",fullWidth:!0,endIcon:(0,t.jsx)(el.default,{}),onClick:b,disabled:!p.trim(),children:"Submit Answer"})]}):v?(0,t.jsxs)(u.Alert,{severity:"success",icon:(0,t.jsx)(em.default,{}),children:[(0,t.jsx)("strong",{children:"Answer submitted!"})," Waiting for other players..."]}):(0,t.jsx)(u.Alert,{severity:"info",children:"Time's up! Revealing answer..."})]})}),(0,t.jsxs)(c.Grid,{item:!0,xs:12,md:4,children:[(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3,mb:3},children:[(0,t.jsx)(s.Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",children:"Team Scores"}),(0,t.jsx)(B.List,{children:T.map((e,a)=>(0,t.jsxs)(w.ListItem,{children:[(0,t.jsxs)(W.ListItemAvatar,{children:[(0,t.jsx)(z.Chip,{label:a+1,size:"small",color:0===a?"primary":"default",sx:{mr:1}}),(0,t.jsx)(k.Avatar,{src:e.avatar,children:e.name.charAt(0).toUpperCase()})]}),(0,t.jsx)(R.ListItemText,{primary:e.name,secondary:`${e.score} pts`}),v&&e.id===r[0]?.id&&(0,t.jsx)(em.default,{color:"success"})]},e.id))})]}),(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3},children:[(0,t.jsx)(s.Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",children:"How to Play"}),(0,t.jsx)(s.Typography,{variant:"body2",paragraph:!0,children:"ðŸ¤” Read the puzzle carefully"}),(0,t.jsx)(s.Typography,{variant:"body2",paragraph:!0,children:"ðŸ’¬ Discuss with your team"}),(0,t.jsx)(s.Typography,{variant:"body2",paragraph:!0,children:"ðŸ’¡ Use the hint if you're stuck"}),(0,t.jsx)(s.Typography,{variant:"body2",children:"âœ… Submit your answer before time runs out!"})]})]})]})})}function eg(){let{gameRoom:e,players:r,leaveRoom:l,startGame:h}=C(),[x,m]=(0,a.useState)("drawing");if(!e)return null;let v=r.find(t=>t.id===e.hostId),j=v?.isHost||!1;e.state;let b="playing"===e.state,T="gameEnd"===e.state,A=()=>{confirm("Are you sure you want to leave the room?")&&l()};if(b)switch(e.gameType){case"guessing":return(0,t.jsx)(ec,{});case"drawing":return(0,t.jsx)(ex,{});case"puzzle":return(0,t.jsx)(ep,{});default:return null}if(T){let e=[...r].sort((e,t)=>t.score-e.score);return(0,t.jsx)(i.Container,{maxWidth:"md",sx:{py:4},children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4,textAlign:"center"},children:[(0,t.jsx)(en.default,{sx:{fontSize:80,color:"gold",mb:2}}),(0,t.jsx)(s.Typography,{variant:"h3",gutterBottom:!0,fontWeight:"bold",children:"Game Over!"}),(0,t.jsxs)(o.Box,{my:4,children:[(0,t.jsx)(s.Typography,{variant:"h5",gutterBottom:!0,children:"Final Scores"}),(0,t.jsx)(B.List,{children:e.map((e,r)=>(0,t.jsxs)(w.ListItem,{children:[(0,t.jsxs)(W.ListItemAvatar,{children:[(0,t.jsx)(z.Chip,{label:r+1,color:0===r?"primary":"default",sx:{mr:1}}),(0,t.jsx)(k.Avatar,{src:e.avatar,children:e.name.charAt(0).toUpperCase()})]}),(0,t.jsx)(R.ListItemText,{primary:e.name,secondary:`${e.score} points`})]},e.id))})]}),(0,t.jsx)(d.Button,{variant:"contained",size:"large",onClick:A,sx:{mt:2},children:"Back to Lobby"})]})})}return(0,t.jsx)(i.Container,{maxWidth:"lg",sx:{py:4},children:(0,t.jsxs)(c.Grid,{container:!0,spacing:3,children:[(0,t.jsx)(c.Grid,{item:!0,xs:12,md:8,children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3,mb:3},children:[(0,t.jsxs)(o.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,t.jsxs)(o.Box,{children:[(0,t.jsxs)(s.Typography,{variant:"h4",gutterBottom:!0,fontWeight:"bold",children:["Room: ",e.roomCode]}),(0,t.jsxs)(s.Typography,{variant:"body2",color:"text.secondary",children:[r.length," / 16 players"]})]}),(0,t.jsxs)(o.Box,{children:[(0,t.jsx)(S.IconButton,{onClick:()=>{navigator.clipboard.writeText(e.roomCode)},color:"primary",children:(0,t.jsx)(eo.default,{})}),(0,t.jsx)(d.Button,{variant:"outlined",startIcon:(0,t.jsx)(ea.default,{}),onClick:A,color:"error",children:"Leave"})]})]}),(0,t.jsx)(p.Divider,{sx:{my:2}}),j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Typography,{variant:"h6",gutterBottom:!0,children:"Select Game Type"}),(0,t.jsxs)(K,{value:x,exclusive:!0,onChange:(e,t)=>t&&m(t),fullWidth:!0,sx:{mb:3},children:[(0,t.jsx)(er,{value:"guessing",children:(0,t.jsxs)(o.Box,{textAlign:"center",p:1,children:[(0,t.jsx)(g.default,{sx:{fontSize:40}}),(0,t.jsx)(s.Typography,{variant:"body2",children:"Guessing"})]})}),(0,t.jsx)(er,{value:"drawing",children:(0,t.jsxs)(o.Box,{textAlign:"center",p:1,children:[(0,t.jsx)(f.default,{sx:{fontSize:40}}),(0,t.jsx)(s.Typography,{variant:"body2",children:"Drawing"})]})}),(0,t.jsx)(er,{value:"puzzle",children:(0,t.jsxs)(o.Box,{textAlign:"center",p:1,children:[(0,t.jsx)(y.default,{sx:{fontSize:40}}),(0,t.jsx)(s.Typography,{variant:"body2",children:"Puzzle"})]})})]}),(0,t.jsx)(d.Button,{variant:"contained",size:"large",fullWidth:!0,startIcon:(0,t.jsx)(ei.default,{}),onClick:()=>{j&&x&&h({roomCode:e.roomCode,gameType:x,maxRounds:5})},disabled:r.length<2,children:"Start Game"}),r.length<2&&(0,t.jsx)(u.Alert,{severity:"info",sx:{mt:2},children:"Need at least 2 players to start"})]}):(0,t.jsx)(u.Alert,{severity:"info",children:"Waiting for host to start the game..."})]})}),(0,t.jsx)(c.Grid,{item:!0,xs:12,md:4,children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:3},children:[(0,t.jsxs)(s.Typography,{variant:"h6",gutterBottom:!0,children:["Players (",r.length,"/16)"]}),(0,t.jsx)(B.List,{children:r.map(e=>(0,t.jsxs)(w.ListItem,{children:[(0,t.jsx)(W.ListItemAvatar,{children:(0,t.jsx)(k.Avatar,{src:e.avatar,children:e.name.charAt(0).toUpperCase()})}),(0,t.jsx)(R.ListItemText,{primary:e.name,secondary:e.isHost?"Host":"Player"}),e.isHost&&(0,t.jsx)(z.Chip,{label:"Host",size:"small",color:"primary"})]},e.id))})]})})]})})}function ef(){let{user:e,isAuthenticated:r}=(0,T.useAuth)(),{gameRoom:b,players:B,isConnected:w,error:W,createRoom:R,joinRoom:k}=C(),[z,S]=(0,a.useState)(""),[A,$]=(0,a.useState)(""),[P,I]=(0,a.useState)("menu");return((0,a.useEffect)(()=>{r&&e?.name&&S(e.name)},[r,e]),b)?(0,t.jsx)(eg,{}):(0,t.jsxs)(i.Container,{maxWidth:"lg",sx:{py:4},children:[(0,t.jsxs)(o.Box,{textAlign:"center",mb:4,children:[(0,t.jsx)(s.Typography,{variant:"h2",component:"h1",gutterBottom:!0,fontWeight:"bold",children:"ðŸŽ® LookUp.Cafe"}),(0,t.jsx)(s.Typography,{variant:"h5",color:"text.secondary",gutterBottom:!0,children:"Play Realtime Mini-Games with Family & Friends"}),(0,t.jsx)(s.Typography,{variant:"body1",color:"text.secondary",children:"Up to 16 players â€¢ Guessing Games â€¢ Drawing Games â€¢ Puzzles"}),!w&&(0,t.jsx)(u.Alert,{severity:"warning",sx:{mt:2,maxWidth:600,mx:"auto"},children:"Connecting to game server..."}),W&&(0,t.jsx)(u.Alert,{severity:"error",sx:{mt:2,maxWidth:600,mx:"auto"},children:W})]}),"menu"===P&&(0,t.jsxs)(c.Grid,{container:!0,spacing:3,justifyContent:"center",children:[(0,t.jsx)(c.Grid,{item:!0,xs:12,md:5,children:(0,t.jsxs)(h.Card,{elevation:3,children:[(0,t.jsx)(x.CardContent,{children:(0,t.jsxs)(o.Box,{textAlign:"center",mb:2,children:[(0,t.jsx)(v.default,{sx:{fontSize:60,color:"primary.main"}}),(0,t.jsx)(s.Typography,{variant:"h5",gutterBottom:!0,fontWeight:"bold",children:"Create Room"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",children:"Start a new game and invite friends"})]})}),(0,t.jsx)(m.CardActions,{sx:{justifyContent:"center",pb:3},children:(0,t.jsx)(d.Button,{variant:"contained",size:"large",fullWidth:!0,onClick:()=>I("create"),disabled:!w,sx:{maxWidth:300},children:"Create Room"})})]})}),(0,t.jsx)(c.Grid,{item:!0,xs:12,md:5,children:(0,t.jsxs)(h.Card,{elevation:3,children:[(0,t.jsx)(x.CardContent,{children:(0,t.jsxs)(o.Box,{textAlign:"center",mb:2,children:[(0,t.jsx)(j.default,{sx:{fontSize:60,color:"secondary.main"}}),(0,t.jsx)(s.Typography,{variant:"h5",gutterBottom:!0,fontWeight:"bold",children:"Join Room"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",children:"Enter a room code to join friends"})]})}),(0,t.jsx)(m.CardActions,{sx:{justifyContent:"center",pb:3},children:(0,t.jsx)(d.Button,{variant:"outlined",size:"large",fullWidth:!0,onClick:()=>I("join"),disabled:!w,sx:{maxWidth:300},children:"Join Room"})})]})}),(0,t.jsxs)(c.Grid,{item:!0,xs:12,children:[(0,t.jsx)(p.Divider,{sx:{my:3}}),(0,t.jsx)(s.Typography,{variant:"h6",textAlign:"center",gutterBottom:!0,children:"Available Games"}),(0,t.jsxs)(c.Grid,{container:!0,spacing:2,justifyContent:"center",sx:{mt:1},children:[(0,t.jsx)(c.Grid,{item:!0,xs:12,sm:4,md:3,children:(0,t.jsxs)(n.Paper,{sx:{p:2,textAlign:"center"},children:[(0,t.jsx)(g.default,{color:"primary",sx:{fontSize:40}}),(0,t.jsx)(s.Typography,{variant:"subtitle1",fontWeight:"bold",children:"Guessing Games"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",children:"Give clues, guess answers"})]})}),(0,t.jsx)(c.Grid,{item:!0,xs:12,sm:4,md:3,children:(0,t.jsxs)(n.Paper,{sx:{p:2,textAlign:"center"},children:[(0,t.jsx)(f.default,{color:"secondary",sx:{fontSize:40}}),(0,t.jsx)(s.Typography,{variant:"subtitle1",fontWeight:"bold",children:"Drawing Games"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",children:"Draw and guess in realtime"})]})}),(0,t.jsx)(c.Grid,{item:!0,xs:12,sm:4,md:3,children:(0,t.jsxs)(n.Paper,{sx:{p:2,textAlign:"center"},children:[(0,t.jsx)(y.default,{color:"success",sx:{fontSize:40}}),(0,t.jsx)(s.Typography,{variant:"subtitle1",fontWeight:"bold",children:"Puzzle Games"}),(0,t.jsx)(s.Typography,{variant:"body2",color:"text.secondary",children:"Solve together as a team"})]})})]})]})]}),"create"===P&&(0,t.jsx)(o.Box,{maxWidth:600,mx:"auto",children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4},children:[(0,t.jsx)(s.Typography,{variant:"h5",gutterBottom:!0,fontWeight:"bold",children:"Create New Room"}),(0,t.jsx)(l.TextField,{fullWidth:!0,label:"Your Name",value:z,onChange:e=>S(e.target.value),margin:"normal",helperText:r?"Using your account name":"Enter a display name",disabled:r}),(0,t.jsxs)(o.Box,{mt:3,display:"flex",gap:2,children:[(0,t.jsx)(d.Button,{variant:"outlined",onClick:()=>I("menu"),fullWidth:!0,children:"Back"}),(0,t.jsx)(d.Button,{variant:"contained",onClick:()=>{z.trim()?R({playerName:z.trim(),userId:e?.id,avatar:e?.avatar,roomCode:e?.id||void 0}):alert("Please enter your name")},fullWidth:!0,disabled:!z.trim()||!w,children:"Create Room"})]})]})}),"join"===P&&(0,t.jsx)(o.Box,{maxWidth:600,mx:"auto",children:(0,t.jsxs)(n.Paper,{elevation:3,sx:{p:4},children:[(0,t.jsx)(s.Typography,{variant:"h5",gutterBottom:!0,fontWeight:"bold",children:"Join Room"}),(0,t.jsx)(l.TextField,{fullWidth:!0,label:"Your Name",value:z,onChange:e=>S(e.target.value),margin:"normal",helperText:r?"Using your account name":"Enter a display name",disabled:r}),(0,t.jsx)(l.TextField,{fullWidth:!0,label:"Room Code",value:A,onChange:e=>$(e.target.value.toUpperCase()),margin:"normal",helperText:"Enter the 6-character room code",inputProps:{maxLength:6,style:{textTransform:"uppercase"}}}),(0,t.jsxs)(o.Box,{mt:3,display:"flex",gap:2,children:[(0,t.jsx)(d.Button,{variant:"outlined",onClick:()=>I("menu"),fullWidth:!0,children:"Back"}),(0,t.jsx)(d.Button,{variant:"contained",onClick:()=>{z.trim()?A.trim()&&6===A.length?k({roomCode:A.trim().toUpperCase(),playerName:z.trim(),userId:e?.id,avatar:e?.avatar}):alert("Please enter a valid 6-character room code"):alert("Please enter your name")},fullWidth:!0,disabled:!z.trim()||6!==A.length||!w,children:"Join Room"})]})]})})]})}e.s(["default",0,function(){return(0,t.jsx)(r.default,{active:"lookupcafe",children:(0,t.jsx)(ef,{})})}],19250)},52856,(e,t,r)=>{let a="/lookupcafe";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(19250)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})}]);