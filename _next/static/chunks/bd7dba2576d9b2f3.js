(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83344,(e,t,r)=>{t.exports=e.r(50513)},13654,e=>{"use strict";var t=e.i(96335);let r=async(e,t={})=>{try{let r=void 0!==t.body&&null!==t.body,o=(t.method||"GET").toUpperCase(),n=r&&["POST","PUT","PATCH"].includes(o),s={...t.headers};n&&!s["Content-Type"]&&(s["Content-Type"]="application/json");let a=await fetch(e,{...t,credentials:"include",headers:s});if(!a.ok){let e=`Request failed with status ${a.status}`;try{let t=await a.json();e=t.error||t.message||e}catch(r){let t=await a.text().catch(()=>"");t&&(e=t)}throw Error(e)}return a}catch(e){if("TypeError"===e.name&&e.message.includes("fetch"))throw Error("Network error: Unable to connect to the server. Please check your internet connection.");throw e}};e.s(["fetchWithErrorHandling",0,r,"getBackendUrl",0,()=>{let e=t.default.env.NEXT_PUBLIC_BACKEND_URL;return e?e.replace(/\/$/,""):"https://api.ventures.isharehow.app"},"getTasksBackendUrl",0,()=>{let e=t.default.env.NEXT_PUBLIC_TASKS_BACKEND_URL;return e?e.replace(/\/$/,""):"https://api.ventures.isharehow.app"}])},15254,e=>{"use strict";var t=e.i(58891),r=e.i(13654);let o=!1,n=null,s=null,a=new Set;function i(){let[e,i]=(0,t.useState)(()=>s||{user:null,isAuthenticated:!1,isLoading:!0,error:null});(0,t.useEffect)(()=>{let e=e=>{i(e)};return a.add(e),s&&!s.isLoading&&i(s),()=>{a.delete(e)}},[]);let l=(0,t.useCallback)(e=>{s=e,a.forEach(t=>t(e))},[]),c=(0,t.useCallback)(async()=>{if(o&&n){console.log("[Auth] Auth check already in progress globally, waiting for existing check...");try{await Promise.race([n,new Promise((e,t)=>setTimeout(()=>t(Error("Wait timeout")),3e3))]);return}catch(e){console.log("[Auth] Previous check failed or timed out, starting new check..."),o=!1,n=null}}o=!0;let e=(async()=>{let e=(0,r.getBackendUrl)(),t=null;1===a.size&&console.log("[Auth] Checking authentication...",{backendUrl:e,timestamp:new Date().toISOString(),listeners:a.size});try{for(let r=0;r<3;r++)try{let o=new Promise((e,t)=>{setTimeout(()=>{t(Error("Request timeout"))},15e3)}),n={"Content-Type":"application/json"},s=await Promise.race([fetch(`${e}/api/auth/me`,{method:"GET",credentials:"include",headers:n,mode:"cors"}),o]);if(1===a.size&&0===r&&console.log("[Auth] Response received:",{status:s.status,statusText:s.statusText}),s.ok){let e=await s.json();if(!1!==e.authenticated&&e.id){1===a.size&&console.log("[Auth] ✓ Authentication successful:",{userId:e.id,userName:e.name,isPaidMember:e.isPaidMember});let t={user:e,isAuthenticated:!0,isLoading:!1,error:null};l(t);return}{let e={user:null,isAuthenticated:!1,isLoading:!1,error:null};l(e);return}}{let e={};try{let t=await s.text();t&&(e=JSON.parse(t))}catch(t){e={message:`Server error: ${s.status} ${s.statusText}`}}if(401===s.status){1===a.size&&console.warn("[Auth] ✗ Unauthorized (401) - user not authenticated");let e={user:null,isAuthenticated:!1,isLoading:!1,error:null};l(e);return}if(500===s.status)t=Error(`Server error: ${s.status}`),1===a.size&&r<2&&console.warn(`[Auth] Server error (500), retrying... (attempt ${r+1}/3)`);else{t=Error(e.message||`HTTP ${s.status}`),1===a.size&&console.warn("[Auth] ✗ Auth check failed:",{status:s.status,statusText:s.statusText,error:e});return}}}catch(n){t=n;let e="Request timeout"===n.message,o="TypeError"===n.name||n.message.includes("fetch");if(1===a.size&&r<2&&(e?console.warn(`[Auth] Request timed out, retrying... (attempt ${r+1}/3)`):o?console.warn(`[Auth] Network error, retrying... (attempt ${r+1}/3)`):console.warn(`[Auth] Error: ${n.message}, retrying... (attempt ${r+1}/3)`)),r<2){await new Promise(e=>setTimeout(e,Math.min(1e3*Math.pow(2,r),5e3)));continue}}1===a.size&&(console.error("[Auth] ✗ Auth check failed after all retries:",t?.message||"Unknown error"),console.warn("[Auth] Keeping previous authentication state to prevent unwanted logout"))}finally{o=!1,n=null}})();n=e,await e},[l]);(0,t.useEffect)(()=>{let e=!0;if((async()=>{e&&await c()})(),"success"===new URLSearchParams(window.location.search).get("auth")){console.log("[Auth] Detected auth=success in URL, JWT should be in httpOnly cookie");let t=window.location.pathname;window.history.replaceState({},"",t),console.log("[Auth] Cleaned up URL parameter"),setTimeout(()=>{e&&(console.log("[Auth] Retry auth check after URL cleanup"),c())},1e3)}return()=>{e=!1}},[]);let u=(0,t.useCallback)(async()=>{try{let e=(0,r.getBackendUrl)();console.log("[Auth] Logging out..."),await fetch(`${e}/api/auth/logout`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}}),l({user:null,isAuthenticated:!1,isLoading:!1,error:null}),console.log("[Auth] ✓ Logged out successfully")}catch(e){console.error("[Auth] Logout error:",e),l({user:null,isAuthenticated:!1,isLoading:!1,error:null})}},[l]),d=(0,t.useCallback)(async(e,t,o)=>{try{let n=await fetch(`${(0,r.getBackendUrl)()}/api/auth/wallet/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({address:e,signature:t,nonce:o})}),s=await n.json();if(n.ok&&s.success)return await c(),{success:!0};if(404===n.status&&s.requiresRegistration)return{success:!1,requiresRegistration:!0};return{success:!1,error:s.error||"Wallet login failed"}}catch(e){return console.error("Error logging in with wallet:",e),{success:!1,error:e.message||"Network error during wallet login"}}},[c]),h=(0,t.useCallback)(async(e,t,o,n,s)=>{try{let a=await fetch(`${(0,r.getBackendUrl)()}/api/auth/wallet/register`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({address:e,signature:t,nonce:o,email:n,username:s})}),i=await a.json();if(a.ok&&i.success)return await c(),{success:!0};return{success:!1,error:i.error||"Wallet registration failed"}}catch(e){return console.error("Error registering with wallet:",e),{success:!1,error:e.message||"Network error during registration"}}},[c]),g=(0,t.useCallback)(async(e,t,o)=>{try{let n=await fetch(`${(0,r.getBackendUrl)()}/api/auth/wallet/link`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({address:e,signature:t,nonce:o})}),s=await n.json();if(n.ok&&s.success)return await c(),{success:!0};return{success:!1,error:s.error||"Failed to link wallet"}}catch(e){return console.error("Error linking wallet:",e),{success:!1,error:e.message||"Network error while linking wallet"}}},[c]),w=(0,t.useCallback)(async e=>{try{let t=await fetch(`${(0,r.getBackendUrl)()}/api/auth/wallet/nonce`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:e})}),o=await t.json();if(t.ok&&o.success)return{nonce:o.nonce,message:o.message};return{error:o.error||"Failed to get nonce"}}catch(e){return console.error("Error getting wallet nonce:",e),{error:e.message||"Network error while getting nonce"}}},[]),p=(0,t.useCallback)(()=>{window.location.href=`${(0,r.getBackendUrl)()}/api/auth/google/login`},[]),m=(0,t.useCallback)(async e=>{try{let t=await fetch(`${(0,r.getBackendUrl)()}/api/auth/start-trial`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e})}),o=await t.json();if(t.ok&&o.success)return await c(),{success:!0,trialExpires:o.trial_expires};return{success:!1,error:o.error||"Failed to start trial"}}catch(e){return console.error("Error starting trial:",e),{success:!1,error:e.message||"Network error while starting trial"}}},[c]),f=(0,t.useCallback)(async()=>{try{let e=await fetch(`${(0,r.getBackendUrl)()}/api/user/access`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(e.ok)return await e.json();throw Error("Failed to get user access")}catch(e){throw console.error("Error getting user access:",e),e}},[]);return{...e,login:()=>{window.location.href="/?login=true"},logout:u,refresh:c,loginWithWallet:d,registerWithWallet:h,linkWallet:g,getWalletNonce:w,loginWithGoogle:p,startTrial:m,getUserAccess:f}}e.s(["useAuth",()=>i])},31617,9929,e=>{"use strict";var t=e.i(44855),r=e.i(58891);let o=(0,r.createContext)(void 0);function n({children:e}){let[n,s]=(0,r.useState)(null);return(0,t.jsx)(o.Provider,{value:{timerState:n,setTimerState:s},children:e})}function s(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useTimer must be used within a TimerProvider");return e}e.s(["TimerProvider",()=>n,"useTimer",()=>s],31617);let a=e=>{if(!window.gtag)return void console.log("Analytics event (gtag not loaded):",e);try{window.gtag("event",e.action,{event_category:e.category,event_label:e.label,value:e.value,user_role:e.userRole,dashboard_context:e.dashboardContext}),console.log("Analytics event tracked:",e)}catch(e){console.error("Error tracking analytics event:",e)}};e.s(["initAnalytics",0,e=>{let t=document.createElement("script");t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,document.head.appendChild(t),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer?.push(arguments)},window.gtag("js",new Date),window.gtag("config",e,{send_page_view:!0}),console.log("Google Analytics initialized:",e)},"trackFocusSession",0,(e,t,r)=>{a({category:"Focus",action:"focus_session",label:t,value:e,dashboardContext:r})},"trackJournalEntry",0,(e,t)=>{a({category:"Mindset",action:"journal_entry",label:e,dashboardContext:t})},"trackPageView",0,(e,t)=>{window.gtag&&window.gtag("event","page_view",{page_path:e,page_title:t})},"trackTaskCompleted",0,(e,t,r)=>{a({category:"Tasks",action:"task_completed",label:e,userRole:t,dashboardContext:r})}],9929)},54024,e=>{"use strict";var t=e.i(96335),r=e.i(44855),o=e.i(58891),n=e.i(83344),s=e.i(85696),a=e.i(23353),i=e.i(31617),l=e.i(9929),c=o,u=e.i(74614),d=e.i(15915),h=e.i(75557);class g extends c.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t)}render(){return this.state.hasError?(0,r.jsxs)(u.Box,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh",p:4,textAlign:"center"},children:[(0,r.jsx)(d.Typography,{variant:"h5",gutterBottom:!0,children:"Something went wrong"}),(0,r.jsx)(d.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2},children:this.state.error?.message||"An unexpected error occurred"}),(0,r.jsx)(h.Button,{variant:"contained",onClick:()=>{this.setState({hasError:!1,error:null}),window.location.reload()},children:"Reload Page"})]}):this.props.children}}function w({Component:e,pageProps:s}){let a=(0,n.useRouter)();return(0,o.useEffect)(()=>{{let e=console.error,t=console.warn,r=e=>e.includes("WebSocket connection to")||e.includes("ws://localhost:3000")||e.includes("[webpack-dev-server]")||e.includes("[HMR]")||e.includes("Waiting for update signal from WDS")||e.includes("Hot Module Replacement enabled")||e.includes("Disconnected!");return console.error=(...t)=>{r(t.map(e=>"string"==typeof e?e:JSON.stringify(e)).join(" "))||e.apply(console,t)},console.warn=(...e)=>{r(e.map(e=>"string"==typeof e?e:JSON.stringify(e)).join(" "))||t.apply(console,e)},()=>{console.error=e,console.warn=t}}},[]),(0,o.useEffect)(()=>{{let e=()=>{window.g_usernameControls||(window.g_usernameControls={}),window.g_passwordControls||(window.g_passwordControls={});let e="ForCompletionList";window.g_usernameControls[e]||(window.g_usernameControls[e]=[]),window.g_passwordControls[e]||(window.g_passwordControls[e]=[]),window.g_usernameControls[e]=window.g_usernameControls[e].filter(e=>null!=e),window.g_passwordControls[e]=window.g_passwordControls[e].filter(e=>null!=e)};e();let t=setTimeout(e,100);return()=>clearTimeout(t)}},[]),(0,o.useEffect)(()=>{let e=t.default.env.NEXT_PUBLIC_GA_MEASUREMENT_ID;e&&(0,l.initAnalytics)(e)},[]),(0,o.useEffect)(()=>{let e=e=>{(0,l.trackPageView)(e,document.title)};return a.events.on("routeChangeComplete",e),()=>{a.events.off("routeChangeComplete",e)}},[a.events]),(0,r.jsx)(e,{...s})}function p(e){return(0,r.jsx)(g,{children:(0,r.jsx)(s.ThemeProviderWrapper,{children:(0,r.jsx)(a.NotificationProvider,{children:(0,r.jsx)(i.TimerProvider,{children:(0,r.jsx)(w,{...e})})})})})}e.s(["default",()=>p],54024)},13166,(e,t,r)=>{let o="/_app";(window.__NEXT_P=window.__NEXT_P||[]).push([o,()=>e.r(54024)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([o])})},9781,e=>{e.v(t=>Promise.all(["static/chunks/d62b89fe821ade37.js"].map(t=>e.l(t))).then(()=>t(94246)))},90413,e=>{e.v(t=>Promise.all(["static/chunks/1b9991f459e98f67.js"].map(t=>e.l(t))).then(()=>t(18636)))}]);