(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37451,e=>{"use strict";e.i(96335);var t=e.i(80622),a=e.i(84933),r=e.i(58891),i=e.i(81706),l=e.i(15127),n=e.i(96163),o=e.i(27446),s=e.i(62731),c=e.i(44855);let d=(0,s.default)((0,c.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),u=(0,s.default)((0,c.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),h=(0,s.default)((0,c.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var p=e.i(18420),m=e.i(96861),f=e.i(95262),x=e.i(32869),g=e.i(51480),y=e.i(13740);function v(e){return(0,y.default)("MuiCheckbox",e)}let j=(0,g.default)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),k=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],C=(0,f.default)(o.default,{shouldForwardProp:e=>(0,x.rootShouldForwardProp)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.indeterminate&&t.indeterminate,t[`size${(0,p.default)(a.size)}`],"default"!==a.color&&t[`color${(0,p.default)(a.color)}`]]}})(({theme:e,ownerState:t})=>(0,a.default)({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${"default"===t.color?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,n.alpha)("default"===t.color?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{[`&.${j.checked}, &.${j.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${j.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),b=(0,c.jsx)(u,{}),w=(0,c.jsx)(d,{}),S=(0,c.jsx)(h,{}),T=r.forwardRef(function(e,n){var o,s;let d=(0,m.useDefaultProps)({props:e,name:"MuiCheckbox"}),{checkedIcon:u=b,color:h="primary",icon:f=w,indeterminate:x=!1,indeterminateIcon:g=S,inputProps:y,size:j="medium",className:T}=d,B=(0,t.default)(d,k),F=x?g:f,I=x?g:u,z=(0,a.default)({},d,{color:h,indeterminate:x,size:j}),P=(e=>{let{classes:t,indeterminate:r,color:i,size:n}=e,o={root:["root",r&&"indeterminate",`color${(0,p.default)(i)}`,`size${(0,p.default)(n)}`]},s=(0,l.default)(o,v,t);return(0,a.default)({},t,s)})(z);return(0,c.jsx)(C,(0,a.default)({type:"checkbox",inputProps:(0,a.default)({"data-indeterminate":x},y),icon:r.cloneElement(F,{fontSize:null!=(o=F.props.fontSize)?o:j}),checkedIcon:r.cloneElement(I,{fontSize:null!=(s=I.props.fontSize)?s:j}),ownerState:z,ref:n,className:(0,i.default)(P.root,T)},B,{classes:P}))});e.s(["Checkbox",0,T],37451)},25972,(e,t,a)=>{"use strict";var r=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=r(e.r(64800)),l=e.r(44855);a.default=(0,i.default)((0,l.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"}),"Code")},20012,(e,t,a)=>{"use strict";var r=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=r(e.r(64800)),l=e.r(44855);a.default=(0,i.default)((0,l.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M9.5 16.5v-9l7 4.5z"}),"PlayCircle")},27367,(e,t,a)=>{"use strict";var r=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=r(e.r(64800)),l=e.r(44855);a.default=(0,i.default)((0,l.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite")},16875,(e,t,a)=>{"use strict";var r=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=r(e.r(64800)),l=e.r(44855);a.default=(0,i.default)((0,l.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark")},26482,e=>{"use strict";var t=e.i(58891),a=e.i(13654);function r(){let[e,r]=(0,t.useState)([]),[i,l]=(0,t.useState)([]),[n,o]=(0,t.useState)([]),[s,c]=(0,t.useState)([]),[d,u]=(0,t.useState)([]),[h,p]=(0,t.useState)([]),[m,f]=(0,t.useState)({}),[x,g]=(0,t.useState)(!1),[y,v]=(0,t.useState)(null);return{files:e,components:i,tokens:n,likedComponents:s,savedComponents:d,draftedComponents:h,componentStatuses:m,isLoading:x,error:y,fetchFiles:async()=>{try{g(!0),v(null);let e=(0,a.getBackendUrl)(),t=await (0,a.fetchWithErrorHandling)(`${e}/api/figma/files`,{method:"GET"}),i=await t.json();r(i.projects||[])}catch(e){v(e.message),console.error("Error fetching Figma files:",e)}finally{g(!1)}},fetchFile:async e=>{if(!e||"string"!=typeof e||""===e.trim()||"undefined"===e||"null"===e){let e=Error("Invalid file ID: file ID is required and must be a valid string");throw v(e.message),e}let t=e.trim();try{g(!0),v(null);let e=(0,a.getBackendUrl)(),r=await (0,a.fetchWithErrorHandling)(`${e}/api/figma/file/${t}`,{method:"GET"});return(await r.json()).file}catch(e){throw v(e?.message||"Failed to fetch Figma file"),e}finally{g(!1)}},fetchComponents:async e=>{if(!e||"string"!=typeof e||""===e.trim()||"undefined"===e||"null"===e){let e=Error("Invalid file ID: file ID is required and must be a valid string");throw v(e.message),e}let t=e.trim();try{g(!0),v(null);let e=(0,a.getBackendUrl)(),r=await (0,a.fetchWithErrorHandling)(`${e}/api/figma/file/${t}/components`,{method:"GET"}),i=await r.json();return l(i.components||[]),i.components}catch(e){throw v(e?.message||"Failed to fetch Figma components"),e}finally{g(!1)}},fetchTokens:async e=>{if(!e||"string"!=typeof e||""===e.trim()||"undefined"===e||"null"===e){let e=Error("Invalid file ID: file ID is required and must be a valid string");throw v(e.message),e}let t=e.trim();try{g(!0),v(null);let e=(0,a.getBackendUrl)(),r=await (0,a.fetchWithErrorHandling)(`${e}/api/figma/file/${t}/tokens`,{method:"GET"}),i=await r.json();return o(i.tokens||[]),i.tokens}catch(e){throw v(e?.message||"Failed to fetch Figma tokens"),e}finally{g(!1)}},likeComponent:async(e,t=!0,r)=>{try{g(!0),v(null);let i=(0,a.getBackendUrl)(),l=await (0,a.fetchWithErrorHandling)(`${i}/api/figma/component/like`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({componentId:e,liked:t,fileId:r})}),n=await l.json();return n.success&&(f(a=>({...a,[e]:{...a[e],liked:t}})),t?c(t=>t.includes(e)?t:[...t,e]):c(t=>t.filter(t=>t!==e))),n}catch(e){throw v(e?.message||"Failed to like component"),e}finally{g(!1)}},saveComponent:async(e,t=!0,r)=>{try{g(!0),v(null);let i=(0,a.getBackendUrl)(),l=await (0,a.fetchWithErrorHandling)(`${i}/api/figma/component/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({componentId:e,saved:t,fileId:r})}),n=await l.json();return n.success&&(f(a=>({...a,[e]:{...a[e],saved:t}})),t?u(t=>t.includes(e)?t:[...t,e]):u(t=>t.filter(t=>t!==e))),n}catch(e){throw v(e?.message||"Failed to save component"),e}finally{g(!1)}},draftComponent:async(e,t=!0,r)=>{try{g(!0),v(null);let i=(0,a.getBackendUrl)(),l=await (0,a.fetchWithErrorHandling)(`${i}/api/figma/component/draft`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({componentId:e,drafted:t,draftData:r})}),n=await l.json();return n.success&&(f(a=>({...a,[e]:{...a[e],drafted:t}})),t?p(t=>t.includes(e)?t:[...t,e]):p(t=>t.filter(t=>t!==e))),n}catch(e){throw v(e?.message||"Failed to draft component"),e}finally{g(!1)}},fetchLikedComponents:async()=>{try{g(!0),v(null);let e=(0,a.getBackendUrl)(),t=await (0,a.fetchWithErrorHandling)(`${e}/api/figma/components/liked`,{method:"GET"}),r=await t.json();return c(r.componentIds||[]),r.componentIds||[]}catch(e){throw v(e?.message||"Failed to fetch liked components"),e}finally{g(!1)}},fetchSavedComponents:async()=>{try{g(!0),v(null);let e=(0,a.getBackendUrl)(),t=await (0,a.fetchWithErrorHandling)(`${e}/api/figma/components/saved`,{method:"GET"}),r=await t.json();return u(r.componentIds||[]),r.componentIds||[]}catch(e){throw v(e?.message||"Failed to fetch saved components"),e}finally{g(!1)}},fetchDraftedComponents:async()=>{try{g(!0),v(null);let e=(0,a.getBackendUrl)(),t=await (0,a.fetchWithErrorHandling)(`${e}/api/figma/components/drafted`,{method:"GET"}),r=await t.json();return p(r.componentIds||[]),r.componentIds||[]}catch(e){throw v(e?.message||"Failed to fetch drafted components"),e}finally{g(!1)}},fetchComponentStatus:async e=>{try{let t=(0,a.getBackendUrl)(),r=await (0,a.fetchWithErrorHandling)(`${t}/api/figma/component/${e}/status`,{method:"GET"}),i=await r.json();return f(t=>({...t,[e]:{liked:i.liked||!1,saved:i.saved||!1,drafted:i.drafted||!1}})),i}catch(e){return console.error("Error fetching component status:",e),{liked:!1,saved:!1,drafted:!1}}},fetchComponentPreferences:async e=>{try{g(!0),v(null);let t=(0,a.getBackendUrl)(),r=e?JSON.stringify({componentIds:e}):void 0,i=await (0,a.fetchWithErrorHandling)(`${t}/api/figma/components/preferences`,{method:e?"POST":"GET",headers:e?{"Content-Type":"application/json"}:void 0,body:r}),l=await i.json();if(l.preferences){f(e=>{let t={...e};return Object.entries(l.preferences).forEach(([e,a])=>{t[e]={liked:a.liked||!1,saved:a.saved||!1,drafted:a.drafted||!1}}),t});let e=Object.entries(l.preferences).filter(([e,t])=>t.liked).map(([e])=>e),t=Object.entries(l.preferences).filter(([e,t])=>t.saved).map(([e])=>e),a=Object.entries(l.preferences).filter(([e,t])=>t.drafted).map(([e])=>e);c(e),u(t),p(a)}return l}catch(e){throw v(e?.message||"Failed to fetch component preferences"),e}finally{g(!1)}}}}e.s(["useFigma",()=>r])},38568,e=>{"use strict";var t=e.i(58891),a=e.i(13654);function r(){let[e,r]=(0,t.useState)([]),[i,l]=(0,t.useState)([]),[n,o]=(0,t.useState)(!1),[s,c]=(0,t.useState)(null),d=async e=>{try{o(!0),c(null);let t=(0,a.getBackendUrl)(),i=new URL(`${t}/api/mcp/code-links`);e&&i.searchParams.append("figmaFileId",e);let l=await fetch(i.toString(),{credentials:"include"});if(!l.ok)throw Error("Failed to fetch code links");let n=await l.json();r(n.links||[])}catch(e){c(e.message)}finally{o(!1)}},u=async()=>{try{o(!0),c(null);let e=(0,a.getBackendUrl)(),t=await fetch(`${e}/api/mcp/tokens`,{credentials:"include"});if(!t.ok)throw Error("Failed to fetch tokens");let r=await t.json();l(r.tokens||[])}catch(e){c(e.message)}finally{o(!1)}};return{links:e,tokens:i,isLoading:n,error:s,linkComponentToCode:async(e,t,r,i)=>{try{o(!0),c(null);let l=(0,a.getBackendUrl)(),n=await fetch(`${l}/api/mcp/figma-to-code`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({figmaComponentId:e,codeFilePath:t,codeComponentName:r,figmaFileId:i})});if(!n.ok)throw Error("Failed to link component");let s=await n.json();return await d(),s}catch(e){throw c(e.message),e}finally{o(!1)}},fetchCodeLinks:d,syncTokens:async e=>{try{o(!0),c(null);let t=(0,a.getBackendUrl)(),r=await fetch(`${t}/api/mcp/sync-tokens`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({tokens:e})});if(!r.ok)throw Error("Failed to sync tokens");let i=await r.json();return await u(),i}catch(e){throw c(e.message),e}finally{o(!1)}},fetchTokens:u,generateCode:async(e,t)=>{try{o(!0),c(null);let r=(0,a.getBackendUrl)(),i=await fetch(`${r}/api/mcp/generate-code`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({componentId:e,language:t})});if(!i.ok)throw Error("Failed to generate code");return await i.json()}catch(e){throw c(e.message),e}finally{o(!1)}}}}e.s(["useMCP",()=>r])},27245,43892,e=>{"use strict";var t=e.i(44855),a=e.i(58891),r=e.i(74614),i=e.i(65790),l=e.i(54704),n=e.i(15915),o=e.i(92378),s=e.i(86012),c=e.i(75557),d=e.i(98807),u=e.i(1051),h=e.i(33948),p=e.i(18295),m=e.i(92279),f=e.i(47379),x=e.i(83161),g=e.i(47617),y=e.i(39972),v=e.i(20161),j=e.i(9109),k=e.i(37025),C=e.i(45162),b=e.i(3430),w=e.i(37451),S=e.i(34699),T=e.i(25972),B=e.i(95532),F=e.i(94544);e.i(72695),e.i(94556),e.i(20012);var I=e.i(99700),z=e.i(27367),P=e.i(16875),E=e.i(24918),W=e.i(90384),M=e.i(9929),$=e.i(15254),O=e.i(13654);let R=null,D=null;try{let t=e.r(26482);R=t.useFigma||t.default?.useFigma}catch(e){console.warn("Figma hook not available:",e)}try{let t=e.r(38568);D=t.useMCP||t.default?.useMCP}catch(e){console.warn("MCP hook not available:",e)}function H(){let{user:e}=(0,$.useAuth)(),{tasks:H,createTask:L,updateTask:U,deleteTask:A,isLoading:G,error:N,authRequired:_,refresh:V,isStale:q}=(0,W.useTasks)(),J=null,K=null;try{R&&(J=R())}catch(e){console.warn("Figma hook not available:",e)}try{D&&(K=D())}catch(e){console.warn("MCP hook not available:",e)}let Q=J?.files||[],X=J?.components||[];J?.tokens;let Y=J?.componentStatuses||{};J?.isLoading;let Z=J?.error||null,ee=J?.fetchFiles||(()=>Promise.resolve()),et=J?.fetchComponents||(()=>Promise.resolve()),ea=J?.likeComponent||(()=>Promise.resolve()),er=J?.saveComponent||(()=>Promise.resolve()),ei=J?.fetchLikedComponents||(()=>Promise.resolve()),el=J?.fetchSavedComponents||(()=>Promise.resolve()),en=J?.fetchDraftedComponents||(()=>Promise.resolve()),eo=J?.fetchComponentStatus||(()=>Promise.resolve());K?.links,K?.tokens;let es=K?.linkComponentToCode||(()=>Promise.resolve()),ec=K?.fetchCodeLinks||(()=>Promise.resolve()),ed=K?.fetchTokens||(()=>Promise.resolve()),[eu,eh]=(0,a.useState)(""),[ep,em]=(0,a.useState)(!1),[ef,ex]=(0,a.useState)("create"),[eg,ey]=(0,a.useState)(null),[ev,ej]=(0,a.useState)(""),[ek,eC]=(0,a.useState)(""),[eb,ew]=(0,a.useState)(""),[eS,eT]=(0,a.useState)("pending"),[eB,eF]=(0,a.useState)(""),[eI,ez]=(0,a.useState)([]),[eP,eE]=(0,a.useState)(!1),[eW,eM]=(0,a.useState)(null),[e$,eO]=(0,a.useState)(!1),[eR,eD]=(0,a.useState)(""),[eH,eL]=(0,a.useState)(""),[eU,eA]=(0,a.useState)(""),[eG,eN]=(0,a.useState)(!1),e_=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=localStorage.getItem("workspace_markdown");e&&eh(e)},[]),(0,a.useEffect)(()=>{""!==eu&&localStorage.setItem("workspace_markdown",eu)},[eu]),(0,a.useEffect)(()=>{(async()=>{if(e&&(e.isEmployee||e.isAdmin)){eE(!0);try{let e=(0,O.getBackendUrl)(),t=await fetch(`${e}/api/creative/support-requests`,{credentials:"include"});if(t.ok){let e=await t.json();ez(e.requests||[])}}catch(e){console.error("Error fetching support requests:",e)}finally{eE(!1)}}})()},[e]),(0,a.useEffect)(()=>{R&&D&&(async()=>{try{await Promise.all([ee(),ec(),ed(),ei(),el(),en()])}catch(e){console.error("Error loading Figma data:",e)}})()},[]),(0,a.useEffect)(()=>{eW&&R&&(eN(!0),et(eW).then(()=>{X.length>0&&Promise.all(X.map(e=>eo(e.key,eW)))}).catch(e=>console.error("Error fetching components:",e)).finally(()=>eN(!1)))},[eW]);let eV=async t=>{let a=H.find(e=>e.id===t);if(!a)return;let r="completed"===a.status?"pending":"completed";try{await U(t,{status:r}),"completed"===r&&(0,M.trackTaskCompleted)(t,e?.userRole||"user","cowork")}catch(e){console.error("Error toggling task:",e)}},eq=async()=>{if(ev.trim())try{let t=eb.split(",").map(e=>e.trim()).filter(e=>e);if("create"===ef){let e=await L(ev.trim(),ek.trim(),t,eS);eB&&e?.id&&await U(e.id,{supportRequestId:eB})}else eg&&(await U(eg,{title:ev.trim(),description:ek.trim(),hyperlinks:t,status:eS,supportRequestId:eB||void 0}),"completed"===eS&&(0,M.trackTaskCompleted)(eg,e?.userRole||"user","cowork"));em(!1)}catch(e){console.error("Error saving task:",e)}},eJ=async e=>{try{await A(e)}catch(e){console.error("Error deleting task:",e)}},eK=async(e,t)=>{t.stopPropagation();let a=Y[e]?.liked||!1;try{await ea(e,!a,eW||void 0)}catch(e){console.error("Error liking component:",e)}},eQ=async(e,t)=>{t.stopPropagation();let a=Y[e]?.saved||!1;try{await er(e,!a,eW||void 0)}catch(e){console.error("Error saving component:",e)}},eX=async()=>{if(eR&&eH)try{await es(eR,eH,eU,eW||""),eO(!1),ec()}catch(e){console.error("Error linking component:",e)}};return(0,t.jsxs)(r.Box,{sx:{width:"100%"},children:[(0,t.jsxs)(l.Grid,{container:!0,spacing:3,children:[(0,t.jsx)(l.Grid,{item:!0,xs:12,lg:6,children:(0,t.jsxs)(i.Paper,{elevation:2,sx:{p:3,height:500},children:[(0,t.jsxs)(r.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,t.jsx)(n.Typography,{variant:"h5",fontWeight:700,children:"Collaborative Notes"}),(0,t.jsxs)(r.Box,{sx:{display:"flex",gap:1},children:[(0,t.jsx)(d.Tooltip,{title:"Copy all",children:(0,t.jsx)(s.IconButton,{onClick:()=>{e_.current?(e_.current.select(),document.execCommand("copy")):navigator.clipboard.writeText(eu)},size:"small",children:(0,t.jsx)(T.default,{})})}),(0,t.jsx)(c.Button,{variant:"outlined",size:"small",onClick:()=>{eh(""),localStorage.removeItem("workspace_markdown")},children:"Clear"})]})]}),(0,t.jsx)(o.TextField,{fullWidth:!0,multiline:!0,rows:15,variant:"outlined",placeholder:"Write your collaborative notes here...",value:eu,onChange:e=>eh(e.target.value),inputRef:e_,sx:{"& .MuiInputBase-root":{height:"100%",alignItems:"flex-start"}}})]})}),(0,t.jsx)(l.Grid,{item:!0,xs:12,lg:6,children:(0,t.jsxs)(i.Paper,{elevation:2,sx:{p:3,height:500,display:"flex",flexDirection:"column"},children:[(0,t.jsxs)(r.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,t.jsx)(n.Typography,{variant:"h5",fontWeight:700,children:"Tasks"}),(0,t.jsxs)(r.Box,{sx:{display:"flex",gap:1},children:[(0,t.jsx)(d.Tooltip,{title:"Refresh",children:(0,t.jsx)(s.IconButton,{onClick:V,size:"small",children:(0,t.jsx)(E.default,{})})}),(0,t.jsx)(c.Button,{variant:"contained",startIcon:(0,t.jsx)(S.default,{}),onClick:()=>{ex("create"),ey(null),ej(""),eC(""),ew(""),eT("pending"),eF(""),em(!0)},size:"small",children:"Add Task"})]})]}),N&&(0,t.jsx)(j.Alert,{severity:"error",sx:{mb:2},children:N}),q&&(0,t.jsx)(j.Alert,{severity:"info",sx:{mb:2},action:(0,t.jsx)(c.Button,{size:"small",onClick:V,children:"Refresh"}),children:"Tasks may be out of date"}),(0,t.jsxs)(r.Box,{sx:{flexGrow:1,overflow:"auto"},children:[H.map(e=>(0,t.jsx)(C.Card,{sx:{mb:2},elevation:1,children:(0,t.jsx)(b.CardContent,{sx:{py:1.5,"&:last-child":{pb:1.5}},children:(0,t.jsxs)(r.Box,{sx:{display:"flex",alignItems:"flex-start",gap:1},children:[(0,t.jsx)(w.Checkbox,{checked:"completed"===e.status,onChange:()=>eV(e.id),disabled:G,size:"small"}),(0,t.jsxs)(r.Box,{sx:{flexGrow:1,minWidth:0},children:[(0,t.jsx)(n.Typography,{variant:"subtitle1",fontWeight:500,sx:{textDecoration:"completed"===e.status?"line-through":"none"},children:e.title}),e.description&&(0,t.jsx)(n.Typography,{variant:"body2",color:"text.secondary",noWrap:!0,children:e.description}),(0,t.jsxs)(r.Box,{sx:{display:"flex",gap:.5,mt:.5,flexWrap:"wrap"},children:[(0,t.jsx)(u.Chip,{label:e.status,size:"small",color:(e=>{switch(e){case"completed":return"success";case"in-progress":return"warning";default:return"default"}})(e.status)}),e.hyperlinks&&e.hyperlinks.length>0&&(0,t.jsx)(u.Chip,{icon:(0,t.jsx)(I.default,{}),label:`${e.hyperlinks.length}`,size:"small",variant:"outlined"})]})]}),(0,t.jsxs)(r.Box,{sx:{display:"flex",gap:.5},children:[(0,t.jsx)(s.IconButton,{size:"small",onClick:()=>{ex("edit"),ey(e.id),ej(e.title),eC(e.description||""),ew(e.hyperlinks.join(", ")),eT(e.status),eF(e.supportRequestId||""),em(!0)},children:(0,t.jsx)(B.default,{fontSize:"small"})}),(0,t.jsx)(s.IconButton,{size:"small",onClick:()=>eJ(e.id),children:(0,t.jsx)(F.default,{fontSize:"small"})})]})]})})},e.id)),0===H.length&&!G&&(0,t.jsx)(r.Box,{sx:{textAlign:"center",py:4},children:(0,t.jsx)(n.Typography,{variant:"body2",color:"text.secondary",children:"No tasks yet. Add your first task to get started!"})}),G&&(0,t.jsx)(r.Box,{sx:{textAlign:"center",py:4},children:(0,t.jsx)(k.CircularProgress,{size:24})})]})]})}),(0,t.jsx)(l.Grid,{item:!0,xs:12,children:(0,t.jsxs)(i.Paper,{elevation:2,sx:{p:3,height:500,display:"flex",flexDirection:"column"},children:[(0,t.jsxs)(r.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,t.jsx)(n.Typography,{variant:"h5",fontWeight:700,children:"Design & Figma"}),(0,t.jsxs)(r.Box,{sx:{display:"flex",gap:1},children:[(0,t.jsx)(d.Tooltip,{title:"Refresh",children:(0,t.jsx)(s.IconButton,{onClick:()=>{eW?et(eW):ee()},size:"small",children:(0,t.jsx)(E.default,{})})}),(0,t.jsx)(c.Button,{variant:"outlined",size:"small",onClick:()=>eO(!0),disabled:!eW||0===X.length,children:"Link to Code"})]})]}),R&&D?(0,t.jsxs)(r.Box,{sx:{flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[Z&&(0,t.jsx)(j.Alert,{severity:"error",sx:{mb:2},children:Z}),(0,t.jsx)(r.Box,{sx:{mb:2},children:(0,t.jsxs)(x.FormControl,{fullWidth:!0,size:"small",children:[(0,t.jsx)(g.InputLabel,{children:"Select Figma File"}),(0,t.jsxs)(y.Select,{value:eW||"",label:"Select Figma File",onChange:e=>eM(e.target.value),children:[(0,t.jsx)(v.MenuItem,{value:"",children:"-- Select a file --"}),Q.map(e=>(0,t.jsx)(v.MenuItem,{value:e.key,children:e.name},e.key))]})]})}),eW&&(0,t.jsx)(r.Box,{sx:{flexGrow:1,overflow:"auto"},children:eG?(0,t.jsxs)(r.Box,{sx:{textAlign:"center",py:4},children:[(0,t.jsx)(k.CircularProgress,{size:24}),(0,t.jsx)(n.Typography,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Loading components..."})]}):(0,t.jsxs)(l.Grid,{container:!0,spacing:2,children:[X.map(e=>(0,t.jsx)(l.Grid,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,t.jsx)(C.Card,{elevation:1,children:(0,t.jsxs)(b.CardContent,{sx:{py:1.5,"&:last-child":{pb:1.5}},children:[(0,t.jsx)(n.Typography,{variant:"subtitle2",noWrap:!0,fontWeight:500,children:e.name}),(0,t.jsxs)(r.Box,{sx:{display:"flex",gap:.5,mt:1},children:[(0,t.jsx)(s.IconButton,{size:"small",onClick:t=>eK(e.key,t),color:Y[e.key]?.liked?"error":"default",children:(0,t.jsx)(z.default,{fontSize:"small"})}),(0,t.jsx)(s.IconButton,{size:"small",onClick:t=>eQ(e.key,t),color:Y[e.key]?.saved?"primary":"default",children:(0,t.jsx)(P.default,{fontSize:"small"})})]})]})})},e.key)),0===X.length&&(0,t.jsx)(l.Grid,{item:!0,xs:12,children:(0,t.jsx)(n.Typography,{variant:"body2",color:"text.secondary",textAlign:"center",py:4,children:"No components found in this file."})})]})}),!eW&&(0,t.jsx)(r.Box,{sx:{textAlign:"center",py:4},children:(0,t.jsx)(n.Typography,{variant:"body2",color:"text.secondary",children:"Select a Figma file to view components"})})]}):(0,t.jsx)(j.Alert,{severity:"info",children:"Figma integration not available. Check your configuration."})]})})]}),(0,t.jsxs)(h.Dialog,{open:ep,onClose:()=>em(!1),maxWidth:"sm",fullWidth:!0,children:[(0,t.jsx)(p.DialogTitle,{children:"create"===ef?"Add Task":"Edit Task"}),(0,t.jsxs)(m.DialogContent,{children:[(0,t.jsx)(o.TextField,{autoFocus:!0,margin:"dense",label:"Title",fullWidth:!0,variant:"outlined",value:ev,onChange:e=>ej(e.target.value),sx:{mb:2,mt:1}}),(0,t.jsx)(o.TextField,{margin:"dense",label:"Description",fullWidth:!0,variant:"outlined",multiline:!0,rows:3,value:ek,onChange:e=>eC(e.target.value),sx:{mb:2}}),(0,t.jsx)(o.TextField,{margin:"dense",label:"Hyperlinks (comma-separated)",fullWidth:!0,variant:"outlined",value:eb,onChange:e=>ew(e.target.value),placeholder:"https://example.com, https://another.com",sx:{mb:2}}),eP?(0,t.jsx)(k.CircularProgress,{size:24}):eI.length>0&&(0,t.jsxs)(x.FormControl,{fullWidth:!0,margin:"dense",sx:{mb:2},children:[(0,t.jsx)(g.InputLabel,{children:"Link to Support Request (Optional)"}),(0,t.jsxs)(y.Select,{value:eB,label:"Link to Support Request (Optional)",onChange:e=>eF(e.target.value),children:[(0,t.jsx)(v.MenuItem,{value:"",children:"None"}),eI.map(e=>(0,t.jsxs)(v.MenuItem,{value:e.id,children:[e.subject," (",e.status,")"]},e.id))]})]}),(0,t.jsxs)(x.FormControl,{fullWidth:!0,margin:"dense",children:[(0,t.jsx)(g.InputLabel,{children:"Status"}),(0,t.jsxs)(y.Select,{value:eS,label:"Status",onChange:e=>eT(e.target.value),children:[(0,t.jsx)(v.MenuItem,{value:"pending",children:"Pending"}),(0,t.jsx)(v.MenuItem,{value:"in-progress",children:"In Progress"}),(0,t.jsx)(v.MenuItem,{value:"completed",children:"Completed"})]})]})]}),(0,t.jsxs)(f.DialogActions,{children:[(0,t.jsx)(c.Button,{onClick:()=>em(!1),children:"Cancel"}),(0,t.jsx)(c.Button,{onClick:eq,variant:"contained",disabled:!ev.trim()||G||_,children:"create"===ef?"Add":"Save"})]})]}),(0,t.jsxs)(h.Dialog,{open:e$,onClose:()=>eO(!1),maxWidth:"sm",fullWidth:!0,children:[(0,t.jsx)(p.DialogTitle,{children:"Link Figma Component to Code"}),(0,t.jsxs)(m.DialogContent,{children:[(0,t.jsxs)(x.FormControl,{fullWidth:!0,margin:"dense",sx:{mb:2,mt:1},children:[(0,t.jsx)(g.InputLabel,{children:"Figma Component"}),(0,t.jsx)(y.Select,{value:eR,label:"Figma Component",onChange:e=>eD(e.target.value),children:X.map(e=>(0,t.jsx)(v.MenuItem,{value:e.key,children:e.name},e.key))})]}),(0,t.jsx)(o.TextField,{margin:"dense",label:"Code File Path",fullWidth:!0,variant:"outlined",value:eH,onChange:e=>eL(e.target.value),placeholder:"/src/components/Button.tsx",sx:{mb:2}}),(0,t.jsx)(o.TextField,{margin:"dense",label:"Component Name (Optional)",fullWidth:!0,variant:"outlined",value:eU,onChange:e=>eA(e.target.value),placeholder:"Button"})]}),(0,t.jsxs)(f.DialogActions,{children:[(0,t.jsx)(c.Button,{onClick:()=>eO(!1),children:"Cancel"}),(0,t.jsx)(c.Button,{onClick:eX,variant:"contained",disabled:!eR||!eH,children:"Link"})]})]})]})}e.s(["default",()=>H],27245),e.i(96335);var L=e.i(80622),U=e.i(84933),A=e.i(81706),G=e.i(15127),N=e.i(12396),_=e.i(18420),V=e.i(96861),q=e.i(51480),J=e.i(13740);function K(e){return(0,J.default)("MuiFab",e)}let Q=(0,q.default)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var X=e.i(95262),Y=e.i(32869);let Z=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],ee=(0,X.default)(N.default,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,Y.rootShouldForwardProp)(e)||"classes"===e,overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[a.variant],t[`size${(0,_.default)(a.size)}`],"inherit"===a.color&&t.colorInherit,t[(0,_.default)(a.size)],t[a.color]]}})(({theme:e,ownerState:t})=>{var a,r;return(0,U.default)({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:null==(a=(r=e.palette).getContrastText)?void 0:a.call(r,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${Q.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},"small"===t.size&&{width:40,height:40},"medium"===t.size&&{width:48,height:48},"extended"===t.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===t.variant&&"small"===t.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===t.variant&&"medium"===t.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===t.color&&{color:"inherit"})},({theme:e,ownerState:t})=>(0,U.default)({},"inherit"!==t.color&&"default"!==t.color&&null!=(e.vars||e).palette[t.color]&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}}),({theme:e})=>({[`&.${Q.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}})),et=a.forwardRef(function(e,a){let r=(0,V.useDefaultProps)({props:e,name:"MuiFab"}),{children:i,className:l,color:n="default",component:o="button",disabled:s=!1,disableFocusRipple:c=!1,focusVisibleClassName:d,size:u="large",variant:h="circular"}=r,p=(0,L.default)(r,Z),m=(0,U.default)({},r,{color:n,component:o,disabled:s,disableFocusRipple:c,size:u,variant:h}),f=(e=>{let{color:t,variant:a,classes:r,size:i}=e,l={root:["root",a,`size${(0,_.default)(i)}`,"inherit"===t?"colorInherit":t]},n=(0,G.default)(l,K,r);return(0,U.default)({},r,n)})(m);return(0,t.jsx)(ee,(0,U.default)({className:(0,A.default)(f.root,l),component:o,disabled:s,focusRipple:!c,focusVisibleClassName:(0,A.default)(f.focusVisible,d),ownerState:m,ref:a},p,{classes:f,children:i}))});e.s(["Fab",0,et],43892)},27796,(e,t,a)=>{"use strict";var r=e.r(91074);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=r(e.r(64800)),l=e.r(44855);a.default=(0,i.default)((0,l.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat")}]);